function VM(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function vg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var yp={exports:{}},ll={},vp={exports:{}},We={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ax;function HM(){if(Ax)return We;Ax=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function y(L){return L===null||typeof L!="object"?null:(L=m&&L[m]||L["@@iterator"],typeof L=="function"?L:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,b={};function S(L,V,K){this.props=L,this.context=V,this.refs=b,this.updater=K||v}S.prototype.isReactComponent={},S.prototype.setState=function(L,V){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,V,"setState")},S.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function N(){}N.prototype=S.prototype;function j(L,V,K){this.props=L,this.context=V,this.refs=b,this.updater=K||v}var A=j.prototype=new N;A.constructor=j,w(A,S.prototype),A.isPureReactComponent=!0;var E=Array.isArray,T=Object.prototype.hasOwnProperty,R={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function O(L,V,K){var ee,he={},pe=null,J=null;if(V!=null)for(ee in V.ref!==void 0&&(J=V.ref),V.key!==void 0&&(pe=""+V.key),V)T.call(V,ee)&&!D.hasOwnProperty(ee)&&(he[ee]=V[ee]);var ie=arguments.length-2;if(ie===1)he.children=K;else if(1<ie){for(var ke=Array(ie),fe=0;fe<ie;fe++)ke[fe]=arguments[fe+2];he.children=ke}if(L&&L.defaultProps)for(ee in ie=L.defaultProps,ie)he[ee]===void 0&&(he[ee]=ie[ee]);return{$$typeof:t,type:L,key:pe,ref:J,props:he,_owner:R.current}}function H(L,V){return{$$typeof:t,type:L.type,key:V,ref:L.ref,props:L.props,_owner:L._owner}}function Q(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function ce(L){var V={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(K){return V[K]})}var de=/\/+/g;function le(L,V){return typeof L=="object"&&L!==null&&L.key!=null?ce(""+L.key):V.toString(36)}function ue(L,V,K,ee,he){var pe=typeof L;(pe==="undefined"||pe==="boolean")&&(L=null);var J=!1;if(L===null)J=!0;else switch(pe){case"string":case"number":J=!0;break;case"object":switch(L.$$typeof){case t:case e:J=!0}}if(J)return J=L,he=he(J),L=ee===""?"."+le(J,0):ee,E(he)?(K="",L!=null&&(K=L.replace(de,"$&/")+"/"),ue(he,V,K,"",function(fe){return fe})):he!=null&&(Q(he)&&(he=H(he,K+(!he.key||J&&J.key===he.key?"":(""+he.key).replace(de,"$&/")+"/")+L)),V.push(he)),1;if(J=0,ee=ee===""?".":ee+":",E(L))for(var ie=0;ie<L.length;ie++){pe=L[ie];var ke=ee+le(pe,ie);J+=ue(pe,V,K,ke,he)}else if(ke=y(L),typeof ke=="function")for(L=ke.call(L),ie=0;!(pe=L.next()).done;)pe=pe.value,ke=ee+le(pe,ie++),J+=ue(pe,V,K,ke,he);else if(pe==="object")throw V=String(L),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return J}function re(L,V,K){if(L==null)return L;var ee=[],he=0;return ue(L,ee,"","",function(pe){return V.call(K,pe,he++)}),ee}function U(L){if(L._status===-1){var V=L._result;V=V(),V.then(function(K){(L._status===0||L._status===-1)&&(L._status=1,L._result=K)},function(K){(L._status===0||L._status===-1)&&(L._status=2,L._result=K)}),L._status===-1&&(L._status=0,L._result=V)}if(L._status===1)return L._result.default;throw L._result}var q={current:null},z={transition:null},X={ReactCurrentDispatcher:q,ReactCurrentBatchConfig:z,ReactCurrentOwner:R};function Y(){throw Error("act(...) is not supported in production builds of React.")}return We.Children={map:re,forEach:function(L,V,K){re(L,function(){V.apply(this,arguments)},K)},count:function(L){var V=0;return re(L,function(){V++}),V},toArray:function(L){return re(L,function(V){return V})||[]},only:function(L){if(!Q(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},We.Component=S,We.Fragment=n,We.Profiler=s,We.PureComponent=j,We.StrictMode=r,We.Suspense=u,We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,We.act=Y,We.cloneElement=function(L,V,K){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var ee=w({},L.props),he=L.key,pe=L.ref,J=L._owner;if(V!=null){if(V.ref!==void 0&&(pe=V.ref,J=R.current),V.key!==void 0&&(he=""+V.key),L.type&&L.type.defaultProps)var ie=L.type.defaultProps;for(ke in V)T.call(V,ke)&&!D.hasOwnProperty(ke)&&(ee[ke]=V[ke]===void 0&&ie!==void 0?ie[ke]:V[ke])}var ke=arguments.length-2;if(ke===1)ee.children=K;else if(1<ke){ie=Array(ke);for(var fe=0;fe<ke;fe++)ie[fe]=arguments[fe+2];ee.children=ie}return{$$typeof:t,type:L.type,key:he,ref:pe,props:ee,_owner:J}},We.createContext=function(L){return L={$$typeof:a,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:o,_context:L},L.Consumer=L},We.createElement=O,We.createFactory=function(L){var V=O.bind(null,L);return V.type=L,V},We.createRef=function(){return{current:null}},We.forwardRef=function(L){return{$$typeof:c,render:L}},We.isValidElement=Q,We.lazy=function(L){return{$$typeof:p,_payload:{_status:-1,_result:L},_init:U}},We.memo=function(L,V){return{$$typeof:h,type:L,compare:V===void 0?null:V}},We.startTransition=function(L){var V=z.transition;z.transition={};try{L()}finally{z.transition=V}},We.unstable_act=Y,We.useCallback=function(L,V){return q.current.useCallback(L,V)},We.useContext=function(L){return q.current.useContext(L)},We.useDebugValue=function(){},We.useDeferredValue=function(L){return q.current.useDeferredValue(L)},We.useEffect=function(L,V){return q.current.useEffect(L,V)},We.useId=function(){return q.current.useId()},We.useImperativeHandle=function(L,V,K){return q.current.useImperativeHandle(L,V,K)},We.useInsertionEffect=function(L,V){return q.current.useInsertionEffect(L,V)},We.useLayoutEffect=function(L,V){return q.current.useLayoutEffect(L,V)},We.useMemo=function(L,V){return q.current.useMemo(L,V)},We.useReducer=function(L,V,K){return q.current.useReducer(L,V,K)},We.useRef=function(L){return q.current.useRef(L)},We.useState=function(L){return q.current.useState(L)},We.useSyncExternalStore=function(L,V,K){return q.current.useSyncExternalStore(L,V,K)},We.useTransition=function(){return q.current.useTransition()},We.version="18.3.1",We}var Dx;function tc(){return Dx||(Dx=1,vp.exports=HM()),vp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rx;function UM(){if(Rx)return ll;Rx=1;var t=tc(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function a(c,u,h){var p,m={},y=null,v=null;h!==void 0&&(y=""+h),u.key!==void 0&&(y=""+u.key),u.ref!==void 0&&(v=u.ref);for(p in u)r.call(u,p)&&!o.hasOwnProperty(p)&&(m[p]=u[p]);if(c&&c.defaultProps)for(p in u=c.defaultProps,u)m[p]===void 0&&(m[p]=u[p]);return{$$typeof:e,type:c,key:y,ref:v,props:m,_owner:s.current}}return ll.Fragment=n,ll.jsx=a,ll.jsxs=a,ll}var Ox;function WM(){return Ox||(Ox=1,yp.exports=UM()),yp.exports}var d=WM(),yu={},xp={exports:{}},Ln={},bp={exports:{}},wp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ix;function KM(){return Ix||(Ix=1,(function(t){function e(z,X){var Y=z.length;z.push(X);e:for(;0<Y;){var L=Y-1>>>1,V=z[L];if(0<s(V,X))z[L]=X,z[Y]=V,Y=L;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var X=z[0],Y=z.pop();if(Y!==X){z[0]=Y;e:for(var L=0,V=z.length,K=V>>>1;L<K;){var ee=2*(L+1)-1,he=z[ee],pe=ee+1,J=z[pe];if(0>s(he,Y))pe<V&&0>s(J,he)?(z[L]=J,z[pe]=Y,L=pe):(z[L]=he,z[ee]=Y,L=ee);else if(pe<V&&0>s(J,Y))z[L]=J,z[pe]=Y,L=pe;else break e}}return X}function s(z,X){var Y=z.sortIndex-X.sortIndex;return Y!==0?Y:z.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var u=[],h=[],p=1,m=null,y=3,v=!1,w=!1,b=!1,S=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(z){for(var X=n(h);X!==null;){if(X.callback===null)r(h);else if(X.startTime<=z)r(h),X.sortIndex=X.expirationTime,e(u,X);else break;X=n(h)}}function E(z){if(b=!1,A(z),!w)if(n(u)!==null)w=!0,U(T);else{var X=n(h);X!==null&&q(E,X.startTime-z)}}function T(z,X){w=!1,b&&(b=!1,N(O),O=-1),v=!0;var Y=y;try{for(A(X),m=n(u);m!==null&&(!(m.expirationTime>X)||z&&!ce());){var L=m.callback;if(typeof L=="function"){m.callback=null,y=m.priorityLevel;var V=L(m.expirationTime<=X);X=t.unstable_now(),typeof V=="function"?m.callback=V:m===n(u)&&r(u),A(X)}else r(u);m=n(u)}if(m!==null)var K=!0;else{var ee=n(h);ee!==null&&q(E,ee.startTime-X),K=!1}return K}finally{m=null,y=Y,v=!1}}var R=!1,D=null,O=-1,H=5,Q=-1;function ce(){return!(t.unstable_now()-Q<H)}function de(){if(D!==null){var z=t.unstable_now();Q=z;var X=!0;try{X=D(!0,z)}finally{X?le():(R=!1,D=null)}}else R=!1}var le;if(typeof j=="function")le=function(){j(de)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,re=ue.port2;ue.port1.onmessage=de,le=function(){re.postMessage(null)}}else le=function(){S(de,0)};function U(z){D=z,R||(R=!0,le())}function q(z,X){O=S(function(){z(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){w||v||(w=!0,U(T))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(z){switch(y){case 1:case 2:case 3:var X=3;break;default:X=y}var Y=y;y=X;try{return z()}finally{y=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,X){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Y=y;y=z;try{return X()}finally{y=Y}},t.unstable_scheduleCallback=function(z,X,Y){var L=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?L+Y:L):Y=L,z){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=Y+V,z={id:p++,callback:X,priorityLevel:z,startTime:Y,expirationTime:V,sortIndex:-1},Y>L?(z.sortIndex=Y,e(h,z),n(u)===null&&z===n(h)&&(b?(N(O),O=-1):b=!0,q(E,Y-L))):(z.sortIndex=V,e(u,z),w||v||(w=!0,U(T))),z},t.unstable_shouldYield=ce,t.unstable_wrapCallback=function(z){var X=y;return function(){var Y=y;y=X;try{return z.apply(this,arguments)}finally{y=Y}}}})(wp)),wp}var Px;function qM(){return Px||(Px=1,bp.exports=KM()),bp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lx;function GM(){if(Lx)return Ln;Lx=1;var t=tc(),e=qM();function n(i){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+i,f=1;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function o(i,l){a(i,l),a(i+"Capture",l)}function a(i,l){for(s[i]=l,i=0;i<l.length;i++)r.add(l[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function y(i){return u.call(m,i)?!0:u.call(p,i)?!1:h.test(i)?m[i]=!0:(p[i]=!0,!1)}function v(i,l,f,g){if(f!==null&&f.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return g?!1:f!==null?!f.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function w(i,l,f,g){if(l===null||typeof l>"u"||v(i,l,f,g))return!0;if(g)return!1;if(f!==null)switch(f.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function b(i,l,f,g,x,k,M){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=g,this.attributeNamespace=x,this.mustUseProperty=f,this.propertyName=i,this.type=l,this.sanitizeURL=k,this.removeEmptyString=M}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){S[i]=new b(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var l=i[0];S[l]=new b(l,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){S[i]=new b(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){S[i]=new b(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){S[i]=new b(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){S[i]=new b(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){S[i]=new b(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){S[i]=new b(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){S[i]=new b(i,5,!1,i.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function j(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var l=i.replace(N,j);S[l]=new b(l,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var l=i.replace(N,j);S[l]=new b(l,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var l=i.replace(N,j);S[l]=new b(l,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){S[i]=new b(i,1,!1,i.toLowerCase(),null,!1,!1)}),S.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){S[i]=new b(i,1,!1,i.toLowerCase(),null,!0,!0)});function A(i,l,f,g){var x=S.hasOwnProperty(l)?S[l]:null;(x!==null?x.type!==0:g||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(w(l,f,x,g)&&(f=null),g||x===null?y(l)&&(f===null?i.removeAttribute(l):i.setAttribute(l,""+f)):x.mustUseProperty?i[x.propertyName]=f===null?x.type===3?!1:"":f:(l=x.attributeName,g=x.attributeNamespace,f===null?i.removeAttribute(l):(x=x.type,f=x===3||x===4&&f===!0?"":""+f,g?i.setAttributeNS(g,l,f):i.setAttribute(l,f))))}var E=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),R=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),ce=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),q=Symbol.for("react.offscreen"),z=Symbol.iterator;function X(i){return i===null||typeof i!="object"?null:(i=z&&i[z]||i["@@iterator"],typeof i=="function"?i:null)}var Y=Object.assign,L;function V(i){if(L===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);L=l&&l[1]||""}return`
`+L+i}var K=!1;function ee(i,l){if(!i||K)return"";K=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(B){var g=B}Reflect.construct(i,[],l)}else{try{l.call()}catch(B){g=B}i.call(l.prototype)}else{try{throw Error()}catch(B){g=B}i()}}catch(B){if(B&&g&&typeof B.stack=="string"){for(var x=B.stack.split(`
`),k=g.stack.split(`
`),M=x.length-1,I=k.length-1;1<=M&&0<=I&&x[M]!==k[I];)I--;for(;1<=M&&0<=I;M--,I--)if(x[M]!==k[I]){if(M!==1||I!==1)do if(M--,I--,0>I||x[M]!==k[I]){var P=`
`+x[M].replace(" at new "," at ");return i.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",i.displayName)),P}while(1<=M&&0<=I);break}}}finally{K=!1,Error.prepareStackTrace=f}return(i=i?i.displayName||i.name:"")?V(i):""}function he(i){switch(i.tag){case 5:return V(i.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return i=ee(i.type,!1),i;case 11:return i=ee(i.type.render,!1),i;case 1:return i=ee(i.type,!0),i;default:return""}}function pe(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case D:return"Fragment";case R:return"Portal";case H:return"Profiler";case O:return"StrictMode";case le:return"Suspense";case ue:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case ce:return(i.displayName||"Context")+".Consumer";case Q:return(i._context.displayName||"Context")+".Provider";case de:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case re:return l=i.displayName||null,l!==null?l:pe(i.type)||"Memo";case U:l=i._payload,i=i._init;try{return pe(i(l))}catch{}}return null}function J(i){var l=i.type;switch(i.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=l.render,i=i.displayName||i.name||"",l.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(l);case 8:return l===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function ie(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ke(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function fe(i){var l=ke(i)?"checked":"value",f=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),g=""+i[l];if(!i.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var x=f.get,k=f.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return x.call(this)},set:function(M){g=""+M,k.call(this,M)}}),Object.defineProperty(i,l,{enumerable:f.enumerable}),{getValue:function(){return g},setValue:function(M){g=""+M},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function _e(i){i._valueTracker||(i._valueTracker=fe(i))}function Pe(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var f=l.getValue(),g="";return i&&(g=ke(i)?i.checked?"true":"false":i.value),i=g,i!==f?(l.setValue(i),!0):!1}function rt(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function ct(i,l){var f=l.checked;return Y({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??i._wrapperState.initialChecked})}function Ht(i,l){var f=l.defaultValue==null?"":l.defaultValue,g=l.checked!=null?l.checked:l.defaultChecked;f=ie(l.value!=null?l.value:f),i._wrapperState={initialChecked:g,initialValue:f,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Ut(i,l){l=l.checked,l!=null&&A(i,"checked",l,!1)}function Wt(i,l){Ut(i,l);var f=ie(l.value),g=l.type;if(f!=null)g==="number"?(f===0&&i.value===""||i.value!=f)&&(i.value=""+f):i.value!==""+f&&(i.value=""+f);else if(g==="submit"||g==="reset"){i.removeAttribute("value");return}l.hasOwnProperty("value")?Lt(i,l.type,f):l.hasOwnProperty("defaultValue")&&Lt(i,l.type,ie(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(i.defaultChecked=!!l.defaultChecked)}function Ir(i,l,f){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var g=l.type;if(!(g!=="submit"&&g!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+i._wrapperState.initialValue,f||l===i.value||(i.value=l),i.defaultValue=l}f=i.name,f!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,f!==""&&(i.name=f)}function Lt(i,l,f){(l!=="number"||rt(i.ownerDocument)!==i)&&(f==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+f&&(i.defaultValue=""+f))}var Kt=Array.isArray;function yn(i,l,f,g){if(i=i.options,l){l={};for(var x=0;x<f.length;x++)l["$"+f[x]]=!0;for(f=0;f<i.length;f++)x=l.hasOwnProperty("$"+i[f].value),i[f].selected!==x&&(i[f].selected=x),x&&g&&(i[f].defaultSelected=!0)}else{for(f=""+ie(f),l=null,x=0;x<i.length;x++){if(i[x].value===f){i[x].selected=!0,g&&(i[x].defaultSelected=!0);return}l!==null||i[x].disabled||(l=i[x])}l!==null&&(l.selected=!0)}}function yt(i,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return Y({},l,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Tn(i,l){var f=l.value;if(f==null){if(f=l.children,l=l.defaultValue,f!=null){if(l!=null)throw Error(n(92));if(Kt(f)){if(1<f.length)throw Error(n(93));f=f[0]}l=f}l==null&&(l=""),f=l}i._wrapperState={initialValue:ie(f)}}function is(i,l){var f=ie(l.value),g=ie(l.defaultValue);f!=null&&(f=""+f,f!==i.value&&(i.value=f),l.defaultValue==null&&i.defaultValue!==f&&(i.defaultValue=f)),g!=null&&(i.defaultValue=""+g)}function Pr(i){var l=i.textContent;l===i._wrapperState.initialValue&&l!==""&&l!==null&&(i.value=l)}function Xn(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mn(i,l){return i==null||i==="http://www.w3.org/1999/xhtml"?Xn(l):i==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var me,ve=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,f,g,x){MSApp.execUnsafeLocalFunction(function(){return i(l,f,g,x)})}:i})(function(i,l){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=l;else{for(me=me||document.createElement("div"),me.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=me.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;l.firstChild;)i.appendChild(l.firstChild)}});function xe(i,l){if(l){var f=i.firstChild;if(f&&f===i.lastChild&&f.nodeType===3){f.nodeValue=l;return}}i.textContent=l}var Se={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vt=["Webkit","ms","Moz","O"];Object.keys(Se).forEach(function(i){vt.forEach(function(l){l=l+i.charAt(0).toUpperCase()+i.substring(1),Se[l]=Se[i]})});function Qn(i,l,f){return l==null||typeof l=="boolean"||l===""?"":f||typeof l!="number"||l===0||Se.hasOwnProperty(i)&&Se[i]?(""+l).trim():l+"px"}function xt(i,l){i=i.style;for(var f in l)if(l.hasOwnProperty(f)){var g=f.indexOf("--")===0,x=Qn(f,l[f],g);f==="float"&&(f="cssFloat"),g?i.setProperty(f,x):i[f]=x}}var vn=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hr(i,l){if(l){if(vn[i]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function as(i,l){if(i.indexOf("-")===-1)return typeof l.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bn=null;function At(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ls=null,Zn=null,st=null;function _t(i){if(i=qa(i)){if(typeof ls!="function")throw Error(n(280));var l=i.stateNode;l&&(l=Rc(l),ls(i.stateNode,i.type,l))}}function Ae(i){Zn?st?st.push(i):st=[i]:Zn=i}function Ze(){if(Zn){var i=Zn,l=st;if(st=Zn=null,_t(i),l)for(i=0;i<l.length;i++)_t(l[i])}}function Je(i,l){return i(l)}function et(){}var zt=!1;function ut(i,l,f){if(zt)return i(l,f);zt=!0;try{return Je(i,l,f)}finally{zt=!1,(Zn!==null||st!==null)&&(et(),Ze())}}function qe(i,l){var f=i.stateNode;if(f===null)return null;var g=Rc(f);if(g===null)return null;f=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(i=i.type,g=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!g;break e;default:i=!1}if(i)return null;if(f&&typeof f!="function")throw Error(n(231,l,typeof f));return f}var nn=!1;if(c)try{var ot={};Object.defineProperty(ot,"passive",{get:function(){nn=!0}}),window.addEventListener("test",ot,ot),window.removeEventListener("test",ot,ot)}catch{nn=!1}function wt(i,l,f,g,x,k,M,I,P){var B=Array.prototype.slice.call(arguments,3);try{l.apply(f,B)}catch(te){this.onError(te)}}var jn=!1,qt=null,An=!1,cs=null,Ma={onError:function(i){jn=!0,qt=i}};function J2(i,l,f,g,x,k,M,I,P){jn=!1,qt=null,wt.apply(Ma,arguments)}function X2(i,l,f,g,x,k,M,I,P){if(J2.apply(this,arguments),jn){if(jn){var B=qt;jn=!1,qt=null}else throw Error(n(198));An||(An=!0,cs=B)}}function _o(i){var l=i,f=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(f=l.return),i=l.return;while(i)}return l.tag===3?f:null}function Zy(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function e0(i){if(_o(i)!==i)throw Error(n(188))}function Q2(i){var l=i.alternate;if(!l){if(l=_o(i),l===null)throw Error(n(188));return l!==i?null:i}for(var f=i,g=l;;){var x=f.return;if(x===null)break;var k=x.alternate;if(k===null){if(g=x.return,g!==null){f=g;continue}break}if(x.child===k.child){for(k=x.child;k;){if(k===f)return e0(x),i;if(k===g)return e0(x),l;k=k.sibling}throw Error(n(188))}if(f.return!==g.return)f=x,g=k;else{for(var M=!1,I=x.child;I;){if(I===f){M=!0,f=x,g=k;break}if(I===g){M=!0,g=x,f=k;break}I=I.sibling}if(!M){for(I=k.child;I;){if(I===f){M=!0,f=k,g=x;break}if(I===g){M=!0,g=k,f=x;break}I=I.sibling}if(!M)throw Error(n(189))}}if(f.alternate!==g)throw Error(n(190))}if(f.tag!==3)throw Error(n(188));return f.stateNode.current===f?i:l}function t0(i){return i=Q2(i),i!==null?n0(i):null}function n0(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var l=n0(i);if(l!==null)return l;i=i.sibling}return null}var r0=e.unstable_scheduleCallback,s0=e.unstable_cancelCallback,Z2=e.unstable_shouldYield,eT=e.unstable_requestPaint,Dt=e.unstable_now,tT=e.unstable_getCurrentPriorityLevel,_f=e.unstable_ImmediatePriority,o0=e.unstable_UserBlockingPriority,fc=e.unstable_NormalPriority,nT=e.unstable_LowPriority,i0=e.unstable_IdlePriority,hc=null,Lr=null;function rT(i){if(Lr&&typeof Lr.onCommitFiberRoot=="function")try{Lr.onCommitFiberRoot(hc,i,void 0,(i.current.flags&128)===128)}catch{}}var pr=Math.clz32?Math.clz32:iT,sT=Math.log,oT=Math.LN2;function iT(i){return i>>>=0,i===0?32:31-(sT(i)/oT|0)|0}var pc=64,mc=4194304;function ja(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function gc(i,l){var f=i.pendingLanes;if(f===0)return 0;var g=0,x=i.suspendedLanes,k=i.pingedLanes,M=f&268435455;if(M!==0){var I=M&~x;I!==0?g=ja(I):(k&=M,k!==0&&(g=ja(k)))}else M=f&~x,M!==0?g=ja(M):k!==0&&(g=ja(k));if(g===0)return 0;if(l!==0&&l!==g&&(l&x)===0&&(x=g&-g,k=l&-l,x>=k||x===16&&(k&4194240)!==0))return l;if((g&4)!==0&&(g|=f&16),l=i.entangledLanes,l!==0)for(i=i.entanglements,l&=g;0<l;)f=31-pr(l),x=1<<f,g|=i[f],l&=~x;return g}function aT(i,l){switch(i){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lT(i,l){for(var f=i.suspendedLanes,g=i.pingedLanes,x=i.expirationTimes,k=i.pendingLanes;0<k;){var M=31-pr(k),I=1<<M,P=x[M];P===-1?((I&f)===0||(I&g)!==0)&&(x[M]=aT(I,l)):P<=l&&(i.expiredLanes|=I),k&=~I}}function zf(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function a0(){var i=pc;return pc<<=1,(pc&4194240)===0&&(pc=64),i}function $f(i){for(var l=[],f=0;31>f;f++)l.push(i);return l}function Aa(i,l,f){i.pendingLanes|=l,l!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,l=31-pr(l),i[l]=f}function cT(i,l){var f=i.pendingLanes&~l;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=l,i.mutableReadLanes&=l,i.entangledLanes&=l,l=i.entanglements;var g=i.eventTimes;for(i=i.expirationTimes;0<f;){var x=31-pr(f),k=1<<x;l[x]=0,g[x]=-1,i[x]=-1,f&=~k}}function Ff(i,l){var f=i.entangledLanes|=l;for(i=i.entanglements;f;){var g=31-pr(f),x=1<<g;x&l|i[g]&l&&(i[g]|=l),f&=~x}}var tt=0;function l0(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var c0,Bf,u0,d0,f0,Vf=!1,yc=[],Ls=null,_s=null,zs=null,Da=new Map,Ra=new Map,$s=[],uT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function h0(i,l){switch(i){case"focusin":case"focusout":Ls=null;break;case"dragenter":case"dragleave":_s=null;break;case"mouseover":case"mouseout":zs=null;break;case"pointerover":case"pointerout":Da.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ra.delete(l.pointerId)}}function Oa(i,l,f,g,x,k){return i===null||i.nativeEvent!==k?(i={blockedOn:l,domEventName:f,eventSystemFlags:g,nativeEvent:k,targetContainers:[x]},l!==null&&(l=qa(l),l!==null&&Bf(l)),i):(i.eventSystemFlags|=g,l=i.targetContainers,x!==null&&l.indexOf(x)===-1&&l.push(x),i)}function dT(i,l,f,g,x){switch(l){case"focusin":return Ls=Oa(Ls,i,l,f,g,x),!0;case"dragenter":return _s=Oa(_s,i,l,f,g,x),!0;case"mouseover":return zs=Oa(zs,i,l,f,g,x),!0;case"pointerover":var k=x.pointerId;return Da.set(k,Oa(Da.get(k)||null,i,l,f,g,x)),!0;case"gotpointercapture":return k=x.pointerId,Ra.set(k,Oa(Ra.get(k)||null,i,l,f,g,x)),!0}return!1}function p0(i){var l=zo(i.target);if(l!==null){var f=_o(l);if(f!==null){if(l=f.tag,l===13){if(l=Zy(f),l!==null){i.blockedOn=l,f0(i.priority,function(){u0(f)});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){i.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}i.blockedOn=null}function vc(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var f=Uf(i.domEventName,i.eventSystemFlags,l[0],i.nativeEvent);if(f===null){f=i.nativeEvent;var g=new f.constructor(f.type,f);Bn=g,f.target.dispatchEvent(g),Bn=null}else return l=qa(f),l!==null&&Bf(l),i.blockedOn=f,!1;l.shift()}return!0}function m0(i,l,f){vc(i)&&f.delete(l)}function fT(){Vf=!1,Ls!==null&&vc(Ls)&&(Ls=null),_s!==null&&vc(_s)&&(_s=null),zs!==null&&vc(zs)&&(zs=null),Da.forEach(m0),Ra.forEach(m0)}function Ia(i,l){i.blockedOn===l&&(i.blockedOn=null,Vf||(Vf=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,fT)))}function Pa(i){function l(x){return Ia(x,i)}if(0<yc.length){Ia(yc[0],i);for(var f=1;f<yc.length;f++){var g=yc[f];g.blockedOn===i&&(g.blockedOn=null)}}for(Ls!==null&&Ia(Ls,i),_s!==null&&Ia(_s,i),zs!==null&&Ia(zs,i),Da.forEach(l),Ra.forEach(l),f=0;f<$s.length;f++)g=$s[f],g.blockedOn===i&&(g.blockedOn=null);for(;0<$s.length&&(f=$s[0],f.blockedOn===null);)p0(f),f.blockedOn===null&&$s.shift()}var wi=E.ReactCurrentBatchConfig,xc=!0;function hT(i,l,f,g){var x=tt,k=wi.transition;wi.transition=null;try{tt=1,Hf(i,l,f,g)}finally{tt=x,wi.transition=k}}function pT(i,l,f,g){var x=tt,k=wi.transition;wi.transition=null;try{tt=4,Hf(i,l,f,g)}finally{tt=x,wi.transition=k}}function Hf(i,l,f,g){if(xc){var x=Uf(i,l,f,g);if(x===null)ah(i,l,g,bc,f),h0(i,g);else if(dT(x,i,l,f,g))g.stopPropagation();else if(h0(i,g),l&4&&-1<uT.indexOf(i)){for(;x!==null;){var k=qa(x);if(k!==null&&c0(k),k=Uf(i,l,f,g),k===null&&ah(i,l,g,bc,f),k===x)break;x=k}x!==null&&g.stopPropagation()}else ah(i,l,g,null,f)}}var bc=null;function Uf(i,l,f,g){if(bc=null,i=At(g),i=zo(i),i!==null)if(l=_o(i),l===null)i=null;else if(f=l.tag,f===13){if(i=Zy(l),i!==null)return i;i=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null);return bc=i,null}function g0(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tT()){case _f:return 1;case o0:return 4;case fc:case nT:return 16;case i0:return 536870912;default:return 16}default:return 16}}var Fs=null,Wf=null,wc=null;function y0(){if(wc)return wc;var i,l=Wf,f=l.length,g,x="value"in Fs?Fs.value:Fs.textContent,k=x.length;for(i=0;i<f&&l[i]===x[i];i++);var M=f-i;for(g=1;g<=M&&l[f-g]===x[k-g];g++);return wc=x.slice(i,1<g?1-g:void 0)}function kc(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function Sc(){return!0}function v0(){return!1}function Vn(i){function l(f,g,x,k,M){this._reactName=f,this._targetInst=x,this.type=g,this.nativeEvent=k,this.target=M,this.currentTarget=null;for(var I in i)i.hasOwnProperty(I)&&(f=i[I],this[I]=f?f(k):k[I]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?Sc:v0,this.isPropagationStopped=v0,this}return Y(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Sc)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Sc)},persist:function(){},isPersistent:Sc}),l}var ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kf=Vn(ki),La=Y({},ki,{view:0,detail:0}),mT=Vn(La),qf,Gf,_a,Cc=Y({},La,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jf,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==_a&&(_a&&i.type==="mousemove"?(qf=i.screenX-_a.screenX,Gf=i.screenY-_a.screenY):Gf=qf=0,_a=i),qf)},movementY:function(i){return"movementY"in i?i.movementY:Gf}}),x0=Vn(Cc),gT=Y({},Cc,{dataTransfer:0}),yT=Vn(gT),vT=Y({},La,{relatedTarget:0}),Yf=Vn(vT),xT=Y({},ki,{animationName:0,elapsedTime:0,pseudoElement:0}),bT=Vn(xT),wT=Y({},ki,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),kT=Vn(wT),ST=Y({},ki,{data:0}),b0=Vn(ST),CT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ET={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TT(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=ET[i])?!!l[i]:!1}function Jf(){return TT}var MT=Y({},La,{key:function(i){if(i.key){var l=CT[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=kc(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?NT[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jf,charCode:function(i){return i.type==="keypress"?kc(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?kc(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),jT=Vn(MT),AT=Y({},Cc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w0=Vn(AT),DT=Y({},La,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jf}),RT=Vn(DT),OT=Y({},ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),IT=Vn(OT),PT=Y({},Cc,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),LT=Vn(PT),_T=[9,13,27,32],Xf=c&&"CompositionEvent"in window,za=null;c&&"documentMode"in document&&(za=document.documentMode);var zT=c&&"TextEvent"in window&&!za,k0=c&&(!Xf||za&&8<za&&11>=za),S0=" ",C0=!1;function N0(i,l){switch(i){case"keyup":return _T.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function E0(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Si=!1;function $T(i,l){switch(i){case"compositionend":return E0(l);case"keypress":return l.which!==32?null:(C0=!0,S0);case"textInput":return i=l.data,i===S0&&C0?null:i;default:return null}}function FT(i,l){if(Si)return i==="compositionend"||!Xf&&N0(i,l)?(i=y0(),wc=Wf=Fs=null,Si=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return k0&&l.locale!=="ko"?null:l.data;default:return null}}var BT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function T0(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!BT[i.type]:l==="textarea"}function M0(i,l,f,g){Ae(g),l=jc(l,"onChange"),0<l.length&&(f=new Kf("onChange","change",null,f,g),i.push({event:f,listeners:l}))}var $a=null,Fa=null;function VT(i){K0(i,0)}function Nc(i){var l=Mi(i);if(Pe(l))return i}function HT(i,l){if(i==="change")return l}var j0=!1;if(c){var Qf;if(c){var Zf="oninput"in document;if(!Zf){var A0=document.createElement("div");A0.setAttribute("oninput","return;"),Zf=typeof A0.oninput=="function"}Qf=Zf}else Qf=!1;j0=Qf&&(!document.documentMode||9<document.documentMode)}function D0(){$a&&($a.detachEvent("onpropertychange",R0),Fa=$a=null)}function R0(i){if(i.propertyName==="value"&&Nc(Fa)){var l=[];M0(l,Fa,i,At(i)),ut(VT,l)}}function UT(i,l,f){i==="focusin"?(D0(),$a=l,Fa=f,$a.attachEvent("onpropertychange",R0)):i==="focusout"&&D0()}function WT(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Nc(Fa)}function KT(i,l){if(i==="click")return Nc(l)}function qT(i,l){if(i==="input"||i==="change")return Nc(l)}function GT(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var mr=typeof Object.is=="function"?Object.is:GT;function Ba(i,l){if(mr(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var f=Object.keys(i),g=Object.keys(l);if(f.length!==g.length)return!1;for(g=0;g<f.length;g++){var x=f[g];if(!u.call(l,x)||!mr(i[x],l[x]))return!1}return!0}function O0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function I0(i,l){var f=O0(i);i=0;for(var g;f;){if(f.nodeType===3){if(g=i+f.textContent.length,i<=l&&g>=l)return{node:f,offset:l-i};i=g}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=O0(f)}}function P0(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?P0(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function L0(){for(var i=window,l=rt();l instanceof i.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)i=l.contentWindow;else break;l=rt(i.document)}return l}function eh(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}function YT(i){var l=L0(),f=i.focusedElem,g=i.selectionRange;if(l!==f&&f&&f.ownerDocument&&P0(f.ownerDocument.documentElement,f)){if(g!==null&&eh(f)){if(l=g.start,i=g.end,i===void 0&&(i=l),"selectionStart"in f)f.selectionStart=l,f.selectionEnd=Math.min(i,f.value.length);else if(i=(l=f.ownerDocument||document)&&l.defaultView||window,i.getSelection){i=i.getSelection();var x=f.textContent.length,k=Math.min(g.start,x);g=g.end===void 0?k:Math.min(g.end,x),!i.extend&&k>g&&(x=g,g=k,k=x),x=I0(f,k);var M=I0(f,g);x&&M&&(i.rangeCount!==1||i.anchorNode!==x.node||i.anchorOffset!==x.offset||i.focusNode!==M.node||i.focusOffset!==M.offset)&&(l=l.createRange(),l.setStart(x.node,x.offset),i.removeAllRanges(),k>g?(i.addRange(l),i.extend(M.node,M.offset)):(l.setEnd(M.node,M.offset),i.addRange(l)))}}for(l=[],i=f;i=i.parentNode;)i.nodeType===1&&l.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<l.length;f++)i=l[f],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var JT=c&&"documentMode"in document&&11>=document.documentMode,Ci=null,th=null,Va=null,nh=!1;function _0(i,l,f){var g=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;nh||Ci==null||Ci!==rt(g)||(g=Ci,"selectionStart"in g&&eh(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Va&&Ba(Va,g)||(Va=g,g=jc(th,"onSelect"),0<g.length&&(l=new Kf("onSelect","select",null,l,f),i.push({event:l,listeners:g}),l.target=Ci)))}function Ec(i,l){var f={};return f[i.toLowerCase()]=l.toLowerCase(),f["Webkit"+i]="webkit"+l,f["Moz"+i]="moz"+l,f}var Ni={animationend:Ec("Animation","AnimationEnd"),animationiteration:Ec("Animation","AnimationIteration"),animationstart:Ec("Animation","AnimationStart"),transitionend:Ec("Transition","TransitionEnd")},rh={},z0={};c&&(z0=document.createElement("div").style,"AnimationEvent"in window||(delete Ni.animationend.animation,delete Ni.animationiteration.animation,delete Ni.animationstart.animation),"TransitionEvent"in window||delete Ni.transitionend.transition);function Tc(i){if(rh[i])return rh[i];if(!Ni[i])return i;var l=Ni[i],f;for(f in l)if(l.hasOwnProperty(f)&&f in z0)return rh[i]=l[f];return i}var $0=Tc("animationend"),F0=Tc("animationiteration"),B0=Tc("animationstart"),V0=Tc("transitionend"),H0=new Map,U0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bs(i,l){H0.set(i,l),o(l,[i])}for(var sh=0;sh<U0.length;sh++){var oh=U0[sh],XT=oh.toLowerCase(),QT=oh[0].toUpperCase()+oh.slice(1);Bs(XT,"on"+QT)}Bs($0,"onAnimationEnd"),Bs(F0,"onAnimationIteration"),Bs(B0,"onAnimationStart"),Bs("dblclick","onDoubleClick"),Bs("focusin","onFocus"),Bs("focusout","onBlur"),Bs(V0,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ha="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ha));function W0(i,l,f){var g=i.type||"unknown-event";i.currentTarget=f,X2(g,l,void 0,i),i.currentTarget=null}function K0(i,l){l=(l&4)!==0;for(var f=0;f<i.length;f++){var g=i[f],x=g.event;g=g.listeners;e:{var k=void 0;if(l)for(var M=g.length-1;0<=M;M--){var I=g[M],P=I.instance,B=I.currentTarget;if(I=I.listener,P!==k&&x.isPropagationStopped())break e;W0(x,I,B),k=P}else for(M=0;M<g.length;M++){if(I=g[M],P=I.instance,B=I.currentTarget,I=I.listener,P!==k&&x.isPropagationStopped())break e;W0(x,I,B),k=P}}}if(An)throw i=cs,An=!1,cs=null,i}function pt(i,l){var f=l[hh];f===void 0&&(f=l[hh]=new Set);var g=i+"__bubble";f.has(g)||(q0(l,i,2,!1),f.add(g))}function ih(i,l,f){var g=0;l&&(g|=4),q0(f,i,g,l)}var Mc="_reactListening"+Math.random().toString(36).slice(2);function Ua(i){if(!i[Mc]){i[Mc]=!0,r.forEach(function(f){f!=="selectionchange"&&(ZT.has(f)||ih(f,!1,i),ih(f,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[Mc]||(l[Mc]=!0,ih("selectionchange",!1,l))}}function q0(i,l,f,g){switch(g0(l)){case 1:var x=hT;break;case 4:x=pT;break;default:x=Hf}f=x.bind(null,l,f,i),x=void 0,!nn||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(x=!0),g?x!==void 0?i.addEventListener(l,f,{capture:!0,passive:x}):i.addEventListener(l,f,!0):x!==void 0?i.addEventListener(l,f,{passive:x}):i.addEventListener(l,f,!1)}function ah(i,l,f,g,x){var k=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var M=g.tag;if(M===3||M===4){var I=g.stateNode.containerInfo;if(I===x||I.nodeType===8&&I.parentNode===x)break;if(M===4)for(M=g.return;M!==null;){var P=M.tag;if((P===3||P===4)&&(P=M.stateNode.containerInfo,P===x||P.nodeType===8&&P.parentNode===x))return;M=M.return}for(;I!==null;){if(M=zo(I),M===null)return;if(P=M.tag,P===5||P===6){g=k=M;continue e}I=I.parentNode}}g=g.return}ut(function(){var B=k,te=At(f),se=[];e:{var Z=H0.get(i);if(Z!==void 0){var ge=Kf,Ce=i;switch(i){case"keypress":if(kc(f)===0)break e;case"keydown":case"keyup":ge=jT;break;case"focusin":Ce="focus",ge=Yf;break;case"focusout":Ce="blur",ge=Yf;break;case"beforeblur":case"afterblur":ge=Yf;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=x0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=yT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=RT;break;case $0:case F0:case B0:ge=bT;break;case V0:ge=IT;break;case"scroll":ge=mT;break;case"wheel":ge=LT;break;case"copy":case"cut":case"paste":ge=kT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=w0}var Te=(l&4)!==0,Rt=!Te&&i==="scroll",$=Te?Z!==null?Z+"Capture":null:Z;Te=[];for(var _=B,F;_!==null;){F=_;var ae=F.stateNode;if(F.tag===5&&ae!==null&&(F=ae,$!==null&&(ae=qe(_,$),ae!=null&&Te.push(Wa(_,ae,F)))),Rt)break;_=_.return}0<Te.length&&(Z=new ge(Z,Ce,null,f,te),se.push({event:Z,listeners:Te}))}}if((l&7)===0){e:{if(Z=i==="mouseover"||i==="pointerover",ge=i==="mouseout"||i==="pointerout",Z&&f!==Bn&&(Ce=f.relatedTarget||f.fromElement)&&(zo(Ce)||Ce[us]))break e;if((ge||Z)&&(Z=te.window===te?te:(Z=te.ownerDocument)?Z.defaultView||Z.parentWindow:window,ge?(Ce=f.relatedTarget||f.toElement,ge=B,Ce=Ce?zo(Ce):null,Ce!==null&&(Rt=_o(Ce),Ce!==Rt||Ce.tag!==5&&Ce.tag!==6)&&(Ce=null)):(ge=null,Ce=B),ge!==Ce)){if(Te=x0,ae="onMouseLeave",$="onMouseEnter",_="mouse",(i==="pointerout"||i==="pointerover")&&(Te=w0,ae="onPointerLeave",$="onPointerEnter",_="pointer"),Rt=ge==null?Z:Mi(ge),F=Ce==null?Z:Mi(Ce),Z=new Te(ae,_+"leave",ge,f,te),Z.target=Rt,Z.relatedTarget=F,ae=null,zo(te)===B&&(Te=new Te($,_+"enter",Ce,f,te),Te.target=F,Te.relatedTarget=Rt,ae=Te),Rt=ae,ge&&Ce)t:{for(Te=ge,$=Ce,_=0,F=Te;F;F=Ei(F))_++;for(F=0,ae=$;ae;ae=Ei(ae))F++;for(;0<_-F;)Te=Ei(Te),_--;for(;0<F-_;)$=Ei($),F--;for(;_--;){if(Te===$||$!==null&&Te===$.alternate)break t;Te=Ei(Te),$=Ei($)}Te=null}else Te=null;ge!==null&&G0(se,Z,ge,Te,!1),Ce!==null&&Rt!==null&&G0(se,Rt,Ce,Te,!0)}}e:{if(Z=B?Mi(B):window,ge=Z.nodeName&&Z.nodeName.toLowerCase(),ge==="select"||ge==="input"&&Z.type==="file")var Me=HT;else if(T0(Z))if(j0)Me=qT;else{Me=WT;var Oe=UT}else(ge=Z.nodeName)&&ge.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(Me=KT);if(Me&&(Me=Me(i,B))){M0(se,Me,f,te);break e}Oe&&Oe(i,Z,B),i==="focusout"&&(Oe=Z._wrapperState)&&Oe.controlled&&Z.type==="number"&&Lt(Z,"number",Z.value)}switch(Oe=B?Mi(B):window,i){case"focusin":(T0(Oe)||Oe.contentEditable==="true")&&(Ci=Oe,th=B,Va=null);break;case"focusout":Va=th=Ci=null;break;case"mousedown":nh=!0;break;case"contextmenu":case"mouseup":case"dragend":nh=!1,_0(se,f,te);break;case"selectionchange":if(JT)break;case"keydown":case"keyup":_0(se,f,te)}var Ie;if(Xf)e:{switch(i){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Si?N0(i,f)&&(Le="onCompositionEnd"):i==="keydown"&&f.keyCode===229&&(Le="onCompositionStart");Le&&(k0&&f.locale!=="ko"&&(Si||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Si&&(Ie=y0()):(Fs=te,Wf="value"in Fs?Fs.value:Fs.textContent,Si=!0)),Oe=jc(B,Le),0<Oe.length&&(Le=new b0(Le,i,null,f,te),se.push({event:Le,listeners:Oe}),Ie?Le.data=Ie:(Ie=E0(f),Ie!==null&&(Le.data=Ie)))),(Ie=zT?$T(i,f):FT(i,f))&&(B=jc(B,"onBeforeInput"),0<B.length&&(te=new b0("onBeforeInput","beforeinput",null,f,te),se.push({event:te,listeners:B}),te.data=Ie))}K0(se,l)})}function Wa(i,l,f){return{instance:i,listener:l,currentTarget:f}}function jc(i,l){for(var f=l+"Capture",g=[];i!==null;){var x=i,k=x.stateNode;x.tag===5&&k!==null&&(x=k,k=qe(i,f),k!=null&&g.unshift(Wa(i,k,x)),k=qe(i,l),k!=null&&g.push(Wa(i,k,x))),i=i.return}return g}function Ei(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function G0(i,l,f,g,x){for(var k=l._reactName,M=[];f!==null&&f!==g;){var I=f,P=I.alternate,B=I.stateNode;if(P!==null&&P===g)break;I.tag===5&&B!==null&&(I=B,x?(P=qe(f,k),P!=null&&M.unshift(Wa(f,P,I))):x||(P=qe(f,k),P!=null&&M.push(Wa(f,P,I)))),f=f.return}M.length!==0&&i.push({event:l,listeners:M})}var eM=/\r\n?/g,tM=/\u0000|\uFFFD/g;function Y0(i){return(typeof i=="string"?i:""+i).replace(eM,`
`).replace(tM,"")}function Ac(i,l,f){if(l=Y0(l),Y0(i)!==l&&f)throw Error(n(425))}function Dc(){}var lh=null,ch=null;function uh(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var dh=typeof setTimeout=="function"?setTimeout:void 0,nM=typeof clearTimeout=="function"?clearTimeout:void 0,J0=typeof Promise=="function"?Promise:void 0,rM=typeof queueMicrotask=="function"?queueMicrotask:typeof J0<"u"?function(i){return J0.resolve(null).then(i).catch(sM)}:dh;function sM(i){setTimeout(function(){throw i})}function fh(i,l){var f=l,g=0;do{var x=f.nextSibling;if(i.removeChild(f),x&&x.nodeType===8)if(f=x.data,f==="/$"){if(g===0){i.removeChild(x),Pa(l);return}g--}else f!=="$"&&f!=="$?"&&f!=="$!"||g++;f=x}while(f);Pa(l)}function Vs(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return i}function X0(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var f=i.data;if(f==="$"||f==="$!"||f==="$?"){if(l===0)return i;l--}else f==="/$"&&l++}i=i.previousSibling}return null}var Ti=Math.random().toString(36).slice(2),_r="__reactFiber$"+Ti,Ka="__reactProps$"+Ti,us="__reactContainer$"+Ti,hh="__reactEvents$"+Ti,oM="__reactListeners$"+Ti,iM="__reactHandles$"+Ti;function zo(i){var l=i[_r];if(l)return l;for(var f=i.parentNode;f;){if(l=f[us]||f[_r]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(i=X0(i);i!==null;){if(f=i[_r])return f;i=X0(i)}return l}i=f,f=i.parentNode}return null}function qa(i){return i=i[_r]||i[us],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Mi(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function Rc(i){return i[Ka]||null}var ph=[],ji=-1;function Hs(i){return{current:i}}function mt(i){0>ji||(i.current=ph[ji],ph[ji]=null,ji--)}function ft(i,l){ji++,ph[ji]=i.current,i.current=l}var Us={},un=Hs(Us),Dn=Hs(!1),$o=Us;function Ai(i,l){var f=i.type.contextTypes;if(!f)return Us;var g=i.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===l)return g.__reactInternalMemoizedMaskedChildContext;var x={},k;for(k in f)x[k]=l[k];return g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=l,i.__reactInternalMemoizedMaskedChildContext=x),x}function Rn(i){return i=i.childContextTypes,i!=null}function Oc(){mt(Dn),mt(un)}function Q0(i,l,f){if(un.current!==Us)throw Error(n(168));ft(un,l),ft(Dn,f)}function Z0(i,l,f){var g=i.stateNode;if(l=l.childContextTypes,typeof g.getChildContext!="function")return f;g=g.getChildContext();for(var x in g)if(!(x in l))throw Error(n(108,J(i)||"Unknown",x));return Y({},f,g)}function Ic(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Us,$o=un.current,ft(un,i),ft(Dn,Dn.current),!0}function ev(i,l,f){var g=i.stateNode;if(!g)throw Error(n(169));f?(i=Z0(i,l,$o),g.__reactInternalMemoizedMergedChildContext=i,mt(Dn),mt(un),ft(un,i)):mt(Dn),ft(Dn,f)}var ds=null,Pc=!1,mh=!1;function tv(i){ds===null?ds=[i]:ds.push(i)}function aM(i){Pc=!0,tv(i)}function Ws(){if(!mh&&ds!==null){mh=!0;var i=0,l=tt;try{var f=ds;for(tt=1;i<f.length;i++){var g=f[i];do g=g(!0);while(g!==null)}ds=null,Pc=!1}catch(x){throw ds!==null&&(ds=ds.slice(i+1)),r0(_f,Ws),x}finally{tt=l,mh=!1}}return null}var Di=[],Ri=0,Lc=null,_c=0,er=[],tr=0,Fo=null,fs=1,hs="";function Bo(i,l){Di[Ri++]=_c,Di[Ri++]=Lc,Lc=i,_c=l}function nv(i,l,f){er[tr++]=fs,er[tr++]=hs,er[tr++]=Fo,Fo=i;var g=fs;i=hs;var x=32-pr(g)-1;g&=~(1<<x),f+=1;var k=32-pr(l)+x;if(30<k){var M=x-x%5;k=(g&(1<<M)-1).toString(32),g>>=M,x-=M,fs=1<<32-pr(l)+x|f<<x|g,hs=k+i}else fs=1<<k|f<<x|g,hs=i}function gh(i){i.return!==null&&(Bo(i,1),nv(i,1,0))}function yh(i){for(;i===Lc;)Lc=Di[--Ri],Di[Ri]=null,_c=Di[--Ri],Di[Ri]=null;for(;i===Fo;)Fo=er[--tr],er[tr]=null,hs=er[--tr],er[tr]=null,fs=er[--tr],er[tr]=null}var Hn=null,Un=null,bt=!1,gr=null;function rv(i,l){var f=or(5,null,null,0);f.elementType="DELETED",f.stateNode=l,f.return=i,l=i.deletions,l===null?(i.deletions=[f],i.flags|=16):l.push(f)}function sv(i,l){switch(i.tag){case 5:var f=i.type;return l=l.nodeType!==1||f.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(i.stateNode=l,Hn=i,Un=Vs(l.firstChild),!0):!1;case 6:return l=i.pendingProps===""||l.nodeType!==3?null:l,l!==null?(i.stateNode=l,Hn=i,Un=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(f=Fo!==null?{id:fs,overflow:hs}:null,i.memoizedState={dehydrated:l,treeContext:f,retryLane:1073741824},f=or(18,null,null,0),f.stateNode=l,f.return=i,i.child=f,Hn=i,Un=null,!0):!1;default:return!1}}function vh(i){return(i.mode&1)!==0&&(i.flags&128)===0}function xh(i){if(bt){var l=Un;if(l){var f=l;if(!sv(i,l)){if(vh(i))throw Error(n(418));l=Vs(f.nextSibling);var g=Hn;l&&sv(i,l)?rv(g,f):(i.flags=i.flags&-4097|2,bt=!1,Hn=i)}}else{if(vh(i))throw Error(n(418));i.flags=i.flags&-4097|2,bt=!1,Hn=i}}}function ov(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Hn=i}function zc(i){if(i!==Hn)return!1;if(!bt)return ov(i),bt=!0,!1;var l;if((l=i.tag!==3)&&!(l=i.tag!==5)&&(l=i.type,l=l!=="head"&&l!=="body"&&!uh(i.type,i.memoizedProps)),l&&(l=Un)){if(vh(i))throw iv(),Error(n(418));for(;l;)rv(i,l),l=Vs(l.nextSibling)}if(ov(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8){var f=i.data;if(f==="/$"){if(l===0){Un=Vs(i.nextSibling);break e}l--}else f!=="$"&&f!=="$!"&&f!=="$?"||l++}i=i.nextSibling}Un=null}}else Un=Hn?Vs(i.stateNode.nextSibling):null;return!0}function iv(){for(var i=Un;i;)i=Vs(i.nextSibling)}function Oi(){Un=Hn=null,bt=!1}function bh(i){gr===null?gr=[i]:gr.push(i)}var lM=E.ReactCurrentBatchConfig;function Ga(i,l,f){if(i=f.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(n(309));var g=f.stateNode}if(!g)throw Error(n(147,i));var x=g,k=""+i;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===k?l.ref:(l=function(M){var I=x.refs;M===null?delete I[k]:I[k]=M},l._stringRef=k,l)}if(typeof i!="string")throw Error(n(284));if(!f._owner)throw Error(n(290,i))}return i}function $c(i,l){throw i=Object.prototype.toString.call(l),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i))}function av(i){var l=i._init;return l(i._payload)}function lv(i){function l($,_){if(i){var F=$.deletions;F===null?($.deletions=[_],$.flags|=16):F.push(_)}}function f($,_){if(!i)return null;for(;_!==null;)l($,_),_=_.sibling;return null}function g($,_){for($=new Map;_!==null;)_.key!==null?$.set(_.key,_):$.set(_.index,_),_=_.sibling;return $}function x($,_){return $=Zs($,_),$.index=0,$.sibling=null,$}function k($,_,F){return $.index=F,i?(F=$.alternate,F!==null?(F=F.index,F<_?($.flags|=2,_):F):($.flags|=2,_)):($.flags|=1048576,_)}function M($){return i&&$.alternate===null&&($.flags|=2),$}function I($,_,F,ae){return _===null||_.tag!==6?(_=dp(F,$.mode,ae),_.return=$,_):(_=x(_,F),_.return=$,_)}function P($,_,F,ae){var Me=F.type;return Me===D?te($,_,F.props.children,ae,F.key):_!==null&&(_.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===U&&av(Me)===_.type)?(ae=x(_,F.props),ae.ref=Ga($,_,F),ae.return=$,ae):(ae=cu(F.type,F.key,F.props,null,$.mode,ae),ae.ref=Ga($,_,F),ae.return=$,ae)}function B($,_,F,ae){return _===null||_.tag!==4||_.stateNode.containerInfo!==F.containerInfo||_.stateNode.implementation!==F.implementation?(_=fp(F,$.mode,ae),_.return=$,_):(_=x(_,F.children||[]),_.return=$,_)}function te($,_,F,ae,Me){return _===null||_.tag!==7?(_=Yo(F,$.mode,ae,Me),_.return=$,_):(_=x(_,F),_.return=$,_)}function se($,_,F){if(typeof _=="string"&&_!==""||typeof _=="number")return _=dp(""+_,$.mode,F),_.return=$,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case T:return F=cu(_.type,_.key,_.props,null,$.mode,F),F.ref=Ga($,null,_),F.return=$,F;case R:return _=fp(_,$.mode,F),_.return=$,_;case U:var ae=_._init;return se($,ae(_._payload),F)}if(Kt(_)||X(_))return _=Yo(_,$.mode,F,null),_.return=$,_;$c($,_)}return null}function Z($,_,F,ae){var Me=_!==null?_.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return Me!==null?null:I($,_,""+F,ae);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case T:return F.key===Me?P($,_,F,ae):null;case R:return F.key===Me?B($,_,F,ae):null;case U:return Me=F._init,Z($,_,Me(F._payload),ae)}if(Kt(F)||X(F))return Me!==null?null:te($,_,F,ae,null);$c($,F)}return null}function ge($,_,F,ae,Me){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return $=$.get(F)||null,I(_,$,""+ae,Me);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case T:return $=$.get(ae.key===null?F:ae.key)||null,P(_,$,ae,Me);case R:return $=$.get(ae.key===null?F:ae.key)||null,B(_,$,ae,Me);case U:var Oe=ae._init;return ge($,_,F,Oe(ae._payload),Me)}if(Kt(ae)||X(ae))return $=$.get(F)||null,te(_,$,ae,Me,null);$c(_,ae)}return null}function Ce($,_,F,ae){for(var Me=null,Oe=null,Ie=_,Le=_=0,Jt=null;Ie!==null&&Le<F.length;Le++){Ie.index>Le?(Jt=Ie,Ie=null):Jt=Ie.sibling;var Xe=Z($,Ie,F[Le],ae);if(Xe===null){Ie===null&&(Ie=Jt);break}i&&Ie&&Xe.alternate===null&&l($,Ie),_=k(Xe,_,Le),Oe===null?Me=Xe:Oe.sibling=Xe,Oe=Xe,Ie=Jt}if(Le===F.length)return f($,Ie),bt&&Bo($,Le),Me;if(Ie===null){for(;Le<F.length;Le++)Ie=se($,F[Le],ae),Ie!==null&&(_=k(Ie,_,Le),Oe===null?Me=Ie:Oe.sibling=Ie,Oe=Ie);return bt&&Bo($,Le),Me}for(Ie=g($,Ie);Le<F.length;Le++)Jt=ge(Ie,$,Le,F[Le],ae),Jt!==null&&(i&&Jt.alternate!==null&&Ie.delete(Jt.key===null?Le:Jt.key),_=k(Jt,_,Le),Oe===null?Me=Jt:Oe.sibling=Jt,Oe=Jt);return i&&Ie.forEach(function(eo){return l($,eo)}),bt&&Bo($,Le),Me}function Te($,_,F,ae){var Me=X(F);if(typeof Me!="function")throw Error(n(150));if(F=Me.call(F),F==null)throw Error(n(151));for(var Oe=Me=null,Ie=_,Le=_=0,Jt=null,Xe=F.next();Ie!==null&&!Xe.done;Le++,Xe=F.next()){Ie.index>Le?(Jt=Ie,Ie=null):Jt=Ie.sibling;var eo=Z($,Ie,Xe.value,ae);if(eo===null){Ie===null&&(Ie=Jt);break}i&&Ie&&eo.alternate===null&&l($,Ie),_=k(eo,_,Le),Oe===null?Me=eo:Oe.sibling=eo,Oe=eo,Ie=Jt}if(Xe.done)return f($,Ie),bt&&Bo($,Le),Me;if(Ie===null){for(;!Xe.done;Le++,Xe=F.next())Xe=se($,Xe.value,ae),Xe!==null&&(_=k(Xe,_,Le),Oe===null?Me=Xe:Oe.sibling=Xe,Oe=Xe);return bt&&Bo($,Le),Me}for(Ie=g($,Ie);!Xe.done;Le++,Xe=F.next())Xe=ge(Ie,$,Le,Xe.value,ae),Xe!==null&&(i&&Xe.alternate!==null&&Ie.delete(Xe.key===null?Le:Xe.key),_=k(Xe,_,Le),Oe===null?Me=Xe:Oe.sibling=Xe,Oe=Xe);return i&&Ie.forEach(function(BM){return l($,BM)}),bt&&Bo($,Le),Me}function Rt($,_,F,ae){if(typeof F=="object"&&F!==null&&F.type===D&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case T:e:{for(var Me=F.key,Oe=_;Oe!==null;){if(Oe.key===Me){if(Me=F.type,Me===D){if(Oe.tag===7){f($,Oe.sibling),_=x(Oe,F.props.children),_.return=$,$=_;break e}}else if(Oe.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===U&&av(Me)===Oe.type){f($,Oe.sibling),_=x(Oe,F.props),_.ref=Ga($,Oe,F),_.return=$,$=_;break e}f($,Oe);break}else l($,Oe);Oe=Oe.sibling}F.type===D?(_=Yo(F.props.children,$.mode,ae,F.key),_.return=$,$=_):(ae=cu(F.type,F.key,F.props,null,$.mode,ae),ae.ref=Ga($,_,F),ae.return=$,$=ae)}return M($);case R:e:{for(Oe=F.key;_!==null;){if(_.key===Oe)if(_.tag===4&&_.stateNode.containerInfo===F.containerInfo&&_.stateNode.implementation===F.implementation){f($,_.sibling),_=x(_,F.children||[]),_.return=$,$=_;break e}else{f($,_);break}else l($,_);_=_.sibling}_=fp(F,$.mode,ae),_.return=$,$=_}return M($);case U:return Oe=F._init,Rt($,_,Oe(F._payload),ae)}if(Kt(F))return Ce($,_,F,ae);if(X(F))return Te($,_,F,ae);$c($,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,_!==null&&_.tag===6?(f($,_.sibling),_=x(_,F),_.return=$,$=_):(f($,_),_=dp(F,$.mode,ae),_.return=$,$=_),M($)):f($,_)}return Rt}var Ii=lv(!0),cv=lv(!1),Fc=Hs(null),Bc=null,Pi=null,wh=null;function kh(){wh=Pi=Bc=null}function Sh(i){var l=Fc.current;mt(Fc),i._currentValue=l}function Ch(i,l,f){for(;i!==null;){var g=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),i===f)break;i=i.return}}function Li(i,l){Bc=i,wh=Pi=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&l)!==0&&(On=!0),i.firstContext=null)}function nr(i){var l=i._currentValue;if(wh!==i)if(i={context:i,memoizedValue:l,next:null},Pi===null){if(Bc===null)throw Error(n(308));Pi=i,Bc.dependencies={lanes:0,firstContext:i}}else Pi=Pi.next=i;return l}var Vo=null;function Nh(i){Vo===null?Vo=[i]:Vo.push(i)}function uv(i,l,f,g){var x=l.interleaved;return x===null?(f.next=f,Nh(l)):(f.next=x.next,x.next=f),l.interleaved=f,ps(i,g)}function ps(i,l){i.lanes|=l;var f=i.alternate;for(f!==null&&(f.lanes|=l),f=i,i=i.return;i!==null;)i.childLanes|=l,f=i.alternate,f!==null&&(f.childLanes|=l),f=i,i=i.return;return f.tag===3?f.stateNode:null}var Ks=!1;function Eh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dv(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function ms(i,l){return{eventTime:i,lane:l,tag:0,payload:null,callback:null,next:null}}function qs(i,l,f){var g=i.updateQueue;if(g===null)return null;if(g=g.shared,(Ye&2)!==0){var x=g.pending;return x===null?l.next=l:(l.next=x.next,x.next=l),g.pending=l,ps(i,f)}return x=g.interleaved,x===null?(l.next=l,Nh(g)):(l.next=x.next,x.next=l),g.interleaved=l,ps(i,f)}function Vc(i,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194240)!==0)){var g=l.lanes;g&=i.pendingLanes,f|=g,l.lanes=f,Ff(i,f)}}function fv(i,l){var f=i.updateQueue,g=i.alternate;if(g!==null&&(g=g.updateQueue,f===g)){var x=null,k=null;if(f=f.firstBaseUpdate,f!==null){do{var M={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};k===null?x=k=M:k=k.next=M,f=f.next}while(f!==null);k===null?x=k=l:k=k.next=l}else x=k=l;f={baseState:g.baseState,firstBaseUpdate:x,lastBaseUpdate:k,shared:g.shared,effects:g.effects},i.updateQueue=f;return}i=f.lastBaseUpdate,i===null?f.firstBaseUpdate=l:i.next=l,f.lastBaseUpdate=l}function Hc(i,l,f,g){var x=i.updateQueue;Ks=!1;var k=x.firstBaseUpdate,M=x.lastBaseUpdate,I=x.shared.pending;if(I!==null){x.shared.pending=null;var P=I,B=P.next;P.next=null,M===null?k=B:M.next=B,M=P;var te=i.alternate;te!==null&&(te=te.updateQueue,I=te.lastBaseUpdate,I!==M&&(I===null?te.firstBaseUpdate=B:I.next=B,te.lastBaseUpdate=P))}if(k!==null){var se=x.baseState;M=0,te=B=P=null,I=k;do{var Z=I.lane,ge=I.eventTime;if((g&Z)===Z){te!==null&&(te=te.next={eventTime:ge,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var Ce=i,Te=I;switch(Z=l,ge=f,Te.tag){case 1:if(Ce=Te.payload,typeof Ce=="function"){se=Ce.call(ge,se,Z);break e}se=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Te.payload,Z=typeof Ce=="function"?Ce.call(ge,se,Z):Ce,Z==null)break e;se=Y({},se,Z);break e;case 2:Ks=!0}}I.callback!==null&&I.lane!==0&&(i.flags|=64,Z=x.effects,Z===null?x.effects=[I]:Z.push(I))}else ge={eventTime:ge,lane:Z,tag:I.tag,payload:I.payload,callback:I.callback,next:null},te===null?(B=te=ge,P=se):te=te.next=ge,M|=Z;if(I=I.next,I===null){if(I=x.shared.pending,I===null)break;Z=I,I=Z.next,Z.next=null,x.lastBaseUpdate=Z,x.shared.pending=null}}while(!0);if(te===null&&(P=se),x.baseState=P,x.firstBaseUpdate=B,x.lastBaseUpdate=te,l=x.shared.interleaved,l!==null){x=l;do M|=x.lane,x=x.next;while(x!==l)}else k===null&&(x.shared.lanes=0);Wo|=M,i.lanes=M,i.memoizedState=se}}function hv(i,l,f){if(i=l.effects,l.effects=null,i!==null)for(l=0;l<i.length;l++){var g=i[l],x=g.callback;if(x!==null){if(g.callback=null,g=f,typeof x!="function")throw Error(n(191,x));x.call(g)}}}var Ya={},zr=Hs(Ya),Ja=Hs(Ya),Xa=Hs(Ya);function Ho(i){if(i===Ya)throw Error(n(174));return i}function Th(i,l){switch(ft(Xa,l),ft(Ja,i),ft(zr,Ya),i=l.nodeType,i){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Mn(null,"");break;default:i=i===8?l.parentNode:l,l=i.namespaceURI||null,i=i.tagName,l=Mn(l,i)}mt(zr),ft(zr,l)}function _i(){mt(zr),mt(Ja),mt(Xa)}function pv(i){Ho(Xa.current);var l=Ho(zr.current),f=Mn(l,i.type);l!==f&&(ft(Ja,i),ft(zr,f))}function Mh(i){Ja.current===i&&(mt(zr),mt(Ja))}var kt=Hs(0);function Uc(i){for(var l=i;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var jh=[];function Ah(){for(var i=0;i<jh.length;i++)jh[i]._workInProgressVersionPrimary=null;jh.length=0}var Wc=E.ReactCurrentDispatcher,Dh=E.ReactCurrentBatchConfig,Uo=0,St=null,$t=null,Gt=null,Kc=!1,Qa=!1,Za=0,cM=0;function dn(){throw Error(n(321))}function Rh(i,l){if(l===null)return!1;for(var f=0;f<l.length&&f<i.length;f++)if(!mr(i[f],l[f]))return!1;return!0}function Oh(i,l,f,g,x,k){if(Uo=k,St=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Wc.current=i===null||i.memoizedState===null?hM:pM,i=f(g,x),Qa){k=0;do{if(Qa=!1,Za=0,25<=k)throw Error(n(301));k+=1,Gt=$t=null,l.updateQueue=null,Wc.current=mM,i=f(g,x)}while(Qa)}if(Wc.current=Yc,l=$t!==null&&$t.next!==null,Uo=0,Gt=$t=St=null,Kc=!1,l)throw Error(n(300));return i}function Ih(){var i=Za!==0;return Za=0,i}function $r(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?St.memoizedState=Gt=i:Gt=Gt.next=i,Gt}function rr(){if($t===null){var i=St.alternate;i=i!==null?i.memoizedState:null}else i=$t.next;var l=Gt===null?St.memoizedState:Gt.next;if(l!==null)Gt=l,$t=i;else{if(i===null)throw Error(n(310));$t=i,i={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Gt===null?St.memoizedState=Gt=i:Gt=Gt.next=i}return Gt}function el(i,l){return typeof l=="function"?l(i):l}function Ph(i){var l=rr(),f=l.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=i;var g=$t,x=g.baseQueue,k=f.pending;if(k!==null){if(x!==null){var M=x.next;x.next=k.next,k.next=M}g.baseQueue=x=k,f.pending=null}if(x!==null){k=x.next,g=g.baseState;var I=M=null,P=null,B=k;do{var te=B.lane;if((Uo&te)===te)P!==null&&(P=P.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),g=B.hasEagerState?B.eagerState:i(g,B.action);else{var se={lane:te,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};P===null?(I=P=se,M=g):P=P.next=se,St.lanes|=te,Wo|=te}B=B.next}while(B!==null&&B!==k);P===null?M=g:P.next=I,mr(g,l.memoizedState)||(On=!0),l.memoizedState=g,l.baseState=M,l.baseQueue=P,f.lastRenderedState=g}if(i=f.interleaved,i!==null){x=i;do k=x.lane,St.lanes|=k,Wo|=k,x=x.next;while(x!==i)}else x===null&&(f.lanes=0);return[l.memoizedState,f.dispatch]}function Lh(i){var l=rr(),f=l.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=i;var g=f.dispatch,x=f.pending,k=l.memoizedState;if(x!==null){f.pending=null;var M=x=x.next;do k=i(k,M.action),M=M.next;while(M!==x);mr(k,l.memoizedState)||(On=!0),l.memoizedState=k,l.baseQueue===null&&(l.baseState=k),f.lastRenderedState=k}return[k,g]}function mv(){}function gv(i,l){var f=St,g=rr(),x=l(),k=!mr(g.memoizedState,x);if(k&&(g.memoizedState=x,On=!0),g=g.queue,_h(xv.bind(null,f,g,i),[i]),g.getSnapshot!==l||k||Gt!==null&&Gt.memoizedState.tag&1){if(f.flags|=2048,tl(9,vv.bind(null,f,g,x,l),void 0,null),Yt===null)throw Error(n(349));(Uo&30)!==0||yv(f,l,x)}return x}function yv(i,l,f){i.flags|=16384,i={getSnapshot:l,value:f},l=St.updateQueue,l===null?(l={lastEffect:null,stores:null},St.updateQueue=l,l.stores=[i]):(f=l.stores,f===null?l.stores=[i]:f.push(i))}function vv(i,l,f,g){l.value=f,l.getSnapshot=g,bv(l)&&wv(i)}function xv(i,l,f){return f(function(){bv(l)&&wv(i)})}function bv(i){var l=i.getSnapshot;i=i.value;try{var f=l();return!mr(i,f)}catch{return!0}}function wv(i){var l=ps(i,1);l!==null&&br(l,i,1,-1)}function kv(i){var l=$r();return typeof i=="function"&&(i=i()),l.memoizedState=l.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:el,lastRenderedState:i},l.queue=i,i=i.dispatch=fM.bind(null,St,i),[l.memoizedState,i]}function tl(i,l,f,g){return i={tag:i,create:l,destroy:f,deps:g,next:null},l=St.updateQueue,l===null?(l={lastEffect:null,stores:null},St.updateQueue=l,l.lastEffect=i.next=i):(f=l.lastEffect,f===null?l.lastEffect=i.next=i:(g=f.next,f.next=i,i.next=g,l.lastEffect=i)),i}function Sv(){return rr().memoizedState}function qc(i,l,f,g){var x=$r();St.flags|=i,x.memoizedState=tl(1|l,f,void 0,g===void 0?null:g)}function Gc(i,l,f,g){var x=rr();g=g===void 0?null:g;var k=void 0;if($t!==null){var M=$t.memoizedState;if(k=M.destroy,g!==null&&Rh(g,M.deps)){x.memoizedState=tl(l,f,k,g);return}}St.flags|=i,x.memoizedState=tl(1|l,f,k,g)}function Cv(i,l){return qc(8390656,8,i,l)}function _h(i,l){return Gc(2048,8,i,l)}function Nv(i,l){return Gc(4,2,i,l)}function Ev(i,l){return Gc(4,4,i,l)}function Tv(i,l){if(typeof l=="function")return i=i(),l(i),function(){l(null)};if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function Mv(i,l,f){return f=f!=null?f.concat([i]):null,Gc(4,4,Tv.bind(null,l,i),f)}function zh(){}function jv(i,l){var f=rr();l=l===void 0?null:l;var g=f.memoizedState;return g!==null&&l!==null&&Rh(l,g[1])?g[0]:(f.memoizedState=[i,l],i)}function Av(i,l){var f=rr();l=l===void 0?null:l;var g=f.memoizedState;return g!==null&&l!==null&&Rh(l,g[1])?g[0]:(i=i(),f.memoizedState=[i,l],i)}function Dv(i,l,f){return(Uo&21)===0?(i.baseState&&(i.baseState=!1,On=!0),i.memoizedState=f):(mr(f,l)||(f=a0(),St.lanes|=f,Wo|=f,i.baseState=!0),l)}function uM(i,l){var f=tt;tt=f!==0&&4>f?f:4,i(!0);var g=Dh.transition;Dh.transition={};try{i(!1),l()}finally{tt=f,Dh.transition=g}}function Rv(){return rr().memoizedState}function dM(i,l,f){var g=Xs(i);if(f={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null},Ov(i))Iv(l,f);else if(f=uv(i,l,f,g),f!==null){var x=bn();br(f,i,g,x),Pv(f,l,g)}}function fM(i,l,f){var g=Xs(i),x={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null};if(Ov(i))Iv(l,x);else{var k=i.alternate;if(i.lanes===0&&(k===null||k.lanes===0)&&(k=l.lastRenderedReducer,k!==null))try{var M=l.lastRenderedState,I=k(M,f);if(x.hasEagerState=!0,x.eagerState=I,mr(I,M)){var P=l.interleaved;P===null?(x.next=x,Nh(l)):(x.next=P.next,P.next=x),l.interleaved=x;return}}catch{}finally{}f=uv(i,l,x,g),f!==null&&(x=bn(),br(f,i,g,x),Pv(f,l,g))}}function Ov(i){var l=i.alternate;return i===St||l!==null&&l===St}function Iv(i,l){Qa=Kc=!0;var f=i.pending;f===null?l.next=l:(l.next=f.next,f.next=l),i.pending=l}function Pv(i,l,f){if((f&4194240)!==0){var g=l.lanes;g&=i.pendingLanes,f|=g,l.lanes=f,Ff(i,f)}}var Yc={readContext:nr,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useInsertionEffect:dn,useLayoutEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useMutableSource:dn,useSyncExternalStore:dn,useId:dn,unstable_isNewReconciler:!1},hM={readContext:nr,useCallback:function(i,l){return $r().memoizedState=[i,l===void 0?null:l],i},useContext:nr,useEffect:Cv,useImperativeHandle:function(i,l,f){return f=f!=null?f.concat([i]):null,qc(4194308,4,Tv.bind(null,l,i),f)},useLayoutEffect:function(i,l){return qc(4194308,4,i,l)},useInsertionEffect:function(i,l){return qc(4,2,i,l)},useMemo:function(i,l){var f=$r();return l=l===void 0?null:l,i=i(),f.memoizedState=[i,l],i},useReducer:function(i,l,f){var g=$r();return l=f!==void 0?f(l):l,g.memoizedState=g.baseState=l,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:l},g.queue=i,i=i.dispatch=dM.bind(null,St,i),[g.memoizedState,i]},useRef:function(i){var l=$r();return i={current:i},l.memoizedState=i},useState:kv,useDebugValue:zh,useDeferredValue:function(i){return $r().memoizedState=i},useTransition:function(){var i=kv(!1),l=i[0];return i=uM.bind(null,i[1]),$r().memoizedState=i,[l,i]},useMutableSource:function(){},useSyncExternalStore:function(i,l,f){var g=St,x=$r();if(bt){if(f===void 0)throw Error(n(407));f=f()}else{if(f=l(),Yt===null)throw Error(n(349));(Uo&30)!==0||yv(g,l,f)}x.memoizedState=f;var k={value:f,getSnapshot:l};return x.queue=k,Cv(xv.bind(null,g,k,i),[i]),g.flags|=2048,tl(9,vv.bind(null,g,k,f,l),void 0,null),f},useId:function(){var i=$r(),l=Yt.identifierPrefix;if(bt){var f=hs,g=fs;f=(g&~(1<<32-pr(g)-1)).toString(32)+f,l=":"+l+"R"+f,f=Za++,0<f&&(l+="H"+f.toString(32)),l+=":"}else f=cM++,l=":"+l+"r"+f.toString(32)+":";return i.memoizedState=l},unstable_isNewReconciler:!1},pM={readContext:nr,useCallback:jv,useContext:nr,useEffect:_h,useImperativeHandle:Mv,useInsertionEffect:Nv,useLayoutEffect:Ev,useMemo:Av,useReducer:Ph,useRef:Sv,useState:function(){return Ph(el)},useDebugValue:zh,useDeferredValue:function(i){var l=rr();return Dv(l,$t.memoizedState,i)},useTransition:function(){var i=Ph(el)[0],l=rr().memoizedState;return[i,l]},useMutableSource:mv,useSyncExternalStore:gv,useId:Rv,unstable_isNewReconciler:!1},mM={readContext:nr,useCallback:jv,useContext:nr,useEffect:_h,useImperativeHandle:Mv,useInsertionEffect:Nv,useLayoutEffect:Ev,useMemo:Av,useReducer:Lh,useRef:Sv,useState:function(){return Lh(el)},useDebugValue:zh,useDeferredValue:function(i){var l=rr();return $t===null?l.memoizedState=i:Dv(l,$t.memoizedState,i)},useTransition:function(){var i=Lh(el)[0],l=rr().memoizedState;return[i,l]},useMutableSource:mv,useSyncExternalStore:gv,useId:Rv,unstable_isNewReconciler:!1};function yr(i,l){if(i&&i.defaultProps){l=Y({},l),i=i.defaultProps;for(var f in i)l[f]===void 0&&(l[f]=i[f]);return l}return l}function $h(i,l,f,g){l=i.memoizedState,f=f(g,l),f=f==null?l:Y({},l,f),i.memoizedState=f,i.lanes===0&&(i.updateQueue.baseState=f)}var Jc={isMounted:function(i){return(i=i._reactInternals)?_o(i)===i:!1},enqueueSetState:function(i,l,f){i=i._reactInternals;var g=bn(),x=Xs(i),k=ms(g,x);k.payload=l,f!=null&&(k.callback=f),l=qs(i,k,x),l!==null&&(br(l,i,x,g),Vc(l,i,x))},enqueueReplaceState:function(i,l,f){i=i._reactInternals;var g=bn(),x=Xs(i),k=ms(g,x);k.tag=1,k.payload=l,f!=null&&(k.callback=f),l=qs(i,k,x),l!==null&&(br(l,i,x,g),Vc(l,i,x))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var f=bn(),g=Xs(i),x=ms(f,g);x.tag=2,l!=null&&(x.callback=l),l=qs(i,x,g),l!==null&&(br(l,i,g,f),Vc(l,i,g))}};function Lv(i,l,f,g,x,k,M){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(g,k,M):l.prototype&&l.prototype.isPureReactComponent?!Ba(f,g)||!Ba(x,k):!0}function _v(i,l,f){var g=!1,x=Us,k=l.contextType;return typeof k=="object"&&k!==null?k=nr(k):(x=Rn(l)?$o:un.current,g=l.contextTypes,k=(g=g!=null)?Ai(i,x):Us),l=new l(f,k),i.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Jc,i.stateNode=l,l._reactInternals=i,g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=x,i.__reactInternalMemoizedMaskedChildContext=k),l}function zv(i,l,f,g){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,g),l.state!==i&&Jc.enqueueReplaceState(l,l.state,null)}function Fh(i,l,f,g){var x=i.stateNode;x.props=f,x.state=i.memoizedState,x.refs={},Eh(i);var k=l.contextType;typeof k=="object"&&k!==null?x.context=nr(k):(k=Rn(l)?$o:un.current,x.context=Ai(i,k)),x.state=i.memoizedState,k=l.getDerivedStateFromProps,typeof k=="function"&&($h(i,l,k,f),x.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(l=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),l!==x.state&&Jc.enqueueReplaceState(x,x.state,null),Hc(i,f,x,g),x.state=i.memoizedState),typeof x.componentDidMount=="function"&&(i.flags|=4194308)}function zi(i,l){try{var f="",g=l;do f+=he(g),g=g.return;while(g);var x=f}catch(k){x=`
Error generating stack: `+k.message+`
`+k.stack}return{value:i,source:l,stack:x,digest:null}}function Bh(i,l,f){return{value:i,source:null,stack:f??null,digest:l??null}}function Vh(i,l){try{console.error(l.value)}catch(f){setTimeout(function(){throw f})}}var gM=typeof WeakMap=="function"?WeakMap:Map;function $v(i,l,f){f=ms(-1,f),f.tag=3,f.payload={element:null};var g=l.value;return f.callback=function(){ru||(ru=!0,rp=g),Vh(i,l)},f}function Fv(i,l,f){f=ms(-1,f),f.tag=3;var g=i.type.getDerivedStateFromError;if(typeof g=="function"){var x=l.value;f.payload=function(){return g(x)},f.callback=function(){Vh(i,l)}}var k=i.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(f.callback=function(){Vh(i,l),typeof g!="function"&&(Ys===null?Ys=new Set([this]):Ys.add(this));var M=l.stack;this.componentDidCatch(l.value,{componentStack:M!==null?M:""})}),f}function Bv(i,l,f){var g=i.pingCache;if(g===null){g=i.pingCache=new gM;var x=new Set;g.set(l,x)}else x=g.get(l),x===void 0&&(x=new Set,g.set(l,x));x.has(f)||(x.add(f),i=AM.bind(null,i,l,f),l.then(i,i))}function Vv(i){do{var l;if((l=i.tag===13)&&(l=i.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return i;i=i.return}while(i!==null);return null}function Hv(i,l,f,g,x){return(i.mode&1)===0?(i===l?i.flags|=65536:(i.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(l=ms(-1,1),l.tag=2,qs(f,l,1))),f.lanes|=1),i):(i.flags|=65536,i.lanes=x,i)}var yM=E.ReactCurrentOwner,On=!1;function xn(i,l,f,g){l.child=i===null?cv(l,null,f,g):Ii(l,i.child,f,g)}function Uv(i,l,f,g,x){f=f.render;var k=l.ref;return Li(l,x),g=Oh(i,l,f,g,k,x),f=Ih(),i!==null&&!On?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~x,gs(i,l,x)):(bt&&f&&gh(l),l.flags|=1,xn(i,l,g,x),l.child)}function Wv(i,l,f,g,x){if(i===null){var k=f.type;return typeof k=="function"&&!up(k)&&k.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(l.tag=15,l.type=k,Kv(i,l,k,g,x)):(i=cu(f.type,null,g,l,l.mode,x),i.ref=l.ref,i.return=l,l.child=i)}if(k=i.child,(i.lanes&x)===0){var M=k.memoizedProps;if(f=f.compare,f=f!==null?f:Ba,f(M,g)&&i.ref===l.ref)return gs(i,l,x)}return l.flags|=1,i=Zs(k,g),i.ref=l.ref,i.return=l,l.child=i}function Kv(i,l,f,g,x){if(i!==null){var k=i.memoizedProps;if(Ba(k,g)&&i.ref===l.ref)if(On=!1,l.pendingProps=g=k,(i.lanes&x)!==0)(i.flags&131072)!==0&&(On=!0);else return l.lanes=i.lanes,gs(i,l,x)}return Hh(i,l,f,g,x)}function qv(i,l,f){var g=l.pendingProps,x=g.children,k=i!==null?i.memoizedState:null;if(g.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},ft(Fi,Wn),Wn|=f;else{if((f&1073741824)===0)return i=k!==null?k.baseLanes|f:f,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:i,cachePool:null,transitions:null},l.updateQueue=null,ft(Fi,Wn),Wn|=i,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=k!==null?k.baseLanes:f,ft(Fi,Wn),Wn|=g}else k!==null?(g=k.baseLanes|f,l.memoizedState=null):g=f,ft(Fi,Wn),Wn|=g;return xn(i,l,x,f),l.child}function Gv(i,l){var f=l.ref;(i===null&&f!==null||i!==null&&i.ref!==f)&&(l.flags|=512,l.flags|=2097152)}function Hh(i,l,f,g,x){var k=Rn(f)?$o:un.current;return k=Ai(l,k),Li(l,x),f=Oh(i,l,f,g,k,x),g=Ih(),i!==null&&!On?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~x,gs(i,l,x)):(bt&&g&&gh(l),l.flags|=1,xn(i,l,f,x),l.child)}function Yv(i,l,f,g,x){if(Rn(f)){var k=!0;Ic(l)}else k=!1;if(Li(l,x),l.stateNode===null)Qc(i,l),_v(l,f,g),Fh(l,f,g,x),g=!0;else if(i===null){var M=l.stateNode,I=l.memoizedProps;M.props=I;var P=M.context,B=f.contextType;typeof B=="object"&&B!==null?B=nr(B):(B=Rn(f)?$o:un.current,B=Ai(l,B));var te=f.getDerivedStateFromProps,se=typeof te=="function"||typeof M.getSnapshotBeforeUpdate=="function";se||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(I!==g||P!==B)&&zv(l,M,g,B),Ks=!1;var Z=l.memoizedState;M.state=Z,Hc(l,g,M,x),P=l.memoizedState,I!==g||Z!==P||Dn.current||Ks?(typeof te=="function"&&($h(l,f,te,g),P=l.memoizedState),(I=Ks||Lv(l,f,I,g,Z,P,B))?(se||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(l.flags|=4194308)):(typeof M.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=P),M.props=g,M.state=P,M.context=B,g=I):(typeof M.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{M=l.stateNode,dv(i,l),I=l.memoizedProps,B=l.type===l.elementType?I:yr(l.type,I),M.props=B,se=l.pendingProps,Z=M.context,P=f.contextType,typeof P=="object"&&P!==null?P=nr(P):(P=Rn(f)?$o:un.current,P=Ai(l,P));var ge=f.getDerivedStateFromProps;(te=typeof ge=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(I!==se||Z!==P)&&zv(l,M,g,P),Ks=!1,Z=l.memoizedState,M.state=Z,Hc(l,g,M,x);var Ce=l.memoizedState;I!==se||Z!==Ce||Dn.current||Ks?(typeof ge=="function"&&($h(l,f,ge,g),Ce=l.memoizedState),(B=Ks||Lv(l,f,B,g,Z,Ce,P)||!1)?(te||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(g,Ce,P),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(g,Ce,P)),typeof M.componentDidUpdate=="function"&&(l.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof M.componentDidUpdate!="function"||I===i.memoizedProps&&Z===i.memoizedState||(l.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||I===i.memoizedProps&&Z===i.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=Ce),M.props=g,M.state=Ce,M.context=P,g=B):(typeof M.componentDidUpdate!="function"||I===i.memoizedProps&&Z===i.memoizedState||(l.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||I===i.memoizedProps&&Z===i.memoizedState||(l.flags|=1024),g=!1)}return Uh(i,l,f,g,k,x)}function Uh(i,l,f,g,x,k){Gv(i,l);var M=(l.flags&128)!==0;if(!g&&!M)return x&&ev(l,f,!1),gs(i,l,k);g=l.stateNode,yM.current=l;var I=M&&typeof f.getDerivedStateFromError!="function"?null:g.render();return l.flags|=1,i!==null&&M?(l.child=Ii(l,i.child,null,k),l.child=Ii(l,null,I,k)):xn(i,l,I,k),l.memoizedState=g.state,x&&ev(l,f,!0),l.child}function Jv(i){var l=i.stateNode;l.pendingContext?Q0(i,l.pendingContext,l.pendingContext!==l.context):l.context&&Q0(i,l.context,!1),Th(i,l.containerInfo)}function Xv(i,l,f,g,x){return Oi(),bh(x),l.flags|=256,xn(i,l,f,g),l.child}var Wh={dehydrated:null,treeContext:null,retryLane:0};function Kh(i){return{baseLanes:i,cachePool:null,transitions:null}}function Qv(i,l,f){var g=l.pendingProps,x=kt.current,k=!1,M=(l.flags&128)!==0,I;if((I=M)||(I=i!==null&&i.memoizedState===null?!1:(x&2)!==0),I?(k=!0,l.flags&=-129):(i===null||i.memoizedState!==null)&&(x|=1),ft(kt,x&1),i===null)return xh(l),i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((l.mode&1)===0?l.lanes=1:i.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(M=g.children,i=g.fallback,k?(g=l.mode,k=l.child,M={mode:"hidden",children:M},(g&1)===0&&k!==null?(k.childLanes=0,k.pendingProps=M):k=uu(M,g,0,null),i=Yo(i,g,f,null),k.return=l,i.return=l,k.sibling=i,l.child=k,l.child.memoizedState=Kh(f),l.memoizedState=Wh,i):qh(l,M));if(x=i.memoizedState,x!==null&&(I=x.dehydrated,I!==null))return vM(i,l,M,g,I,x,f);if(k){k=g.fallback,M=l.mode,x=i.child,I=x.sibling;var P={mode:"hidden",children:g.children};return(M&1)===0&&l.child!==x?(g=l.child,g.childLanes=0,g.pendingProps=P,l.deletions=null):(g=Zs(x,P),g.subtreeFlags=x.subtreeFlags&14680064),I!==null?k=Zs(I,k):(k=Yo(k,M,f,null),k.flags|=2),k.return=l,g.return=l,g.sibling=k,l.child=g,g=k,k=l.child,M=i.child.memoizedState,M=M===null?Kh(f):{baseLanes:M.baseLanes|f,cachePool:null,transitions:M.transitions},k.memoizedState=M,k.childLanes=i.childLanes&~f,l.memoizedState=Wh,g}return k=i.child,i=k.sibling,g=Zs(k,{mode:"visible",children:g.children}),(l.mode&1)===0&&(g.lanes=f),g.return=l,g.sibling=null,i!==null&&(f=l.deletions,f===null?(l.deletions=[i],l.flags|=16):f.push(i)),l.child=g,l.memoizedState=null,g}function qh(i,l){return l=uu({mode:"visible",children:l},i.mode,0,null),l.return=i,i.child=l}function Xc(i,l,f,g){return g!==null&&bh(g),Ii(l,i.child,null,f),i=qh(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function vM(i,l,f,g,x,k,M){if(f)return l.flags&256?(l.flags&=-257,g=Bh(Error(n(422))),Xc(i,l,M,g)):l.memoizedState!==null?(l.child=i.child,l.flags|=128,null):(k=g.fallback,x=l.mode,g=uu({mode:"visible",children:g.children},x,0,null),k=Yo(k,x,M,null),k.flags|=2,g.return=l,k.return=l,g.sibling=k,l.child=g,(l.mode&1)!==0&&Ii(l,i.child,null,M),l.child.memoizedState=Kh(M),l.memoizedState=Wh,k);if((l.mode&1)===0)return Xc(i,l,M,null);if(x.data==="$!"){if(g=x.nextSibling&&x.nextSibling.dataset,g)var I=g.dgst;return g=I,k=Error(n(419)),g=Bh(k,g,void 0),Xc(i,l,M,g)}if(I=(M&i.childLanes)!==0,On||I){if(g=Yt,g!==null){switch(M&-M){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(g.suspendedLanes|M))!==0?0:x,x!==0&&x!==k.retryLane&&(k.retryLane=x,ps(i,x),br(g,i,x,-1))}return cp(),g=Bh(Error(n(421))),Xc(i,l,M,g)}return x.data==="$?"?(l.flags|=128,l.child=i.child,l=DM.bind(null,i),x._reactRetry=l,null):(i=k.treeContext,Un=Vs(x.nextSibling),Hn=l,bt=!0,gr=null,i!==null&&(er[tr++]=fs,er[tr++]=hs,er[tr++]=Fo,fs=i.id,hs=i.overflow,Fo=l),l=qh(l,g.children),l.flags|=4096,l)}function Zv(i,l,f){i.lanes|=l;var g=i.alternate;g!==null&&(g.lanes|=l),Ch(i.return,l,f)}function Gh(i,l,f,g,x){var k=i.memoizedState;k===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:x}:(k.isBackwards=l,k.rendering=null,k.renderingStartTime=0,k.last=g,k.tail=f,k.tailMode=x)}function ex(i,l,f){var g=l.pendingProps,x=g.revealOrder,k=g.tail;if(xn(i,l,g.children,f),g=kt.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Zv(i,f,l);else if(i.tag===19)Zv(i,f,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}g&=1}if(ft(kt,g),(l.mode&1)===0)l.memoizedState=null;else switch(x){case"forwards":for(f=l.child,x=null;f!==null;)i=f.alternate,i!==null&&Uc(i)===null&&(x=f),f=f.sibling;f=x,f===null?(x=l.child,l.child=null):(x=f.sibling,f.sibling=null),Gh(l,!1,x,f,k);break;case"backwards":for(f=null,x=l.child,l.child=null;x!==null;){if(i=x.alternate,i!==null&&Uc(i)===null){l.child=x;break}i=x.sibling,x.sibling=f,f=x,x=i}Gh(l,!0,f,null,k);break;case"together":Gh(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Qc(i,l){(l.mode&1)===0&&i!==null&&(i.alternate=null,l.alternate=null,l.flags|=2)}function gs(i,l,f){if(i!==null&&(l.dependencies=i.dependencies),Wo|=l.lanes,(f&l.childLanes)===0)return null;if(i!==null&&l.child!==i.child)throw Error(n(153));if(l.child!==null){for(i=l.child,f=Zs(i,i.pendingProps),l.child=f,f.return=l;i.sibling!==null;)i=i.sibling,f=f.sibling=Zs(i,i.pendingProps),f.return=l;f.sibling=null}return l.child}function xM(i,l,f){switch(l.tag){case 3:Jv(l),Oi();break;case 5:pv(l);break;case 1:Rn(l.type)&&Ic(l);break;case 4:Th(l,l.stateNode.containerInfo);break;case 10:var g=l.type._context,x=l.memoizedProps.value;ft(Fc,g._currentValue),g._currentValue=x;break;case 13:if(g=l.memoizedState,g!==null)return g.dehydrated!==null?(ft(kt,kt.current&1),l.flags|=128,null):(f&l.child.childLanes)!==0?Qv(i,l,f):(ft(kt,kt.current&1),i=gs(i,l,f),i!==null?i.sibling:null);ft(kt,kt.current&1);break;case 19:if(g=(f&l.childLanes)!==0,(i.flags&128)!==0){if(g)return ex(i,l,f);l.flags|=128}if(x=l.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),ft(kt,kt.current),g)break;return null;case 22:case 23:return l.lanes=0,qv(i,l,f)}return gs(i,l,f)}var tx,Yh,nx,rx;tx=function(i,l){for(var f=l.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},Yh=function(){},nx=function(i,l,f,g){var x=i.memoizedProps;if(x!==g){i=l.stateNode,Ho(zr.current);var k=null;switch(f){case"input":x=ct(i,x),g=ct(i,g),k=[];break;case"select":x=Y({},x,{value:void 0}),g=Y({},g,{value:void 0}),k=[];break;case"textarea":x=yt(i,x),g=yt(i,g),k=[];break;default:typeof x.onClick!="function"&&typeof g.onClick=="function"&&(i.onclick=Dc)}hr(f,g);var M;f=null;for(B in x)if(!g.hasOwnProperty(B)&&x.hasOwnProperty(B)&&x[B]!=null)if(B==="style"){var I=x[B];for(M in I)I.hasOwnProperty(M)&&(f||(f={}),f[M]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(s.hasOwnProperty(B)?k||(k=[]):(k=k||[]).push(B,null));for(B in g){var P=g[B];if(I=x?.[B],g.hasOwnProperty(B)&&P!==I&&(P!=null||I!=null))if(B==="style")if(I){for(M in I)!I.hasOwnProperty(M)||P&&P.hasOwnProperty(M)||(f||(f={}),f[M]="");for(M in P)P.hasOwnProperty(M)&&I[M]!==P[M]&&(f||(f={}),f[M]=P[M])}else f||(k||(k=[]),k.push(B,f)),f=P;else B==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,I=I?I.__html:void 0,P!=null&&I!==P&&(k=k||[]).push(B,P)):B==="children"?typeof P!="string"&&typeof P!="number"||(k=k||[]).push(B,""+P):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(s.hasOwnProperty(B)?(P!=null&&B==="onScroll"&&pt("scroll",i),k||I===P||(k=[])):(k=k||[]).push(B,P))}f&&(k=k||[]).push("style",f);var B=k;(l.updateQueue=B)&&(l.flags|=4)}},rx=function(i,l,f,g){f!==g&&(l.flags|=4)};function nl(i,l){if(!bt)switch(i.tailMode){case"hidden":l=i.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?i.tail=null:f.sibling=null;break;case"collapsed":f=i.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:g.sibling=null}}function fn(i){var l=i.alternate!==null&&i.alternate.child===i.child,f=0,g=0;if(l)for(var x=i.child;x!==null;)f|=x.lanes|x.childLanes,g|=x.subtreeFlags&14680064,g|=x.flags&14680064,x.return=i,x=x.sibling;else for(x=i.child;x!==null;)f|=x.lanes|x.childLanes,g|=x.subtreeFlags,g|=x.flags,x.return=i,x=x.sibling;return i.subtreeFlags|=g,i.childLanes=f,l}function bM(i,l,f){var g=l.pendingProps;switch(yh(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fn(l),null;case 1:return Rn(l.type)&&Oc(),fn(l),null;case 3:return g=l.stateNode,_i(),mt(Dn),mt(un),Ah(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(i===null||i.child===null)&&(zc(l)?l.flags|=4:i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,gr!==null&&(ip(gr),gr=null))),Yh(i,l),fn(l),null;case 5:Mh(l);var x=Ho(Xa.current);if(f=l.type,i!==null&&l.stateNode!=null)nx(i,l,f,g,x),i.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!g){if(l.stateNode===null)throw Error(n(166));return fn(l),null}if(i=Ho(zr.current),zc(l)){g=l.stateNode,f=l.type;var k=l.memoizedProps;switch(g[_r]=l,g[Ka]=k,i=(l.mode&1)!==0,f){case"dialog":pt("cancel",g),pt("close",g);break;case"iframe":case"object":case"embed":pt("load",g);break;case"video":case"audio":for(x=0;x<Ha.length;x++)pt(Ha[x],g);break;case"source":pt("error",g);break;case"img":case"image":case"link":pt("error",g),pt("load",g);break;case"details":pt("toggle",g);break;case"input":Ht(g,k),pt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!k.multiple},pt("invalid",g);break;case"textarea":Tn(g,k),pt("invalid",g)}hr(f,k),x=null;for(var M in k)if(k.hasOwnProperty(M)){var I=k[M];M==="children"?typeof I=="string"?g.textContent!==I&&(k.suppressHydrationWarning!==!0&&Ac(g.textContent,I,i),x=["children",I]):typeof I=="number"&&g.textContent!==""+I&&(k.suppressHydrationWarning!==!0&&Ac(g.textContent,I,i),x=["children",""+I]):s.hasOwnProperty(M)&&I!=null&&M==="onScroll"&&pt("scroll",g)}switch(f){case"input":_e(g),Ir(g,k,!0);break;case"textarea":_e(g),Pr(g);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(g.onclick=Dc)}g=x,l.updateQueue=g,g!==null&&(l.flags|=4)}else{M=x.nodeType===9?x:x.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Xn(f)),i==="http://www.w3.org/1999/xhtml"?f==="script"?(i=M.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof g.is=="string"?i=M.createElement(f,{is:g.is}):(i=M.createElement(f),f==="select"&&(M=i,g.multiple?M.multiple=!0:g.size&&(M.size=g.size))):i=M.createElementNS(i,f),i[_r]=l,i[Ka]=g,tx(i,l,!1,!1),l.stateNode=i;e:{switch(M=as(f,g),f){case"dialog":pt("cancel",i),pt("close",i),x=g;break;case"iframe":case"object":case"embed":pt("load",i),x=g;break;case"video":case"audio":for(x=0;x<Ha.length;x++)pt(Ha[x],i);x=g;break;case"source":pt("error",i),x=g;break;case"img":case"image":case"link":pt("error",i),pt("load",i),x=g;break;case"details":pt("toggle",i),x=g;break;case"input":Ht(i,g),x=ct(i,g),pt("invalid",i);break;case"option":x=g;break;case"select":i._wrapperState={wasMultiple:!!g.multiple},x=Y({},g,{value:void 0}),pt("invalid",i);break;case"textarea":Tn(i,g),x=yt(i,g),pt("invalid",i);break;default:x=g}hr(f,x),I=x;for(k in I)if(I.hasOwnProperty(k)){var P=I[k];k==="style"?xt(i,P):k==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&ve(i,P)):k==="children"?typeof P=="string"?(f!=="textarea"||P!=="")&&xe(i,P):typeof P=="number"&&xe(i,""+P):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(s.hasOwnProperty(k)?P!=null&&k==="onScroll"&&pt("scroll",i):P!=null&&A(i,k,P,M))}switch(f){case"input":_e(i),Ir(i,g,!1);break;case"textarea":_e(i),Pr(i);break;case"option":g.value!=null&&i.setAttribute("value",""+ie(g.value));break;case"select":i.multiple=!!g.multiple,k=g.value,k!=null?yn(i,!!g.multiple,k,!1):g.defaultValue!=null&&yn(i,!!g.multiple,g.defaultValue,!0);break;default:typeof x.onClick=="function"&&(i.onclick=Dc)}switch(f){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return fn(l),null;case 6:if(i&&l.stateNode!=null)rx(i,l,i.memoizedProps,g);else{if(typeof g!="string"&&l.stateNode===null)throw Error(n(166));if(f=Ho(Xa.current),Ho(zr.current),zc(l)){if(g=l.stateNode,f=l.memoizedProps,g[_r]=l,(k=g.nodeValue!==f)&&(i=Hn,i!==null))switch(i.tag){case 3:Ac(g.nodeValue,f,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Ac(g.nodeValue,f,(i.mode&1)!==0)}k&&(l.flags|=4)}else g=(f.nodeType===9?f:f.ownerDocument).createTextNode(g),g[_r]=l,l.stateNode=g}return fn(l),null;case 13:if(mt(kt),g=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(bt&&Un!==null&&(l.mode&1)!==0&&(l.flags&128)===0)iv(),Oi(),l.flags|=98560,k=!1;else if(k=zc(l),g!==null&&g.dehydrated!==null){if(i===null){if(!k)throw Error(n(318));if(k=l.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(n(317));k[_r]=l}else Oi(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;fn(l),k=!1}else gr!==null&&(ip(gr),gr=null),k=!0;if(!k)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=f,l):(g=g!==null,g!==(i!==null&&i.memoizedState!==null)&&g&&(l.child.flags|=8192,(l.mode&1)!==0&&(i===null||(kt.current&1)!==0?Ft===0&&(Ft=3):cp())),l.updateQueue!==null&&(l.flags|=4),fn(l),null);case 4:return _i(),Yh(i,l),i===null&&Ua(l.stateNode.containerInfo),fn(l),null;case 10:return Sh(l.type._context),fn(l),null;case 17:return Rn(l.type)&&Oc(),fn(l),null;case 19:if(mt(kt),k=l.memoizedState,k===null)return fn(l),null;if(g=(l.flags&128)!==0,M=k.rendering,M===null)if(g)nl(k,!1);else{if(Ft!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(M=Uc(i),M!==null){for(l.flags|=128,nl(k,!1),g=M.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),l.subtreeFlags=0,g=f,f=l.child;f!==null;)k=f,i=g,k.flags&=14680066,M=k.alternate,M===null?(k.childLanes=0,k.lanes=i,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=M.childLanes,k.lanes=M.lanes,k.child=M.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=M.memoizedProps,k.memoizedState=M.memoizedState,k.updateQueue=M.updateQueue,k.type=M.type,i=M.dependencies,k.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),f=f.sibling;return ft(kt,kt.current&1|2),l.child}i=i.sibling}k.tail!==null&&Dt()>Bi&&(l.flags|=128,g=!0,nl(k,!1),l.lanes=4194304)}else{if(!g)if(i=Uc(M),i!==null){if(l.flags|=128,g=!0,f=i.updateQueue,f!==null&&(l.updateQueue=f,l.flags|=4),nl(k,!0),k.tail===null&&k.tailMode==="hidden"&&!M.alternate&&!bt)return fn(l),null}else 2*Dt()-k.renderingStartTime>Bi&&f!==1073741824&&(l.flags|=128,g=!0,nl(k,!1),l.lanes=4194304);k.isBackwards?(M.sibling=l.child,l.child=M):(f=k.last,f!==null?f.sibling=M:l.child=M,k.last=M)}return k.tail!==null?(l=k.tail,k.rendering=l,k.tail=l.sibling,k.renderingStartTime=Dt(),l.sibling=null,f=kt.current,ft(kt,g?f&1|2:f&1),l):(fn(l),null);case 22:case 23:return lp(),g=l.memoizedState!==null,i!==null&&i.memoizedState!==null!==g&&(l.flags|=8192),g&&(l.mode&1)!==0?(Wn&1073741824)!==0&&(fn(l),l.subtreeFlags&6&&(l.flags|=8192)):fn(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function wM(i,l){switch(yh(l),l.tag){case 1:return Rn(l.type)&&Oc(),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return _i(),mt(Dn),mt(un),Ah(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 5:return Mh(l),null;case 13:if(mt(kt),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(n(340));Oi()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return mt(kt),null;case 4:return _i(),null;case 10:return Sh(l.type._context),null;case 22:case 23:return lp(),null;case 24:return null;default:return null}}var Zc=!1,hn=!1,kM=typeof WeakSet=="function"?WeakSet:Set,be=null;function $i(i,l){var f=i.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(g){Nt(i,l,g)}else f.current=null}function Jh(i,l,f){try{f()}catch(g){Nt(i,l,g)}}var sx=!1;function SM(i,l){if(lh=xc,i=L0(),eh(i)){if("selectionStart"in i)var f={start:i.selectionStart,end:i.selectionEnd};else e:{f=(f=i.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&g.rangeCount!==0){f=g.anchorNode;var x=g.anchorOffset,k=g.focusNode;g=g.focusOffset;try{f.nodeType,k.nodeType}catch{f=null;break e}var M=0,I=-1,P=-1,B=0,te=0,se=i,Z=null;t:for(;;){for(var ge;se!==f||x!==0&&se.nodeType!==3||(I=M+x),se!==k||g!==0&&se.nodeType!==3||(P=M+g),se.nodeType===3&&(M+=se.nodeValue.length),(ge=se.firstChild)!==null;)Z=se,se=ge;for(;;){if(se===i)break t;if(Z===f&&++B===x&&(I=M),Z===k&&++te===g&&(P=M),(ge=se.nextSibling)!==null)break;se=Z,Z=se.parentNode}se=ge}f=I===-1||P===-1?null:{start:I,end:P}}else f=null}f=f||{start:0,end:0}}else f=null;for(ch={focusedElem:i,selectionRange:f},xc=!1,be=l;be!==null;)if(l=be,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,be=i;else for(;be!==null;){l=be;try{var Ce=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Ce!==null){var Te=Ce.memoizedProps,Rt=Ce.memoizedState,$=l.stateNode,_=$.getSnapshotBeforeUpdate(l.elementType===l.type?Te:yr(l.type,Te),Rt);$.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var F=l.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ae){Nt(l,l.return,ae)}if(i=l.sibling,i!==null){i.return=l.return,be=i;break}be=l.return}return Ce=sx,sx=!1,Ce}function rl(i,l,f){var g=l.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var x=g=g.next;do{if((x.tag&i)===i){var k=x.destroy;x.destroy=void 0,k!==void 0&&Jh(l,f,k)}x=x.next}while(x!==g)}}function eu(i,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var f=l=l.next;do{if((f.tag&i)===i){var g=f.create;f.destroy=g()}f=f.next}while(f!==l)}}function Xh(i){var l=i.ref;if(l!==null){var f=i.stateNode;switch(i.tag){case 5:i=f;break;default:i=f}typeof l=="function"?l(i):l.current=i}}function ox(i){var l=i.alternate;l!==null&&(i.alternate=null,ox(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&(delete l[_r],delete l[Ka],delete l[hh],delete l[oM],delete l[iM])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function ix(i){return i.tag===5||i.tag===3||i.tag===4}function ax(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||ix(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Qh(i,l,f){var g=i.tag;if(g===5||g===6)i=i.stateNode,l?f.nodeType===8?f.parentNode.insertBefore(i,l):f.insertBefore(i,l):(f.nodeType===8?(l=f.parentNode,l.insertBefore(i,f)):(l=f,l.appendChild(i)),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=Dc));else if(g!==4&&(i=i.child,i!==null))for(Qh(i,l,f),i=i.sibling;i!==null;)Qh(i,l,f),i=i.sibling}function Zh(i,l,f){var g=i.tag;if(g===5||g===6)i=i.stateNode,l?f.insertBefore(i,l):f.appendChild(i);else if(g!==4&&(i=i.child,i!==null))for(Zh(i,l,f),i=i.sibling;i!==null;)Zh(i,l,f),i=i.sibling}var rn=null,vr=!1;function Gs(i,l,f){for(f=f.child;f!==null;)lx(i,l,f),f=f.sibling}function lx(i,l,f){if(Lr&&typeof Lr.onCommitFiberUnmount=="function")try{Lr.onCommitFiberUnmount(hc,f)}catch{}switch(f.tag){case 5:hn||$i(f,l);case 6:var g=rn,x=vr;rn=null,Gs(i,l,f),rn=g,vr=x,rn!==null&&(vr?(i=rn,f=f.stateNode,i.nodeType===8?i.parentNode.removeChild(f):i.removeChild(f)):rn.removeChild(f.stateNode));break;case 18:rn!==null&&(vr?(i=rn,f=f.stateNode,i.nodeType===8?fh(i.parentNode,f):i.nodeType===1&&fh(i,f),Pa(i)):fh(rn,f.stateNode));break;case 4:g=rn,x=vr,rn=f.stateNode.containerInfo,vr=!0,Gs(i,l,f),rn=g,vr=x;break;case 0:case 11:case 14:case 15:if(!hn&&(g=f.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){x=g=g.next;do{var k=x,M=k.destroy;k=k.tag,M!==void 0&&((k&2)!==0||(k&4)!==0)&&Jh(f,l,M),x=x.next}while(x!==g)}Gs(i,l,f);break;case 1:if(!hn&&($i(f,l),g=f.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=f.memoizedProps,g.state=f.memoizedState,g.componentWillUnmount()}catch(I){Nt(f,l,I)}Gs(i,l,f);break;case 21:Gs(i,l,f);break;case 22:f.mode&1?(hn=(g=hn)||f.memoizedState!==null,Gs(i,l,f),hn=g):Gs(i,l,f);break;default:Gs(i,l,f)}}function cx(i){var l=i.updateQueue;if(l!==null){i.updateQueue=null;var f=i.stateNode;f===null&&(f=i.stateNode=new kM),l.forEach(function(g){var x=RM.bind(null,i,g);f.has(g)||(f.add(g),g.then(x,x))})}}function xr(i,l){var f=l.deletions;if(f!==null)for(var g=0;g<f.length;g++){var x=f[g];try{var k=i,M=l,I=M;e:for(;I!==null;){switch(I.tag){case 5:rn=I.stateNode,vr=!1;break e;case 3:rn=I.stateNode.containerInfo,vr=!0;break e;case 4:rn=I.stateNode.containerInfo,vr=!0;break e}I=I.return}if(rn===null)throw Error(n(160));lx(k,M,x),rn=null,vr=!1;var P=x.alternate;P!==null&&(P.return=null),x.return=null}catch(B){Nt(x,l,B)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)ux(l,i),l=l.sibling}function ux(i,l){var f=i.alternate,g=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(xr(l,i),Fr(i),g&4){try{rl(3,i,i.return),eu(3,i)}catch(Te){Nt(i,i.return,Te)}try{rl(5,i,i.return)}catch(Te){Nt(i,i.return,Te)}}break;case 1:xr(l,i),Fr(i),g&512&&f!==null&&$i(f,f.return);break;case 5:if(xr(l,i),Fr(i),g&512&&f!==null&&$i(f,f.return),i.flags&32){var x=i.stateNode;try{xe(x,"")}catch(Te){Nt(i,i.return,Te)}}if(g&4&&(x=i.stateNode,x!=null)){var k=i.memoizedProps,M=f!==null?f.memoizedProps:k,I=i.type,P=i.updateQueue;if(i.updateQueue=null,P!==null)try{I==="input"&&k.type==="radio"&&k.name!=null&&Ut(x,k),as(I,M);var B=as(I,k);for(M=0;M<P.length;M+=2){var te=P[M],se=P[M+1];te==="style"?xt(x,se):te==="dangerouslySetInnerHTML"?ve(x,se):te==="children"?xe(x,se):A(x,te,se,B)}switch(I){case"input":Wt(x,k);break;case"textarea":is(x,k);break;case"select":var Z=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!k.multiple;var ge=k.value;ge!=null?yn(x,!!k.multiple,ge,!1):Z!==!!k.multiple&&(k.defaultValue!=null?yn(x,!!k.multiple,k.defaultValue,!0):yn(x,!!k.multiple,k.multiple?[]:"",!1))}x[Ka]=k}catch(Te){Nt(i,i.return,Te)}}break;case 6:if(xr(l,i),Fr(i),g&4){if(i.stateNode===null)throw Error(n(162));x=i.stateNode,k=i.memoizedProps;try{x.nodeValue=k}catch(Te){Nt(i,i.return,Te)}}break;case 3:if(xr(l,i),Fr(i),g&4&&f!==null&&f.memoizedState.isDehydrated)try{Pa(l.containerInfo)}catch(Te){Nt(i,i.return,Te)}break;case 4:xr(l,i),Fr(i);break;case 13:xr(l,i),Fr(i),x=i.child,x.flags&8192&&(k=x.memoizedState!==null,x.stateNode.isHidden=k,!k||x.alternate!==null&&x.alternate.memoizedState!==null||(np=Dt())),g&4&&cx(i);break;case 22:if(te=f!==null&&f.memoizedState!==null,i.mode&1?(hn=(B=hn)||te,xr(l,i),hn=B):xr(l,i),Fr(i),g&8192){if(B=i.memoizedState!==null,(i.stateNode.isHidden=B)&&!te&&(i.mode&1)!==0)for(be=i,te=i.child;te!==null;){for(se=be=te;be!==null;){switch(Z=be,ge=Z.child,Z.tag){case 0:case 11:case 14:case 15:rl(4,Z,Z.return);break;case 1:$i(Z,Z.return);var Ce=Z.stateNode;if(typeof Ce.componentWillUnmount=="function"){g=Z,f=Z.return;try{l=g,Ce.props=l.memoizedProps,Ce.state=l.memoizedState,Ce.componentWillUnmount()}catch(Te){Nt(g,f,Te)}}break;case 5:$i(Z,Z.return);break;case 22:if(Z.memoizedState!==null){hx(se);continue}}ge!==null?(ge.return=Z,be=ge):hx(se)}te=te.sibling}e:for(te=null,se=i;;){if(se.tag===5){if(te===null){te=se;try{x=se.stateNode,B?(k=x.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(I=se.stateNode,P=se.memoizedProps.style,M=P!=null&&P.hasOwnProperty("display")?P.display:null,I.style.display=Qn("display",M))}catch(Te){Nt(i,i.return,Te)}}}else if(se.tag===6){if(te===null)try{se.stateNode.nodeValue=B?"":se.memoizedProps}catch(Te){Nt(i,i.return,Te)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===i)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===i)break e;for(;se.sibling===null;){if(se.return===null||se.return===i)break e;te===se&&(te=null),se=se.return}te===se&&(te=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:xr(l,i),Fr(i),g&4&&cx(i);break;case 21:break;default:xr(l,i),Fr(i)}}function Fr(i){var l=i.flags;if(l&2){try{e:{for(var f=i.return;f!==null;){if(ix(f)){var g=f;break e}f=f.return}throw Error(n(160))}switch(g.tag){case 5:var x=g.stateNode;g.flags&32&&(xe(x,""),g.flags&=-33);var k=ax(i);Zh(i,k,x);break;case 3:case 4:var M=g.stateNode.containerInfo,I=ax(i);Qh(i,I,M);break;default:throw Error(n(161))}}catch(P){Nt(i,i.return,P)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function CM(i,l,f){be=i,dx(i)}function dx(i,l,f){for(var g=(i.mode&1)!==0;be!==null;){var x=be,k=x.child;if(x.tag===22&&g){var M=x.memoizedState!==null||Zc;if(!M){var I=x.alternate,P=I!==null&&I.memoizedState!==null||hn;I=Zc;var B=hn;if(Zc=M,(hn=P)&&!B)for(be=x;be!==null;)M=be,P=M.child,M.tag===22&&M.memoizedState!==null?px(x):P!==null?(P.return=M,be=P):px(x);for(;k!==null;)be=k,dx(k),k=k.sibling;be=x,Zc=I,hn=B}fx(i)}else(x.subtreeFlags&8772)!==0&&k!==null?(k.return=x,be=k):fx(i)}}function fx(i){for(;be!==null;){var l=be;if((l.flags&8772)!==0){var f=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:hn||eu(5,l);break;case 1:var g=l.stateNode;if(l.flags&4&&!hn)if(f===null)g.componentDidMount();else{var x=l.elementType===l.type?f.memoizedProps:yr(l.type,f.memoizedProps);g.componentDidUpdate(x,f.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var k=l.updateQueue;k!==null&&hv(l,k,g);break;case 3:var M=l.updateQueue;if(M!==null){if(f=null,l.child!==null)switch(l.child.tag){case 5:f=l.child.stateNode;break;case 1:f=l.child.stateNode}hv(l,M,f)}break;case 5:var I=l.stateNode;if(f===null&&l.flags&4){f=I;var P=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&f.focus();break;case"img":P.src&&(f.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var B=l.alternate;if(B!==null){var te=B.memoizedState;if(te!==null){var se=te.dehydrated;se!==null&&Pa(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}hn||l.flags&512&&Xh(l)}catch(Z){Nt(l,l.return,Z)}}if(l===i){be=null;break}if(f=l.sibling,f!==null){f.return=l.return,be=f;break}be=l.return}}function hx(i){for(;be!==null;){var l=be;if(l===i){be=null;break}var f=l.sibling;if(f!==null){f.return=l.return,be=f;break}be=l.return}}function px(i){for(;be!==null;){var l=be;try{switch(l.tag){case 0:case 11:case 15:var f=l.return;try{eu(4,l)}catch(P){Nt(l,f,P)}break;case 1:var g=l.stateNode;if(typeof g.componentDidMount=="function"){var x=l.return;try{g.componentDidMount()}catch(P){Nt(l,x,P)}}var k=l.return;try{Xh(l)}catch(P){Nt(l,k,P)}break;case 5:var M=l.return;try{Xh(l)}catch(P){Nt(l,M,P)}}}catch(P){Nt(l,l.return,P)}if(l===i){be=null;break}var I=l.sibling;if(I!==null){I.return=l.return,be=I;break}be=l.return}}var NM=Math.ceil,tu=E.ReactCurrentDispatcher,ep=E.ReactCurrentOwner,sr=E.ReactCurrentBatchConfig,Ye=0,Yt=null,Ot=null,sn=0,Wn=0,Fi=Hs(0),Ft=0,sl=null,Wo=0,nu=0,tp=0,ol=null,In=null,np=0,Bi=1/0,ys=null,ru=!1,rp=null,Ys=null,su=!1,Js=null,ou=0,il=0,sp=null,iu=-1,au=0;function bn(){return(Ye&6)!==0?Dt():iu!==-1?iu:iu=Dt()}function Xs(i){return(i.mode&1)===0?1:(Ye&2)!==0&&sn!==0?sn&-sn:lM.transition!==null?(au===0&&(au=a0()),au):(i=tt,i!==0||(i=window.event,i=i===void 0?16:g0(i.type)),i)}function br(i,l,f,g){if(50<il)throw il=0,sp=null,Error(n(185));Aa(i,f,g),((Ye&2)===0||i!==Yt)&&(i===Yt&&((Ye&2)===0&&(nu|=f),Ft===4&&Qs(i,sn)),Pn(i,g),f===1&&Ye===0&&(l.mode&1)===0&&(Bi=Dt()+500,Pc&&Ws()))}function Pn(i,l){var f=i.callbackNode;lT(i,l);var g=gc(i,i===Yt?sn:0);if(g===0)f!==null&&s0(f),i.callbackNode=null,i.callbackPriority=0;else if(l=g&-g,i.callbackPriority!==l){if(f!=null&&s0(f),l===1)i.tag===0?aM(gx.bind(null,i)):tv(gx.bind(null,i)),rM(function(){(Ye&6)===0&&Ws()}),f=null;else{switch(l0(g)){case 1:f=_f;break;case 4:f=o0;break;case 16:f=fc;break;case 536870912:f=i0;break;default:f=fc}f=Cx(f,mx.bind(null,i))}i.callbackPriority=l,i.callbackNode=f}}function mx(i,l){if(iu=-1,au=0,(Ye&6)!==0)throw Error(n(327));var f=i.callbackNode;if(Vi()&&i.callbackNode!==f)return null;var g=gc(i,i===Yt?sn:0);if(g===0)return null;if((g&30)!==0||(g&i.expiredLanes)!==0||l)l=lu(i,g);else{l=g;var x=Ye;Ye|=2;var k=vx();(Yt!==i||sn!==l)&&(ys=null,Bi=Dt()+500,qo(i,l));do try{MM();break}catch(I){yx(i,I)}while(!0);kh(),tu.current=k,Ye=x,Ot!==null?l=0:(Yt=null,sn=0,l=Ft)}if(l!==0){if(l===2&&(x=zf(i),x!==0&&(g=x,l=op(i,x))),l===1)throw f=sl,qo(i,0),Qs(i,g),Pn(i,Dt()),f;if(l===6)Qs(i,g);else{if(x=i.current.alternate,(g&30)===0&&!EM(x)&&(l=lu(i,g),l===2&&(k=zf(i),k!==0&&(g=k,l=op(i,k))),l===1))throw f=sl,qo(i,0),Qs(i,g),Pn(i,Dt()),f;switch(i.finishedWork=x,i.finishedLanes=g,l){case 0:case 1:throw Error(n(345));case 2:Go(i,In,ys);break;case 3:if(Qs(i,g),(g&130023424)===g&&(l=np+500-Dt(),10<l)){if(gc(i,0)!==0)break;if(x=i.suspendedLanes,(x&g)!==g){bn(),i.pingedLanes|=i.suspendedLanes&x;break}i.timeoutHandle=dh(Go.bind(null,i,In,ys),l);break}Go(i,In,ys);break;case 4:if(Qs(i,g),(g&4194240)===g)break;for(l=i.eventTimes,x=-1;0<g;){var M=31-pr(g);k=1<<M,M=l[M],M>x&&(x=M),g&=~k}if(g=x,g=Dt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*NM(g/1960))-g,10<g){i.timeoutHandle=dh(Go.bind(null,i,In,ys),g);break}Go(i,In,ys);break;case 5:Go(i,In,ys);break;default:throw Error(n(329))}}}return Pn(i,Dt()),i.callbackNode===f?mx.bind(null,i):null}function op(i,l){var f=ol;return i.current.memoizedState.isDehydrated&&(qo(i,l).flags|=256),i=lu(i,l),i!==2&&(l=In,In=f,l!==null&&ip(l)),i}function ip(i){In===null?In=i:In.push.apply(In,i)}function EM(i){for(var l=i;;){if(l.flags&16384){var f=l.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var g=0;g<f.length;g++){var x=f[g],k=x.getSnapshot;x=x.value;try{if(!mr(k(),x))return!1}catch{return!1}}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Qs(i,l){for(l&=~tp,l&=~nu,i.suspendedLanes|=l,i.pingedLanes&=~l,i=i.expirationTimes;0<l;){var f=31-pr(l),g=1<<f;i[f]=-1,l&=~g}}function gx(i){if((Ye&6)!==0)throw Error(n(327));Vi();var l=gc(i,0);if((l&1)===0)return Pn(i,Dt()),null;var f=lu(i,l);if(i.tag!==0&&f===2){var g=zf(i);g!==0&&(l=g,f=op(i,g))}if(f===1)throw f=sl,qo(i,0),Qs(i,l),Pn(i,Dt()),f;if(f===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=l,Go(i,In,ys),Pn(i,Dt()),null}function ap(i,l){var f=Ye;Ye|=1;try{return i(l)}finally{Ye=f,Ye===0&&(Bi=Dt()+500,Pc&&Ws())}}function Ko(i){Js!==null&&Js.tag===0&&(Ye&6)===0&&Vi();var l=Ye;Ye|=1;var f=sr.transition,g=tt;try{if(sr.transition=null,tt=1,i)return i()}finally{tt=g,sr.transition=f,Ye=l,(Ye&6)===0&&Ws()}}function lp(){Wn=Fi.current,mt(Fi)}function qo(i,l){i.finishedWork=null,i.finishedLanes=0;var f=i.timeoutHandle;if(f!==-1&&(i.timeoutHandle=-1,nM(f)),Ot!==null)for(f=Ot.return;f!==null;){var g=f;switch(yh(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Oc();break;case 3:_i(),mt(Dn),mt(un),Ah();break;case 5:Mh(g);break;case 4:_i();break;case 13:mt(kt);break;case 19:mt(kt);break;case 10:Sh(g.type._context);break;case 22:case 23:lp()}f=f.return}if(Yt=i,Ot=i=Zs(i.current,null),sn=Wn=l,Ft=0,sl=null,tp=nu=Wo=0,In=ol=null,Vo!==null){for(l=0;l<Vo.length;l++)if(f=Vo[l],g=f.interleaved,g!==null){f.interleaved=null;var x=g.next,k=f.pending;if(k!==null){var M=k.next;k.next=x,g.next=M}f.pending=g}Vo=null}return i}function yx(i,l){do{var f=Ot;try{if(kh(),Wc.current=Yc,Kc){for(var g=St.memoizedState;g!==null;){var x=g.queue;x!==null&&(x.pending=null),g=g.next}Kc=!1}if(Uo=0,Gt=$t=St=null,Qa=!1,Za=0,ep.current=null,f===null||f.return===null){Ft=1,sl=l,Ot=null;break}e:{var k=i,M=f.return,I=f,P=l;if(l=sn,I.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var B=P,te=I,se=te.tag;if((te.mode&1)===0&&(se===0||se===11||se===15)){var Z=te.alternate;Z?(te.updateQueue=Z.updateQueue,te.memoizedState=Z.memoizedState,te.lanes=Z.lanes):(te.updateQueue=null,te.memoizedState=null)}var ge=Vv(M);if(ge!==null){ge.flags&=-257,Hv(ge,M,I,k,l),ge.mode&1&&Bv(k,B,l),l=ge,P=B;var Ce=l.updateQueue;if(Ce===null){var Te=new Set;Te.add(P),l.updateQueue=Te}else Ce.add(P);break e}else{if((l&1)===0){Bv(k,B,l),cp();break e}P=Error(n(426))}}else if(bt&&I.mode&1){var Rt=Vv(M);if(Rt!==null){(Rt.flags&65536)===0&&(Rt.flags|=256),Hv(Rt,M,I,k,l),bh(zi(P,I));break e}}k=P=zi(P,I),Ft!==4&&(Ft=2),ol===null?ol=[k]:ol.push(k),k=M;do{switch(k.tag){case 3:k.flags|=65536,l&=-l,k.lanes|=l;var $=$v(k,P,l);fv(k,$);break e;case 1:I=P;var _=k.type,F=k.stateNode;if((k.flags&128)===0&&(typeof _.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(Ys===null||!Ys.has(F)))){k.flags|=65536,l&=-l,k.lanes|=l;var ae=Fv(k,I,l);fv(k,ae);break e}}k=k.return}while(k!==null)}bx(f)}catch(Me){l=Me,Ot===f&&f!==null&&(Ot=f=f.return);continue}break}while(!0)}function vx(){var i=tu.current;return tu.current=Yc,i===null?Yc:i}function cp(){(Ft===0||Ft===3||Ft===2)&&(Ft=4),Yt===null||(Wo&268435455)===0&&(nu&268435455)===0||Qs(Yt,sn)}function lu(i,l){var f=Ye;Ye|=2;var g=vx();(Yt!==i||sn!==l)&&(ys=null,qo(i,l));do try{TM();break}catch(x){yx(i,x)}while(!0);if(kh(),Ye=f,tu.current=g,Ot!==null)throw Error(n(261));return Yt=null,sn=0,Ft}function TM(){for(;Ot!==null;)xx(Ot)}function MM(){for(;Ot!==null&&!Z2();)xx(Ot)}function xx(i){var l=Sx(i.alternate,i,Wn);i.memoizedProps=i.pendingProps,l===null?bx(i):Ot=l,ep.current=null}function bx(i){var l=i;do{var f=l.alternate;if(i=l.return,(l.flags&32768)===0){if(f=bM(f,l,Wn),f!==null){Ot=f;return}}else{if(f=wM(f,l),f!==null){f.flags&=32767,Ot=f;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Ft=6,Ot=null;return}}if(l=l.sibling,l!==null){Ot=l;return}Ot=l=i}while(l!==null);Ft===0&&(Ft=5)}function Go(i,l,f){var g=tt,x=sr.transition;try{sr.transition=null,tt=1,jM(i,l,f,g)}finally{sr.transition=x,tt=g}return null}function jM(i,l,f,g){do Vi();while(Js!==null);if((Ye&6)!==0)throw Error(n(327));f=i.finishedWork;var x=i.finishedLanes;if(f===null)return null;if(i.finishedWork=null,i.finishedLanes=0,f===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var k=f.lanes|f.childLanes;if(cT(i,k),i===Yt&&(Ot=Yt=null,sn=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||su||(su=!0,Cx(fc,function(){return Vi(),null})),k=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||k){k=sr.transition,sr.transition=null;var M=tt;tt=1;var I=Ye;Ye|=4,ep.current=null,SM(i,f),ux(f,i),YT(ch),xc=!!lh,ch=lh=null,i.current=f,CM(f),eT(),Ye=I,tt=M,sr.transition=k}else i.current=f;if(su&&(su=!1,Js=i,ou=x),k=i.pendingLanes,k===0&&(Ys=null),rT(f.stateNode),Pn(i,Dt()),l!==null)for(g=i.onRecoverableError,f=0;f<l.length;f++)x=l[f],g(x.value,{componentStack:x.stack,digest:x.digest});if(ru)throw ru=!1,i=rp,rp=null,i;return(ou&1)!==0&&i.tag!==0&&Vi(),k=i.pendingLanes,(k&1)!==0?i===sp?il++:(il=0,sp=i):il=0,Ws(),null}function Vi(){if(Js!==null){var i=l0(ou),l=sr.transition,f=tt;try{if(sr.transition=null,tt=16>i?16:i,Js===null)var g=!1;else{if(i=Js,Js=null,ou=0,(Ye&6)!==0)throw Error(n(331));var x=Ye;for(Ye|=4,be=i.current;be!==null;){var k=be,M=k.child;if((be.flags&16)!==0){var I=k.deletions;if(I!==null){for(var P=0;P<I.length;P++){var B=I[P];for(be=B;be!==null;){var te=be;switch(te.tag){case 0:case 11:case 15:rl(8,te,k)}var se=te.child;if(se!==null)se.return=te,be=se;else for(;be!==null;){te=be;var Z=te.sibling,ge=te.return;if(ox(te),te===B){be=null;break}if(Z!==null){Z.return=ge,be=Z;break}be=ge}}}var Ce=k.alternate;if(Ce!==null){var Te=Ce.child;if(Te!==null){Ce.child=null;do{var Rt=Te.sibling;Te.sibling=null,Te=Rt}while(Te!==null)}}be=k}}if((k.subtreeFlags&2064)!==0&&M!==null)M.return=k,be=M;else e:for(;be!==null;){if(k=be,(k.flags&2048)!==0)switch(k.tag){case 0:case 11:case 15:rl(9,k,k.return)}var $=k.sibling;if($!==null){$.return=k.return,be=$;break e}be=k.return}}var _=i.current;for(be=_;be!==null;){M=be;var F=M.child;if((M.subtreeFlags&2064)!==0&&F!==null)F.return=M,be=F;else e:for(M=_;be!==null;){if(I=be,(I.flags&2048)!==0)try{switch(I.tag){case 0:case 11:case 15:eu(9,I)}}catch(Me){Nt(I,I.return,Me)}if(I===M){be=null;break e}var ae=I.sibling;if(ae!==null){ae.return=I.return,be=ae;break e}be=I.return}}if(Ye=x,Ws(),Lr&&typeof Lr.onPostCommitFiberRoot=="function")try{Lr.onPostCommitFiberRoot(hc,i)}catch{}g=!0}return g}finally{tt=f,sr.transition=l}}return!1}function wx(i,l,f){l=zi(f,l),l=$v(i,l,1),i=qs(i,l,1),l=bn(),i!==null&&(Aa(i,1,l),Pn(i,l))}function Nt(i,l,f){if(i.tag===3)wx(i,i,f);else for(;l!==null;){if(l.tag===3){wx(l,i,f);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ys===null||!Ys.has(g))){i=zi(f,i),i=Fv(l,i,1),l=qs(l,i,1),i=bn(),l!==null&&(Aa(l,1,i),Pn(l,i));break}}l=l.return}}function AM(i,l,f){var g=i.pingCache;g!==null&&g.delete(l),l=bn(),i.pingedLanes|=i.suspendedLanes&f,Yt===i&&(sn&f)===f&&(Ft===4||Ft===3&&(sn&130023424)===sn&&500>Dt()-np?qo(i,0):tp|=f),Pn(i,l)}function kx(i,l){l===0&&((i.mode&1)===0?l=1:(l=mc,mc<<=1,(mc&130023424)===0&&(mc=4194304)));var f=bn();i=ps(i,l),i!==null&&(Aa(i,l,f),Pn(i,f))}function DM(i){var l=i.memoizedState,f=0;l!==null&&(f=l.retryLane),kx(i,f)}function RM(i,l){var f=0;switch(i.tag){case 13:var g=i.stateNode,x=i.memoizedState;x!==null&&(f=x.retryLane);break;case 19:g=i.stateNode;break;default:throw Error(n(314))}g!==null&&g.delete(l),kx(i,f)}var Sx;Sx=function(i,l,f){if(i!==null)if(i.memoizedProps!==l.pendingProps||Dn.current)On=!0;else{if((i.lanes&f)===0&&(l.flags&128)===0)return On=!1,xM(i,l,f);On=(i.flags&131072)!==0}else On=!1,bt&&(l.flags&1048576)!==0&&nv(l,_c,l.index);switch(l.lanes=0,l.tag){case 2:var g=l.type;Qc(i,l),i=l.pendingProps;var x=Ai(l,un.current);Li(l,f),x=Oh(null,l,g,i,x,f);var k=Ih();return l.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Rn(g)?(k=!0,Ic(l)):k=!1,l.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,Eh(l),x.updater=Jc,l.stateNode=x,x._reactInternals=l,Fh(l,g,i,f),l=Uh(null,l,g,!0,k,f)):(l.tag=0,bt&&k&&gh(l),xn(null,l,x,f),l=l.child),l;case 16:g=l.elementType;e:{switch(Qc(i,l),i=l.pendingProps,x=g._init,g=x(g._payload),l.type=g,x=l.tag=IM(g),i=yr(g,i),x){case 0:l=Hh(null,l,g,i,f);break e;case 1:l=Yv(null,l,g,i,f);break e;case 11:l=Uv(null,l,g,i,f);break e;case 14:l=Wv(null,l,g,yr(g.type,i),f);break e}throw Error(n(306,g,""))}return l;case 0:return g=l.type,x=l.pendingProps,x=l.elementType===g?x:yr(g,x),Hh(i,l,g,x,f);case 1:return g=l.type,x=l.pendingProps,x=l.elementType===g?x:yr(g,x),Yv(i,l,g,x,f);case 3:e:{if(Jv(l),i===null)throw Error(n(387));g=l.pendingProps,k=l.memoizedState,x=k.element,dv(i,l),Hc(l,g,null,f);var M=l.memoizedState;if(g=M.element,k.isDehydrated)if(k={element:g,isDehydrated:!1,cache:M.cache,pendingSuspenseBoundaries:M.pendingSuspenseBoundaries,transitions:M.transitions},l.updateQueue.baseState=k,l.memoizedState=k,l.flags&256){x=zi(Error(n(423)),l),l=Xv(i,l,g,f,x);break e}else if(g!==x){x=zi(Error(n(424)),l),l=Xv(i,l,g,f,x);break e}else for(Un=Vs(l.stateNode.containerInfo.firstChild),Hn=l,bt=!0,gr=null,f=cv(l,null,g,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Oi(),g===x){l=gs(i,l,f);break e}xn(i,l,g,f)}l=l.child}return l;case 5:return pv(l),i===null&&xh(l),g=l.type,x=l.pendingProps,k=i!==null?i.memoizedProps:null,M=x.children,uh(g,x)?M=null:k!==null&&uh(g,k)&&(l.flags|=32),Gv(i,l),xn(i,l,M,f),l.child;case 6:return i===null&&xh(l),null;case 13:return Qv(i,l,f);case 4:return Th(l,l.stateNode.containerInfo),g=l.pendingProps,i===null?l.child=Ii(l,null,g,f):xn(i,l,g,f),l.child;case 11:return g=l.type,x=l.pendingProps,x=l.elementType===g?x:yr(g,x),Uv(i,l,g,x,f);case 7:return xn(i,l,l.pendingProps,f),l.child;case 8:return xn(i,l,l.pendingProps.children,f),l.child;case 12:return xn(i,l,l.pendingProps.children,f),l.child;case 10:e:{if(g=l.type._context,x=l.pendingProps,k=l.memoizedProps,M=x.value,ft(Fc,g._currentValue),g._currentValue=M,k!==null)if(mr(k.value,M)){if(k.children===x.children&&!Dn.current){l=gs(i,l,f);break e}}else for(k=l.child,k!==null&&(k.return=l);k!==null;){var I=k.dependencies;if(I!==null){M=k.child;for(var P=I.firstContext;P!==null;){if(P.context===g){if(k.tag===1){P=ms(-1,f&-f),P.tag=2;var B=k.updateQueue;if(B!==null){B=B.shared;var te=B.pending;te===null?P.next=P:(P.next=te.next,te.next=P),B.pending=P}}k.lanes|=f,P=k.alternate,P!==null&&(P.lanes|=f),Ch(k.return,f,l),I.lanes|=f;break}P=P.next}}else if(k.tag===10)M=k.type===l.type?null:k.child;else if(k.tag===18){if(M=k.return,M===null)throw Error(n(341));M.lanes|=f,I=M.alternate,I!==null&&(I.lanes|=f),Ch(M,f,l),M=k.sibling}else M=k.child;if(M!==null)M.return=k;else for(M=k;M!==null;){if(M===l){M=null;break}if(k=M.sibling,k!==null){k.return=M.return,M=k;break}M=M.return}k=M}xn(i,l,x.children,f),l=l.child}return l;case 9:return x=l.type,g=l.pendingProps.children,Li(l,f),x=nr(x),g=g(x),l.flags|=1,xn(i,l,g,f),l.child;case 14:return g=l.type,x=yr(g,l.pendingProps),x=yr(g.type,x),Wv(i,l,g,x,f);case 15:return Kv(i,l,l.type,l.pendingProps,f);case 17:return g=l.type,x=l.pendingProps,x=l.elementType===g?x:yr(g,x),Qc(i,l),l.tag=1,Rn(g)?(i=!0,Ic(l)):i=!1,Li(l,f),_v(l,g,x),Fh(l,g,x,f),Uh(null,l,g,!0,i,f);case 19:return ex(i,l,f);case 22:return qv(i,l,f)}throw Error(n(156,l.tag))};function Cx(i,l){return r0(i,l)}function OM(i,l,f,g){this.tag=i,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function or(i,l,f,g){return new OM(i,l,f,g)}function up(i){return i=i.prototype,!(!i||!i.isReactComponent)}function IM(i){if(typeof i=="function")return up(i)?1:0;if(i!=null){if(i=i.$$typeof,i===de)return 11;if(i===re)return 14}return 2}function Zs(i,l){var f=i.alternate;return f===null?(f=or(i.tag,l,i.key,i.mode),f.elementType=i.elementType,f.type=i.type,f.stateNode=i.stateNode,f.alternate=i,i.alternate=f):(f.pendingProps=l,f.type=i.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=i.flags&14680064,f.childLanes=i.childLanes,f.lanes=i.lanes,f.child=i.child,f.memoizedProps=i.memoizedProps,f.memoizedState=i.memoizedState,f.updateQueue=i.updateQueue,l=i.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=i.sibling,f.index=i.index,f.ref=i.ref,f}function cu(i,l,f,g,x,k){var M=2;if(g=i,typeof i=="function")up(i)&&(M=1);else if(typeof i=="string")M=5;else e:switch(i){case D:return Yo(f.children,x,k,l);case O:M=8,x|=8;break;case H:return i=or(12,f,l,x|2),i.elementType=H,i.lanes=k,i;case le:return i=or(13,f,l,x),i.elementType=le,i.lanes=k,i;case ue:return i=or(19,f,l,x),i.elementType=ue,i.lanes=k,i;case q:return uu(f,x,k,l);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Q:M=10;break e;case ce:M=9;break e;case de:M=11;break e;case re:M=14;break e;case U:M=16,g=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return l=or(M,f,l,x),l.elementType=i,l.type=g,l.lanes=k,l}function Yo(i,l,f,g){return i=or(7,i,g,l),i.lanes=f,i}function uu(i,l,f,g){return i=or(22,i,g,l),i.elementType=q,i.lanes=f,i.stateNode={isHidden:!1},i}function dp(i,l,f){return i=or(6,i,null,l),i.lanes=f,i}function fp(i,l,f){return l=or(4,i.children!==null?i.children:[],i.key,l),l.lanes=f,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}function PM(i,l,f,g,x){this.tag=l,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$f(0),this.expirationTimes=$f(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$f(0),this.identifierPrefix=g,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function hp(i,l,f,g,x,k,M,I,P){return i=new PM(i,l,f,I,P),l===1?(l=1,k===!0&&(l|=8)):l=0,k=or(3,null,null,l),i.current=k,k.stateNode=i,k.memoizedState={element:g,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},Eh(k),i}function LM(i,l,f){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:g==null?null:""+g,children:i,containerInfo:l,implementation:f}}function Nx(i){if(!i)return Us;i=i._reactInternals;e:{if(_o(i)!==i||i.tag!==1)throw Error(n(170));var l=i;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Rn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(i.tag===1){var f=i.type;if(Rn(f))return Z0(i,f,l)}return l}function Ex(i,l,f,g,x,k,M,I,P){return i=hp(f,g,!0,i,x,k,M,I,P),i.context=Nx(null),f=i.current,g=bn(),x=Xs(f),k=ms(g,x),k.callback=l??null,qs(f,k,x),i.current.lanes=x,Aa(i,x,g),Pn(i,g),i}function du(i,l,f,g){var x=l.current,k=bn(),M=Xs(x);return f=Nx(f),l.context===null?l.context=f:l.pendingContext=f,l=ms(k,M),l.payload={element:i},g=g===void 0?null:g,g!==null&&(l.callback=g),i=qs(x,l,M),i!==null&&(br(i,x,M,k),Vc(i,x,M)),M}function fu(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Tx(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var f=i.retryLane;i.retryLane=f!==0&&f<l?f:l}}function pp(i,l){Tx(i,l),(i=i.alternate)&&Tx(i,l)}function _M(){return null}var Mx=typeof reportError=="function"?reportError:function(i){console.error(i)};function mp(i){this._internalRoot=i}hu.prototype.render=mp.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(n(409));du(i,l,null,null)},hu.prototype.unmount=mp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;Ko(function(){du(null,i,null,null)}),l[us]=null}};function hu(i){this._internalRoot=i}hu.prototype.unstable_scheduleHydration=function(i){if(i){var l=d0();i={blockedOn:null,target:i,priority:l};for(var f=0;f<$s.length&&l!==0&&l<$s[f].priority;f++);$s.splice(f,0,i),f===0&&p0(i)}};function gp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function pu(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function jx(){}function zM(i,l,f,g,x){if(x){if(typeof g=="function"){var k=g;g=function(){var B=fu(M);k.call(B)}}var M=Ex(l,g,i,0,null,!1,!1,"",jx);return i._reactRootContainer=M,i[us]=M.current,Ua(i.nodeType===8?i.parentNode:i),Ko(),M}for(;x=i.lastChild;)i.removeChild(x);if(typeof g=="function"){var I=g;g=function(){var B=fu(P);I.call(B)}}var P=hp(i,0,!1,null,null,!1,!1,"",jx);return i._reactRootContainer=P,i[us]=P.current,Ua(i.nodeType===8?i.parentNode:i),Ko(function(){du(l,P,f,g)}),P}function mu(i,l,f,g,x){var k=f._reactRootContainer;if(k){var M=k;if(typeof x=="function"){var I=x;x=function(){var P=fu(M);I.call(P)}}du(l,M,i,x)}else M=zM(f,l,i,x,g);return fu(M)}c0=function(i){switch(i.tag){case 3:var l=i.stateNode;if(l.current.memoizedState.isDehydrated){var f=ja(l.pendingLanes);f!==0&&(Ff(l,f|1),Pn(l,Dt()),(Ye&6)===0&&(Bi=Dt()+500,Ws()))}break;case 13:Ko(function(){var g=ps(i,1);if(g!==null){var x=bn();br(g,i,1,x)}}),pp(i,1)}},Bf=function(i){if(i.tag===13){var l=ps(i,134217728);if(l!==null){var f=bn();br(l,i,134217728,f)}pp(i,134217728)}},u0=function(i){if(i.tag===13){var l=Xs(i),f=ps(i,l);if(f!==null){var g=bn();br(f,i,l,g)}pp(i,l)}},d0=function(){return tt},f0=function(i,l){var f=tt;try{return tt=i,l()}finally{tt=f}},ls=function(i,l,f){switch(l){case"input":if(Wt(i,f),l=f.name,f.type==="radio"&&l!=null){for(f=i;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<f.length;l++){var g=f[l];if(g!==i&&g.form===i.form){var x=Rc(g);if(!x)throw Error(n(90));Pe(g),Wt(g,x)}}}break;case"textarea":is(i,f);break;case"select":l=f.value,l!=null&&yn(i,!!f.multiple,l,!1)}},Je=ap,et=Ko;var $M={usingClientEntryPoint:!1,Events:[qa,Mi,Rc,Ae,Ze,ap]},al={findFiberByHostInstance:zo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},FM={bundleType:al.bundleType,version:al.version,rendererPackageName:al.rendererPackageName,rendererConfig:al.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=t0(i),i===null?null:i.stateNode},findFiberByHostInstance:al.findFiberByHostInstance||_M,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gu.isDisabled&&gu.supportsFiber)try{hc=gu.inject(FM),Lr=gu}catch{}}return Ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$M,Ln.createPortal=function(i,l){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gp(l))throw Error(n(200));return LM(i,l,null,f)},Ln.createRoot=function(i,l){if(!gp(i))throw Error(n(299));var f=!1,g="",x=Mx;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(x=l.onRecoverableError)),l=hp(i,1,!1,null,null,f,!1,g,x),i[us]=l.current,Ua(i.nodeType===8?i.parentNode:i),new mp(l)},Ln.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=t0(l),i=i===null?null:i.stateNode,i},Ln.flushSync=function(i){return Ko(i)},Ln.hydrate=function(i,l,f){if(!pu(l))throw Error(n(200));return mu(null,i,l,!0,f)},Ln.hydrateRoot=function(i,l,f){if(!gp(i))throw Error(n(405));var g=f!=null&&f.hydratedSources||null,x=!1,k="",M=Mx;if(f!=null&&(f.unstable_strictMode===!0&&(x=!0),f.identifierPrefix!==void 0&&(k=f.identifierPrefix),f.onRecoverableError!==void 0&&(M=f.onRecoverableError)),l=Ex(l,null,i,1,f??null,x,!1,k,M),i[us]=l.current,Ua(i),g)for(i=0;i<g.length;i++)f=g[i],x=f._getVersion,x=x(f._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[f,x]:l.mutableSourceEagerHydrationData.push(f,x);return new hu(l)},Ln.render=function(i,l,f){if(!pu(l))throw Error(n(200));return mu(null,i,l,!1,f)},Ln.unmountComponentAtNode=function(i){if(!pu(i))throw Error(n(40));return i._reactRootContainer?(Ko(function(){mu(null,null,i,!1,function(){i._reactRootContainer=null,i[us]=null})}),!0):!1},Ln.unstable_batchedUpdates=ap,Ln.unstable_renderSubtreeIntoContainer=function(i,l,f,g){if(!pu(f))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return mu(i,l,f,!1,g)},Ln.version="18.3.1-next-f1338f8080-20240426",Ln}var _x;function Sw(){if(_x)return xp.exports;_x=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),xp.exports=GM(),xp.exports}var zx;function YM(){if(zx)return yu;zx=1;var t=Sw();return yu.createRoot=t.createRoot,yu.hydrateRoot=t.hydrateRoot,yu}var JM=YM(),C=tc();const W=vg(C),Cw=VM({__proto__:null,default:W},[C]);function Nw(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Nw(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ew(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Nw(t))&&(r&&(r+=" "),r+=e);return r}const xg="-",XM=t=>{const e=ZM(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const c=a.split(xg);return c[0]===""&&c.length!==1&&c.shift(),Tw(c,e)||QM(a)},getConflictingClassGroupIds:(a,c)=>{const u=n[a]||[];return c&&r[a]?[...u,...r[a]]:u}}},Tw=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?Tw(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const o=t.join(xg);return e.validators.find(({validator:a})=>a(o))?.classGroupId},$x=/^\[(.+)\]$/,QM=t=>{if($x.test(t)){const e=$x.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},ZM=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const s in n)bm(n[s],r,s,e);return r},bm=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const o=s===""?e:Fx(e,s);o.classGroupId=n;return}if(typeof s=="function"){if(ej(s)){bm(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,a])=>{bm(a,Fx(e,o),n,r)})})},Fx=(t,e)=>{let n=t;return e.split(xg).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},ej=t=>t.isThemeGetter,tj=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(o,a)=>{n.set(o,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return s(o,a),a},set(o,a){n.has(o)?n.set(o,a):s(o,a)}}},wm="!",km=":",nj=km.length,rj=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const o=[];let a=0,c=0,u=0,h;for(let w=0;w<s.length;w++){let b=s[w];if(a===0&&c===0){if(b===km){o.push(s.slice(u,w)),u=w+nj;continue}if(b==="/"){h=w;continue}}b==="["?a++:b==="]"?a--:b==="("?c++:b===")"&&c--}const p=o.length===0?s:s.substring(u),m=sj(p),y=m!==p,v=h&&h>u?h-u:void 0;return{modifiers:o,hasImportantModifier:y,baseClassName:m,maybePostfixModifierPosition:v}};if(e){const s=e+km,o=r;r=a=>a.startsWith(s)?o(a.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=o=>n({className:o,parseClassName:s})}return r},sj=t=>t.endsWith(wm)?t.substring(0,t.length-1):t.startsWith(wm)?t.substring(1):t,oj=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let o=[];return r.forEach(a=>{a[0]==="["||e[a]?(s.push(...o.sort(),a),o=[]):o.push(a)}),s.push(...o.sort()),s}},ij=t=>({cache:tj(t.cacheSize),parseClassName:rj(t),sortModifiers:oj(t),...XM(t)}),aj=/\s+/,lj=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:o}=e,a=[],c=t.trim().split(aj);let u="";for(let h=c.length-1;h>=0;h-=1){const p=c[h],{isExternal:m,modifiers:y,hasImportantModifier:v,baseClassName:w,maybePostfixModifierPosition:b}=n(p);if(m){u=p+(u.length>0?" "+u:u);continue}let S=!!b,N=r(S?w.substring(0,b):w);if(!N){if(!S){u=p+(u.length>0?" "+u:u);continue}if(N=r(w),!N){u=p+(u.length>0?" "+u:u);continue}S=!1}const j=o(y).join(":"),A=v?j+wm:j,E=A+N;if(a.includes(E))continue;a.push(E);const T=s(N,S);for(let R=0;R<T.length;++R){const D=T[R];a.push(A+D)}u=p+(u.length>0?" "+u:u)}return u};function cj(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Mw(e))&&(r&&(r+=" "),r+=n);return r}const Mw=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Mw(t[r]))&&(n&&(n+=" "),n+=e);return n};function uj(t,...e){let n,r,s,o=a;function a(u){const h=e.reduce((p,m)=>m(p),t());return n=ij(h),r=n.cache.get,s=n.cache.set,o=c,c(u)}function c(u){const h=r(u);if(h)return h;const p=lj(u,n);return s(u,p),p}return function(){return o(cj.apply(null,arguments))}}const Bt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},jw=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Aw=/^\((?:(\w[\w-]*):)?(.+)\)$/i,dj=/^\d+\/\d+$/,fj=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,hj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,pj=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,mj=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,gj=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Hi=t=>dj.test(t),He=t=>!!t&&!Number.isNaN(Number(t)),to=t=>!!t&&Number.isInteger(Number(t)),kp=t=>t.endsWith("%")&&He(t.slice(0,-1)),vs=t=>fj.test(t),yj=()=>!0,vj=t=>hj.test(t)&&!pj.test(t),Dw=()=>!1,xj=t=>mj.test(t),bj=t=>gj.test(t),wj=t=>!Ne(t)&&!Ee(t),kj=t=>ya(t,Iw,Dw),Ne=t=>jw.test(t),Jo=t=>ya(t,Pw,vj),Sp=t=>ya(t,Tj,He),Bx=t=>ya(t,Rw,Dw),Sj=t=>ya(t,Ow,bj),vu=t=>ya(t,Lw,xj),Ee=t=>Aw.test(t),cl=t=>va(t,Pw),Cj=t=>va(t,Mj),Vx=t=>va(t,Rw),Nj=t=>va(t,Iw),Ej=t=>va(t,Ow),xu=t=>va(t,Lw,!0),ya=(t,e,n)=>{const r=jw.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},va=(t,e,n=!1)=>{const r=Aw.exec(t);return r?r[1]?e(r[1]):n:!1},Rw=t=>t==="position"||t==="percentage",Ow=t=>t==="image"||t==="url",Iw=t=>t==="length"||t==="size"||t==="bg-size",Pw=t=>t==="length",Tj=t=>t==="number",Mj=t=>t==="family-name",Lw=t=>t==="shadow",jj=()=>{const t=Bt("color"),e=Bt("font"),n=Bt("text"),r=Bt("font-weight"),s=Bt("tracking"),o=Bt("leading"),a=Bt("breakpoint"),c=Bt("container"),u=Bt("spacing"),h=Bt("radius"),p=Bt("shadow"),m=Bt("inset-shadow"),y=Bt("text-shadow"),v=Bt("drop-shadow"),w=Bt("blur"),b=Bt("perspective"),S=Bt("aspect"),N=Bt("ease"),j=Bt("animate"),A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],E=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],T=()=>[...E(),Ee,Ne],R=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],O=()=>[Ee,Ne,u],H=()=>[Hi,"full","auto",...O()],Q=()=>[to,"none","subgrid",Ee,Ne],ce=()=>["auto",{span:["full",to,Ee,Ne]},to,Ee,Ne],de=()=>[to,"auto",Ee,Ne],le=()=>["auto","min","max","fr",Ee,Ne],ue=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],re=()=>["start","end","center","stretch","center-safe","end-safe"],U=()=>["auto",...O()],q=()=>[Hi,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...O()],z=()=>[t,Ee,Ne],X=()=>[...E(),Vx,Bx,{position:[Ee,Ne]}],Y=()=>["no-repeat",{repeat:["","x","y","space","round"]}],L=()=>["auto","cover","contain",Nj,kj,{size:[Ee,Ne]}],V=()=>[kp,cl,Jo],K=()=>["","none","full",h,Ee,Ne],ee=()=>["",He,cl,Jo],he=()=>["solid","dashed","dotted","double"],pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],J=()=>[He,kp,Vx,Bx],ie=()=>["","none",w,Ee,Ne],ke=()=>["none",He,Ee,Ne],fe=()=>["none",He,Ee,Ne],_e=()=>[He,Ee,Ne],Pe=()=>[Hi,"full",...O()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[vs],breakpoint:[vs],color:[yj],container:[vs],"drop-shadow":[vs],ease:["in","out","in-out"],font:[wj],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[vs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[vs],shadow:[vs],spacing:["px",He],text:[vs],"text-shadow":[vs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Hi,Ne,Ee,S]}],container:["container"],columns:[{columns:[He,Ne,Ee,c]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:T()}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:H()}],"inset-x":[{"inset-x":H()}],"inset-y":[{"inset-y":H()}],start:[{start:H()}],end:[{end:H()}],top:[{top:H()}],right:[{right:H()}],bottom:[{bottom:H()}],left:[{left:H()}],visibility:["visible","invisible","collapse"],z:[{z:[to,"auto",Ee,Ne]}],basis:[{basis:[Hi,"full","auto",c,...O()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[He,Hi,"auto","initial","none",Ne]}],grow:[{grow:["",He,Ee,Ne]}],shrink:[{shrink:["",He,Ee,Ne]}],order:[{order:[to,"first","last","none",Ee,Ne]}],"grid-cols":[{"grid-cols":Q()}],"col-start-end":[{col:ce()}],"col-start":[{"col-start":de()}],"col-end":[{"col-end":de()}],"grid-rows":[{"grid-rows":Q()}],"row-start-end":[{row:ce()}],"row-start":[{"row-start":de()}],"row-end":[{"row-end":de()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":le()}],"auto-rows":[{"auto-rows":le()}],gap:[{gap:O()}],"gap-x":[{"gap-x":O()}],"gap-y":[{"gap-y":O()}],"justify-content":[{justify:[...ue(),"normal"]}],"justify-items":[{"justify-items":[...re(),"normal"]}],"justify-self":[{"justify-self":["auto",...re()]}],"align-content":[{content:["normal",...ue()]}],"align-items":[{items:[...re(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...re(),{baseline:["","last"]}]}],"place-content":[{"place-content":ue()}],"place-items":[{"place-items":[...re(),"baseline"]}],"place-self":[{"place-self":["auto",...re()]}],p:[{p:O()}],px:[{px:O()}],py:[{py:O()}],ps:[{ps:O()}],pe:[{pe:O()}],pt:[{pt:O()}],pr:[{pr:O()}],pb:[{pb:O()}],pl:[{pl:O()}],m:[{m:U()}],mx:[{mx:U()}],my:[{my:U()}],ms:[{ms:U()}],me:[{me:U()}],mt:[{mt:U()}],mr:[{mr:U()}],mb:[{mb:U()}],ml:[{ml:U()}],"space-x":[{"space-x":O()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":O()}],"space-y-reverse":["space-y-reverse"],size:[{size:q()}],w:[{w:[c,"screen",...q()]}],"min-w":[{"min-w":[c,"screen","none",...q()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[a]},...q()]}],h:[{h:["screen","lh",...q()]}],"min-h":[{"min-h":["screen","lh","none",...q()]}],"max-h":[{"max-h":["screen","lh",...q()]}],"font-size":[{text:["base",n,cl,Jo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ee,Sp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",kp,Ne]}],"font-family":[{font:[Cj,Ne,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Ee,Ne]}],"line-clamp":[{"line-clamp":[He,"none",Ee,Sp]}],leading:[{leading:[o,...O()]}],"list-image":[{"list-image":["none",Ee,Ne]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ee,Ne]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:z()}],"text-color":[{text:z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...he(),"wavy"]}],"text-decoration-thickness":[{decoration:[He,"from-font","auto",Ee,Jo]}],"text-decoration-color":[{decoration:z()}],"underline-offset":[{"underline-offset":[He,"auto",Ee,Ne]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ee,Ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ee,Ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:X()}],"bg-repeat":[{bg:Y()}],"bg-size":[{bg:L()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},to,Ee,Ne],radial:["",Ee,Ne],conic:[to,Ee,Ne]},Ej,Sj]}],"bg-color":[{bg:z()}],"gradient-from-pos":[{from:V()}],"gradient-via-pos":[{via:V()}],"gradient-to-pos":[{to:V()}],"gradient-from":[{from:z()}],"gradient-via":[{via:z()}],"gradient-to":[{to:z()}],rounded:[{rounded:K()}],"rounded-s":[{"rounded-s":K()}],"rounded-e":[{"rounded-e":K()}],"rounded-t":[{"rounded-t":K()}],"rounded-r":[{"rounded-r":K()}],"rounded-b":[{"rounded-b":K()}],"rounded-l":[{"rounded-l":K()}],"rounded-ss":[{"rounded-ss":K()}],"rounded-se":[{"rounded-se":K()}],"rounded-ee":[{"rounded-ee":K()}],"rounded-es":[{"rounded-es":K()}],"rounded-tl":[{"rounded-tl":K()}],"rounded-tr":[{"rounded-tr":K()}],"rounded-br":[{"rounded-br":K()}],"rounded-bl":[{"rounded-bl":K()}],"border-w":[{border:ee()}],"border-w-x":[{"border-x":ee()}],"border-w-y":[{"border-y":ee()}],"border-w-s":[{"border-s":ee()}],"border-w-e":[{"border-e":ee()}],"border-w-t":[{"border-t":ee()}],"border-w-r":[{"border-r":ee()}],"border-w-b":[{"border-b":ee()}],"border-w-l":[{"border-l":ee()}],"divide-x":[{"divide-x":ee()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ee()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...he(),"hidden","none"]}],"divide-style":[{divide:[...he(),"hidden","none"]}],"border-color":[{border:z()}],"border-color-x":[{"border-x":z()}],"border-color-y":[{"border-y":z()}],"border-color-s":[{"border-s":z()}],"border-color-e":[{"border-e":z()}],"border-color-t":[{"border-t":z()}],"border-color-r":[{"border-r":z()}],"border-color-b":[{"border-b":z()}],"border-color-l":[{"border-l":z()}],"divide-color":[{divide:z()}],"outline-style":[{outline:[...he(),"none","hidden"]}],"outline-offset":[{"outline-offset":[He,Ee,Ne]}],"outline-w":[{outline:["",He,cl,Jo]}],"outline-color":[{outline:z()}],shadow:[{shadow:["","none",p,xu,vu]}],"shadow-color":[{shadow:z()}],"inset-shadow":[{"inset-shadow":["none",m,xu,vu]}],"inset-shadow-color":[{"inset-shadow":z()}],"ring-w":[{ring:ee()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:z()}],"ring-offset-w":[{"ring-offset":[He,Jo]}],"ring-offset-color":[{"ring-offset":z()}],"inset-ring-w":[{"inset-ring":ee()}],"inset-ring-color":[{"inset-ring":z()}],"text-shadow":[{"text-shadow":["none",y,xu,vu]}],"text-shadow-color":[{"text-shadow":z()}],opacity:[{opacity:[He,Ee,Ne]}],"mix-blend":[{"mix-blend":[...pe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":pe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[He]}],"mask-image-linear-from-pos":[{"mask-linear-from":J()}],"mask-image-linear-to-pos":[{"mask-linear-to":J()}],"mask-image-linear-from-color":[{"mask-linear-from":z()}],"mask-image-linear-to-color":[{"mask-linear-to":z()}],"mask-image-t-from-pos":[{"mask-t-from":J()}],"mask-image-t-to-pos":[{"mask-t-to":J()}],"mask-image-t-from-color":[{"mask-t-from":z()}],"mask-image-t-to-color":[{"mask-t-to":z()}],"mask-image-r-from-pos":[{"mask-r-from":J()}],"mask-image-r-to-pos":[{"mask-r-to":J()}],"mask-image-r-from-color":[{"mask-r-from":z()}],"mask-image-r-to-color":[{"mask-r-to":z()}],"mask-image-b-from-pos":[{"mask-b-from":J()}],"mask-image-b-to-pos":[{"mask-b-to":J()}],"mask-image-b-from-color":[{"mask-b-from":z()}],"mask-image-b-to-color":[{"mask-b-to":z()}],"mask-image-l-from-pos":[{"mask-l-from":J()}],"mask-image-l-to-pos":[{"mask-l-to":J()}],"mask-image-l-from-color":[{"mask-l-from":z()}],"mask-image-l-to-color":[{"mask-l-to":z()}],"mask-image-x-from-pos":[{"mask-x-from":J()}],"mask-image-x-to-pos":[{"mask-x-to":J()}],"mask-image-x-from-color":[{"mask-x-from":z()}],"mask-image-x-to-color":[{"mask-x-to":z()}],"mask-image-y-from-pos":[{"mask-y-from":J()}],"mask-image-y-to-pos":[{"mask-y-to":J()}],"mask-image-y-from-color":[{"mask-y-from":z()}],"mask-image-y-to-color":[{"mask-y-to":z()}],"mask-image-radial":[{"mask-radial":[Ee,Ne]}],"mask-image-radial-from-pos":[{"mask-radial-from":J()}],"mask-image-radial-to-pos":[{"mask-radial-to":J()}],"mask-image-radial-from-color":[{"mask-radial-from":z()}],"mask-image-radial-to-color":[{"mask-radial-to":z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":E()}],"mask-image-conic-pos":[{"mask-conic":[He]}],"mask-image-conic-from-pos":[{"mask-conic-from":J()}],"mask-image-conic-to-pos":[{"mask-conic-to":J()}],"mask-image-conic-from-color":[{"mask-conic-from":z()}],"mask-image-conic-to-color":[{"mask-conic-to":z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:X()}],"mask-repeat":[{mask:Y()}],"mask-size":[{mask:L()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ee,Ne]}],filter:[{filter:["","none",Ee,Ne]}],blur:[{blur:ie()}],brightness:[{brightness:[He,Ee,Ne]}],contrast:[{contrast:[He,Ee,Ne]}],"drop-shadow":[{"drop-shadow":["","none",v,xu,vu]}],"drop-shadow-color":[{"drop-shadow":z()}],grayscale:[{grayscale:["",He,Ee,Ne]}],"hue-rotate":[{"hue-rotate":[He,Ee,Ne]}],invert:[{invert:["",He,Ee,Ne]}],saturate:[{saturate:[He,Ee,Ne]}],sepia:[{sepia:["",He,Ee,Ne]}],"backdrop-filter":[{"backdrop-filter":["","none",Ee,Ne]}],"backdrop-blur":[{"backdrop-blur":ie()}],"backdrop-brightness":[{"backdrop-brightness":[He,Ee,Ne]}],"backdrop-contrast":[{"backdrop-contrast":[He,Ee,Ne]}],"backdrop-grayscale":[{"backdrop-grayscale":["",He,Ee,Ne]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[He,Ee,Ne]}],"backdrop-invert":[{"backdrop-invert":["",He,Ee,Ne]}],"backdrop-opacity":[{"backdrop-opacity":[He,Ee,Ne]}],"backdrop-saturate":[{"backdrop-saturate":[He,Ee,Ne]}],"backdrop-sepia":[{"backdrop-sepia":["",He,Ee,Ne]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":O()}],"border-spacing-x":[{"border-spacing-x":O()}],"border-spacing-y":[{"border-spacing-y":O()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ee,Ne]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[He,"initial",Ee,Ne]}],ease:[{ease:["linear","initial",N,Ee,Ne]}],delay:[{delay:[He,Ee,Ne]}],animate:[{animate:["none",j,Ee,Ne]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,Ee,Ne]}],"perspective-origin":[{"perspective-origin":T()}],rotate:[{rotate:ke()}],"rotate-x":[{"rotate-x":ke()}],"rotate-y":[{"rotate-y":ke()}],"rotate-z":[{"rotate-z":ke()}],scale:[{scale:fe()}],"scale-x":[{"scale-x":fe()}],"scale-y":[{"scale-y":fe()}],"scale-z":[{"scale-z":fe()}],"scale-3d":["scale-3d"],skew:[{skew:_e()}],"skew-x":[{"skew-x":_e()}],"skew-y":[{"skew-y":_e()}],transform:[{transform:[Ee,Ne,"","none","gpu","cpu"]}],"transform-origin":[{origin:T()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Pe()}],"translate-x":[{"translate-x":Pe()}],"translate-y":[{"translate-y":Pe()}],"translate-z":[{"translate-z":Pe()}],"translate-none":["translate-none"],accent:[{accent:z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ee,Ne]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ee,Ne]}],fill:[{fill:["none",...z()]}],"stroke-w":[{stroke:[He,cl,Jo,Sp]}],stroke:[{stroke:["none",...z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Aj=uj(jj);function Ke(...t){return Aj(Ew(t))}function Sn({className:t,...e}){return d.jsx("div",{"data-slot":"card",className:Ke("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...e})}function Hx(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function _w(...t){return e=>{let n=!1;const r=t.map(s=>{const o=Hx(s,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():Hx(t[s],null)}}}}function lt(...t){return C.useCallback(_w(...t),t)}function la(t){const e=Dj(t),n=C.forwardRef((r,s)=>{const{children:o,...a}=r,c=C.Children.toArray(o),u=c.find(Oj);if(u){const h=u.props.children,p=c.map(m=>m===u?C.Children.count(h)>1?C.Children.only(null):C.isValidElement(h)?h.props.children:null:m);return d.jsx(e,{...a,ref:s,children:C.isValidElement(h)?C.cloneElement(h,void 0,p):null})}return d.jsx(e,{...a,ref:s,children:o})});return n.displayName=`${t}.Slot`,n}var zw=la("Slot");function Dj(t){const e=C.forwardRef((n,r)=>{const{children:s,...o}=n;if(C.isValidElement(s)){const a=Pj(s),c=Ij(o,s.props);return s.type!==C.Fragment&&(c.ref=r?_w(r,a):a),C.cloneElement(s,c)}return C.Children.count(s)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var $w=Symbol("radix.slottable");function Rj(t){const e=({children:n})=>d.jsx(d.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=$w,e}function Oj(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===$w}function Ij(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...c)=>{const u=o(...c);return s(...c),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function Pj(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const Ux=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Wx=Ew,bg=(t,e)=>n=>{var r;if(e?.variants==null)return Wx(t,n?.class,n?.className);const{variants:s,defaultVariants:o}=e,a=Object.keys(s).map(h=>{const p=n?.[h],m=o?.[h];if(p===null)return null;const y=Ux(p)||Ux(m);return s[h][y]}),c=n&&Object.entries(n).reduce((h,p)=>{let[m,y]=p;return y===void 0||(h[m]=y),h},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,p)=>{let{class:m,className:y,...v}=p;return Object.entries(v).every(w=>{let[b,S]=w;return Array.isArray(S)?S.includes({...o,...c}[b]):{...o,...c}[b]===S})?[...h,m,y]:h},[]);return Wx(t,a,u,n?.class,n?.className)},wg=bg("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),je=C.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},o)=>{const a=r?zw:"button";return d.jsx(a,{"data-slot":"button",className:Ke(wg({variant:e,size:n,className:t})),ref:o,...s})});je.displayName="Button";const Lj=bg("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function at({className:t,variant:e,asChild:n=!1,...r}){const s=n?zw:"span";return d.jsx(s,{"data-slot":"badge",className:Ke(Lj({variant:e}),t),...r})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zj=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Kx=t=>{const e=zj(t);return e.charAt(0).toUpperCase()+e.slice(1)},Fw=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $j={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:a,...c},u)=>C.createElement("svg",{ref:u,...$j,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Fw("lucide",s),...c},[...a.map(([h,p])=>C.createElement(h,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=(t,e)=>{const n=C.forwardRef(({className:r,...s},o)=>C.createElement(Fj,{ref:o,iconNode:e,className:Fw(`lucide-${_j(Kx(t))}`,`lucide-${t}`,r),...s}));return n.displayName=Kx(t),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Ur=we("activity",Bj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Hj=we("arrow-left",Vj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],Wj=we("bold",Uj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],Bw=we("calendar-days",Kj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Pl=we("calendar",qj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],ta=we("car",Gj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Vw=we("check",Yj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],kg=we("chevron-down",Jj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Qj=we("chevron-left",Xj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],eA=we("chevron-right",Zj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],nA=we("chevron-up",tA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ml=we("circle-alert",rA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Cp=we("circle-check",sA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M8 19v1",key:"1dk2by"}],["path",{d:"M8 14v1",key:"84yxot"}],["path",{d:"M16 19v1",key:"v220m7"}],["path",{d:"M16 14v1",key:"g12gj6"}],["path",{d:"M12 21v1",key:"q8vafk"}],["path",{d:"M12 16v1",key:"1mx6rx"}]],iA=we("cloud-drizzle",oA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]],qx=we("cloud-off",aA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]],cA=we("cloud-rain",lA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M8 15h.01",key:"a7atzg"}],["path",{d:"M8 19h.01",key:"puxtts"}],["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M12 21h.01",key:"h35vbk"}],["path",{d:"M16 15h.01",key:"rnfrdf"}],["path",{d:"M16 19h.01",key:"1vcnzz"}]],dA=we("cloud-snow",uA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],Zi=we("cloud",fA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Ju=we("download",hA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],Gx=we("droplets",pA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Zd=we("ellipsis",mA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],wl=we("external-link",gA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],vA=we("eye",yA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Sg=we("file-text",xA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]],wA=we("heading-1",bA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]],SA=we("heading-2",kA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]],NA=we("highlighter",CA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EA=[["path",{d:"M10 22v-6.57",key:"1wmca3"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M14 15.43V22",key:"1q2vjd"}],["path",{d:"M15 16a5 5 0 0 0-6 0",key:"o9wqvi"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],ef=we("hotel",EA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],ca=we("instagram",TA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],jA=we("italic",MA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],No=we("link",AA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],RA=we("list-ordered",DA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OA=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],Hw=we("list",OA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Xu=we("loader-circle",IA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Qe=we("map-pin",PA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Uw=we("map",LA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=[["path",{d:"M5 12h14",key:"1ays0h"}]],zA=we("minus",_A);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],Ll=we("music",$A);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],BA=we("palette",FA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],HA=we("pencil",VA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=[["path",{d:"M2 22h20",key:"272qi7"}],["path",{d:"M6.36 17.4 4 17l-2-4 1.1-.55a2 2 0 0 1 1.8 0l.17.1a2 2 0 0 0 1.8 0L8 12 5 6l.9-.45a2 2 0 0 1 2.09.2l4.02 3a2 2 0 0 0 2.1.2l4.19-2.06a2.41 2.41 0 0 1 1.73-.17L21 7a1.4 1.4 0 0 1 .87 1.99l-.38.76c-.23.46-.6.84-1.07 1.08L7.58 17.2a2 2 0 0 1-1.22.18Z",key:"fkigj9"}]],Yx=we("plane-takeoff",UA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],Cg=we("plane",WA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],qA=we("play",KA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],vo=we("plus",GA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],JA=we("quote",YA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],QA=we("redo",XA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],eD=we("refresh-cw",ZA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=[["path",{d:"M4 7V4h16v3",key:"9msm58"}],["path",{d:"M5 20h6",key:"1h6pxn"}],["path",{d:"M13 4 8 20",key:"kqq6aj"}],["path",{d:"m15 15 5 5",key:"me55sn"}],["path",{d:"m20 15-5 5",key:"11p7ol"}]],nD=we("remove-formatting",tD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],sD=we("search",rD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],iD=we("square-check-big",oD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Es=we("square-pen",aD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]],cD=we("strikethrough",lD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Jx=we("sun",uD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]],fD=we("sunrise",dD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=[["path",{d:"M12 10V2",key:"16sf7g"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]],pD=we("sunset",hD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],gD=we("thermometer",mD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],tf=we("trash-2",yD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],ua=we("twitter",vD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],bD=we("underline",xD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],kD=we("undo",wD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],CD=we("upload",SD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],fo=we("utensils",ND);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],TD=we("wind",ED);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],nc=we("x",MD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],_l=we("youtube",jD);function Ue(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t?.(s),n===!1||!s.defaultPrevented)return e?.(s)}}function AD(t,e){const n=C.createContext(e),r=o=>{const{children:a,...c}=o,u=C.useMemo(()=>c,Object.values(c));return d.jsx(n.Provider,{value:u,children:a})};r.displayName=t+"Provider";function s(o){const a=C.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,s]}function Dr(t,e=[]){let n=[];function r(o,a){const c=C.createContext(a),u=n.length;n=[...n,a];const h=m=>{const{scope:y,children:v,...w}=m,b=y?.[t]?.[u]||c,S=C.useMemo(()=>w,Object.values(w));return d.jsx(b.Provider,{value:S,children:v})};h.displayName=o+"Provider";function p(m,y){const v=y?.[t]?.[u]||c,w=C.useContext(v);if(w)return w;if(a!==void 0)return a;throw new Error(`\`${m}\` must be used within \`${o}\``)}return[h,p]}const s=()=>{const o=n.map(a=>C.createContext(a));return function(c){const u=c?.[t]||o;return C.useMemo(()=>({[`__scope${t}`]:{...c,[t]:u}}),[c,u])}};return s.scopeName=t,[r,DD(s,...e)]}function DD(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const a=r.reduce((c,{useScope:u,scopeName:h})=>{const m=u(o)[`__scope${h}`];return{...c,...m}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var cn=globalThis?.document?C.useLayoutEffect:()=>{},RD=Cw[" useId ".trim().toString()]||(()=>{}),OD=0;function Gr(t){const[e,n]=C.useState(RD());return cn(()=>{n(r=>r??String(OD++))},[t]),t||(e?`radix-${e}`:"")}var ID=Cw[" useInsertionEffect ".trim().toString()]||cn;function js({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,o,a]=PD({defaultProp:e,onChange:n}),c=t!==void 0,u=c?t:s;{const p=C.useRef(t!==void 0);C.useEffect(()=>{const m=p.current;m!==c&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=c},[c,r])}const h=C.useCallback(p=>{if(c){const m=LD(p)?p(t):p;m!==t&&a.current?.(m)}else o(p)},[c,t,o,a]);return[u,h]}function PD({defaultProp:t,onChange:e}){const[n,r]=C.useState(t),s=C.useRef(n),o=C.useRef(e);return ID(()=>{o.current=e},[e]),C.useEffect(()=>{s.current!==n&&(o.current?.(n),s.current=n)},[n,s]),[n,r,o]}function LD(t){return typeof t=="function"}var Kr=Sw();const Ng=vg(Kr);var _D=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Fe=_D.reduce((t,e)=>{const n=la(`Primitive.${e}`),r=C.forwardRef((s,o)=>{const{asChild:a,...c}=s,u=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(u,{...c,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function zD(t,e){t&&Kr.flushSync(()=>t.dispatchEvent(e))}function Eo(t){const e=C.useRef(t);return C.useEffect(()=>{e.current=t}),C.useMemo(()=>(...n)=>e.current?.(...n),[])}function $D(t,e=globalThis?.document){const n=Eo(t);C.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var FD="DismissableLayer",Sm="dismissableLayer.update",BD="dismissableLayer.pointerDownOutside",VD="dismissableLayer.focusOutside",Xx,Ww=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Eg=C.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:c,...u}=t,h=C.useContext(Ww),[p,m]=C.useState(null),y=p?.ownerDocument??globalThis?.document,[,v]=C.useState({}),w=lt(e,D=>m(D)),b=Array.from(h.layers),[S]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),N=b.indexOf(S),j=p?b.indexOf(p):-1,A=h.layersWithOutsidePointerEventsDisabled.size>0,E=j>=N,T=WD(D=>{const O=D.target,H=[...h.branches].some(Q=>Q.contains(O));!E||H||(s?.(D),a?.(D),D.defaultPrevented||c?.())},y),R=KD(D=>{const O=D.target;[...h.branches].some(Q=>Q.contains(O))||(o?.(D),a?.(D),D.defaultPrevented||c?.())},y);return $D(D=>{j===h.layers.size-1&&(r?.(D),!D.defaultPrevented&&c&&(D.preventDefault(),c()))},y),C.useEffect(()=>{if(p)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(Xx=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),Qx(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=Xx)}},[p,y,n,h]),C.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),Qx())},[p,h]),C.useEffect(()=>{const D=()=>v({});return document.addEventListener(Sm,D),()=>document.removeEventListener(Sm,D)},[]),d.jsx(Fe.div,{...u,ref:w,style:{pointerEvents:A?E?"auto":"none":void 0,...t.style},onFocusCapture:Ue(t.onFocusCapture,R.onFocusCapture),onBlurCapture:Ue(t.onBlurCapture,R.onBlurCapture),onPointerDownCapture:Ue(t.onPointerDownCapture,T.onPointerDownCapture)})});Eg.displayName=FD;var HD="DismissableLayerBranch",UD=C.forwardRef((t,e)=>{const n=C.useContext(Ww),r=C.useRef(null),s=lt(e,r);return C.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),d.jsx(Fe.div,{...t,ref:s})});UD.displayName=HD;function WD(t,e=globalThis?.document){const n=Eo(t),r=C.useRef(!1),s=C.useRef(()=>{});return C.useEffect(()=>{const o=c=>{if(c.target&&!r.current){let u=function(){Kw(BD,n,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=u,e.addEventListener("click",s.current,{once:!0})):u()}else e.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function KD(t,e=globalThis?.document){const n=Eo(t),r=C.useRef(!1);return C.useEffect(()=>{const s=o=>{o.target&&!r.current&&Kw(VD,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Qx(){const t=new CustomEvent(Sm);document.dispatchEvent(t)}function Kw(t,e,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?zD(s,o):s.dispatchEvent(o)}var Np="focusScope.autoFocusOnMount",Ep="focusScope.autoFocusOnUnmount",Zx={bubbles:!1,cancelable:!0},qD="FocusScope",Tg=C.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...a}=t,[c,u]=C.useState(null),h=Eo(s),p=Eo(o),m=C.useRef(null),y=lt(e,b=>u(b)),v=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(r){let b=function(A){if(v.paused||!c)return;const E=A.target;c.contains(E)?m.current=E:oo(m.current,{select:!0})},S=function(A){if(v.paused||!c)return;const E=A.relatedTarget;E!==null&&(c.contains(E)||oo(m.current,{select:!0}))},N=function(A){if(document.activeElement===document.body)for(const T of A)T.removedNodes.length>0&&oo(c)};document.addEventListener("focusin",b),document.addEventListener("focusout",S);const j=new MutationObserver(N);return c&&j.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",S),j.disconnect()}}},[r,c,v.paused]),C.useEffect(()=>{if(c){t1.add(v);const b=document.activeElement;if(!c.contains(b)){const N=new CustomEvent(Np,Zx);c.addEventListener(Np,h),c.dispatchEvent(N),N.defaultPrevented||(GD(ZD(qw(c)),{select:!0}),document.activeElement===b&&oo(c))}return()=>{c.removeEventListener(Np,h),setTimeout(()=>{const N=new CustomEvent(Ep,Zx);c.addEventListener(Ep,p),c.dispatchEvent(N),N.defaultPrevented||oo(b??document.body,{select:!0}),c.removeEventListener(Ep,p),t1.remove(v)},0)}}},[c,h,p,v]);const w=C.useCallback(b=>{if(!n&&!r||v.paused)return;const S=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,N=document.activeElement;if(S&&N){const j=b.currentTarget,[A,E]=YD(j);A&&E?!b.shiftKey&&N===E?(b.preventDefault(),n&&oo(A,{select:!0})):b.shiftKey&&N===A&&(b.preventDefault(),n&&oo(E,{select:!0})):N===j&&b.preventDefault()}},[n,r,v.paused]);return d.jsx(Fe.div,{tabIndex:-1,...a,ref:y,onKeyDown:w})});Tg.displayName=qD;function GD(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(oo(r,{select:e}),document.activeElement!==n)return}function YD(t){const e=qw(t),n=e1(e,t),r=e1(e.reverse(),t);return[n,r]}function qw(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function e1(t,e){for(const n of t)if(!JD(n,{upTo:e}))return n}function JD(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function XD(t){return t instanceof HTMLInputElement&&"select"in t}function oo(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&XD(t)&&e&&t.select()}}var t1=QD();function QD(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=n1(t,e),t.unshift(e)},remove(e){t=n1(t,e),t[0]?.resume()}}}function n1(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function ZD(t){return t.filter(e=>e.tagName!=="A")}var eR="Portal",Mg=C.forwardRef((t,e)=>{const{container:n,...r}=t,[s,o]=C.useState(!1);cn(()=>o(!0),[]);const a=n||s&&globalThis?.document?.body;return a?Ng.createPortal(d.jsx(Fe.div,{...r,ref:e}),a):null});Mg.displayName=eR;function tR(t,e){return C.useReducer((n,r)=>e[n][r]??n,t)}var xi=t=>{const{present:e,children:n}=t,r=nR(e),s=typeof n=="function"?n({present:r.isPresent}):C.Children.only(n),o=lt(r.ref,rR(s));return typeof n=="function"||r.isPresent?C.cloneElement(s,{ref:o}):null};xi.displayName="Presence";function nR(t){const[e,n]=C.useState(),r=C.useRef(null),s=C.useRef(t),o=C.useRef("none"),a=t?"mounted":"unmounted",[c,u]=tR(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const h=bu(r.current);o.current=c==="mounted"?h:"none"},[c]),cn(()=>{const h=r.current,p=s.current;if(p!==t){const y=o.current,v=bu(h);t?u("MOUNT"):v==="none"||h?.display==="none"?u("UNMOUNT"):u(p&&y!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,u]),cn(()=>{if(e){let h;const p=e.ownerDocument.defaultView??window,m=v=>{const b=bu(r.current).includes(CSS.escape(v.animationName));if(v.target===e&&b&&(u("ANIMATION_END"),!s.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",h=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},y=v=>{v.target===e&&(o.current=bu(r.current))};return e.addEventListener("animationstart",y),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{p.clearTimeout(h),e.removeEventListener("animationstart",y),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:C.useCallback(h=>{r.current=h?getComputedStyle(h):null,n(h)},[])}}function bu(t){return t?.animationName||"none"}function rR(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Tp=0;function Gw(){C.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??r1()),document.body.insertAdjacentElement("beforeend",t[1]??r1()),Tp++,()=>{Tp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Tp--}},[])}function r1(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Wr=function(){return Wr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Wr.apply(this,arguments)};function Yw(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function sR(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Fu="right-scroll-bar-position",Bu="width-before-scroll-bar",oR="with-scroll-bars-hidden",iR="--removed-body-scroll-bar-size";function Mp(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function aR(t,e){var n=C.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var lR=typeof window<"u"?C.useLayoutEffect:C.useEffect,s1=new WeakMap;function cR(t,e){var n=aR(null,function(r){return t.forEach(function(s){return Mp(s,r)})});return lR(function(){var r=s1.get(n);if(r){var s=new Set(r),o=new Set(t),a=n.current;s.forEach(function(c){o.has(c)||Mp(c,null)}),o.forEach(function(c){s.has(c)||Mp(c,a)})}s1.set(n,t)},[t]),n}function uR(t){return t}function dR(t,e){e===void 0&&(e=uR);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var a=e(o,r);return n.push(a),function(){n=n.filter(function(c){return c!==a})}},assignSyncMedium:function(o){for(r=!0;n.length;){var a=n;n=[],a.forEach(o)}n={push:function(c){return o(c)},filter:function(){return n}}},assignMedium:function(o){r=!0;var a=[];if(n.length){var c=n;n=[],c.forEach(o),a=n}var u=function(){var p=a;a=[],p.forEach(o)},h=function(){return Promise.resolve().then(u)};h(),n={push:function(p){a.push(p),h()},filter:function(p){return a=a.filter(p),n}}}};return s}function fR(t){t===void 0&&(t={});var e=dR(null);return e.options=Wr({async:!0,ssr:!1},t),e}var Jw=function(t){var e=t.sideCar,n=Yw(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return C.createElement(r,Wr({},n))};Jw.isSideCarExport=!0;function hR(t,e){return t.useMedium(e),Jw}var Xw=fR(),jp=function(){},nf=C.forwardRef(function(t,e){var n=C.useRef(null),r=C.useState({onScrollCapture:jp,onWheelCapture:jp,onTouchMoveCapture:jp}),s=r[0],o=r[1],a=t.forwardProps,c=t.children,u=t.className,h=t.removeScrollBar,p=t.enabled,m=t.shards,y=t.sideCar,v=t.noRelative,w=t.noIsolation,b=t.inert,S=t.allowPinchZoom,N=t.as,j=N===void 0?"div":N,A=t.gapMode,E=Yw(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=y,R=cR([n,e]),D=Wr(Wr({},E),s);return C.createElement(C.Fragment,null,p&&C.createElement(T,{sideCar:Xw,removeScrollBar:h,shards:m,noRelative:v,noIsolation:w,inert:b,setCallbacks:o,allowPinchZoom:!!S,lockRef:n,gapMode:A}),a?C.cloneElement(C.Children.only(c),Wr(Wr({},D),{ref:R})):C.createElement(j,Wr({},D,{className:u,ref:R}),c))});nf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};nf.classNames={fullWidth:Bu,zeroRight:Fu};var pR=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function mR(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=pR();return e&&t.setAttribute("nonce",e),t}function gR(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function yR(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var vR=function(){var t=0,e=null;return{add:function(n){t==0&&(e=mR())&&(gR(e,n),yR(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},xR=function(){var t=vR();return function(e,n){C.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Qw=function(){var t=xR(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},bR={left:0,top:0,right:0,gap:0},Ap=function(t){return parseInt(t||"",10)||0},wR=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Ap(n),Ap(r),Ap(s)]},kR=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return bR;var e=wR(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},SR=Qw(),na="data-scroll-locked",CR=function(t,e,n,r){var s=t.left,o=t.top,a=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(oR,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(na,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Fu,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Bu,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Fu," .").concat(Fu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Bu," .").concat(Bu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(na,`] {
    `).concat(iR,": ").concat(c,`px;
  }
`)},o1=function(){var t=parseInt(document.body.getAttribute(na)||"0",10);return isFinite(t)?t:0},NR=function(){C.useEffect(function(){return document.body.setAttribute(na,(o1()+1).toString()),function(){var t=o1()-1;t<=0?document.body.removeAttribute(na):document.body.setAttribute(na,t.toString())}},[])},ER=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;NR();var o=C.useMemo(function(){return kR(s)},[s]);return C.createElement(SR,{styles:CR(o,!e,s,n?"":"!important")})},Cm=!1;if(typeof window<"u")try{var wu=Object.defineProperty({},"passive",{get:function(){return Cm=!0,!0}});window.addEventListener("test",wu,wu),window.removeEventListener("test",wu,wu)}catch{Cm=!1}var Ui=Cm?{passive:!1}:!1,TR=function(t){return t.tagName==="TEXTAREA"},Zw=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!TR(t)&&n[e]==="visible")},MR=function(t){return Zw(t,"overflowY")},jR=function(t){return Zw(t,"overflowX")},i1=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=ek(t,r);if(s){var o=tk(t,r),a=o[1],c=o[2];if(a>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},AR=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},DR=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},ek=function(t,e){return t==="v"?MR(e):jR(e)},tk=function(t,e){return t==="v"?AR(e):DR(e)},RR=function(t,e){return t==="h"&&e==="rtl"?-1:1},OR=function(t,e,n,r,s){var o=RR(t,window.getComputedStyle(e).direction),a=o*r,c=n.target,u=e.contains(c),h=!1,p=a>0,m=0,y=0;do{if(!c)break;var v=tk(t,c),w=v[0],b=v[1],S=v[2],N=b-S-o*w;(w||N)&&ek(t,c)&&(m+=N,y+=w);var j=c.parentNode;c=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!u&&c!==document.body||u&&(e.contains(c)||e===c));return(p&&Math.abs(m)<1||!p&&Math.abs(y)<1)&&(h=!0),h},ku=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},a1=function(t){return[t.deltaX,t.deltaY]},l1=function(t){return t&&"current"in t?t.current:t},IR=function(t,e){return t[0]===e[0]&&t[1]===e[1]},PR=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},LR=0,Wi=[];function _R(t){var e=C.useRef([]),n=C.useRef([0,0]),r=C.useRef(),s=C.useState(LR++)[0],o=C.useState(Qw)[0],a=C.useRef(t);C.useEffect(function(){a.current=t},[t]),C.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var b=sR([t.lockRef.current],(t.shards||[]).map(l1),!0).filter(Boolean);return b.forEach(function(S){return S.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),b.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var c=C.useCallback(function(b,S){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!a.current.allowPinchZoom;var N=ku(b),j=n.current,A="deltaX"in b?b.deltaX:j[0]-N[0],E="deltaY"in b?b.deltaY:j[1]-N[1],T,R=b.target,D=Math.abs(A)>Math.abs(E)?"h":"v";if("touches"in b&&D==="h"&&R.type==="range")return!1;var O=i1(D,R);if(!O)return!0;if(O?T=D:(T=D==="v"?"h":"v",O=i1(D,R)),!O)return!1;if(!r.current&&"changedTouches"in b&&(A||E)&&(r.current=T),!T)return!0;var H=r.current||T;return OR(H,S,b,H==="h"?A:E)},[]),u=C.useCallback(function(b){var S=b;if(!(!Wi.length||Wi[Wi.length-1]!==o)){var N="deltaY"in S?a1(S):ku(S),j=e.current.filter(function(T){return T.name===S.type&&(T.target===S.target||S.target===T.shadowParent)&&IR(T.delta,N)})[0];if(j&&j.should){S.cancelable&&S.preventDefault();return}if(!j){var A=(a.current.shards||[]).map(l1).filter(Boolean).filter(function(T){return T.contains(S.target)}),E=A.length>0?c(S,A[0]):!a.current.noIsolation;E&&S.cancelable&&S.preventDefault()}}},[]),h=C.useCallback(function(b,S,N,j){var A={name:b,delta:S,target:N,should:j,shadowParent:zR(N)};e.current.push(A),setTimeout(function(){e.current=e.current.filter(function(E){return E!==A})},1)},[]),p=C.useCallback(function(b){n.current=ku(b),r.current=void 0},[]),m=C.useCallback(function(b){h(b.type,a1(b),b.target,c(b,t.lockRef.current))},[]),y=C.useCallback(function(b){h(b.type,ku(b),b.target,c(b,t.lockRef.current))},[]);C.useEffect(function(){return Wi.push(o),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:y}),document.addEventListener("wheel",u,Ui),document.addEventListener("touchmove",u,Ui),document.addEventListener("touchstart",p,Ui),function(){Wi=Wi.filter(function(b){return b!==o}),document.removeEventListener("wheel",u,Ui),document.removeEventListener("touchmove",u,Ui),document.removeEventListener("touchstart",p,Ui)}},[]);var v=t.removeScrollBar,w=t.inert;return C.createElement(C.Fragment,null,w?C.createElement(o,{styles:PR(s)}):null,v?C.createElement(ER,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function zR(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const $R=hR(Xw,_R);var jg=C.forwardRef(function(t,e){return C.createElement(nf,Wr({},t,{ref:e,sideCar:$R}))});jg.classNames=nf.classNames;var FR=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ki=new WeakMap,Su=new WeakMap,Cu={},Dp=0,nk=function(t){return t&&(t.host||nk(t.parentNode))},BR=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=nk(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},VR=function(t,e,n,r){var s=BR(e,Array.isArray(t)?t:[t]);Cu[n]||(Cu[n]=new WeakMap);var o=Cu[n],a=[],c=new Set,u=new Set(s),h=function(m){!m||c.has(m)||(c.add(m),h(m.parentNode))};s.forEach(h);var p=function(m){!m||u.has(m)||Array.prototype.forEach.call(m.children,function(y){if(c.has(y))p(y);else try{var v=y.getAttribute(r),w=v!==null&&v!=="false",b=(Ki.get(y)||0)+1,S=(o.get(y)||0)+1;Ki.set(y,b),o.set(y,S),a.push(y),b===1&&w&&Su.set(y,!0),S===1&&y.setAttribute(n,"true"),w||y.setAttribute(r,"true")}catch(N){console.error("aria-hidden: cannot operate on ",y,N)}})};return p(e),c.clear(),Dp++,function(){a.forEach(function(m){var y=Ki.get(m)-1,v=o.get(m)-1;Ki.set(m,y),o.set(m,v),y||(Su.has(m)||m.removeAttribute(r),Su.delete(m)),v||m.removeAttribute(n)}),Dp--,Dp||(Ki=new WeakMap,Ki=new WeakMap,Su=new WeakMap,Cu={})}},rk=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=FR(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),VR(r,s,n,"aria-hidden")):function(){return null}},rf="Dialog",[sk,ok]=Dr(rf),[HR,Rr]=sk(rf),ik=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:a=!0}=t,c=C.useRef(null),u=C.useRef(null),[h,p]=js({prop:r,defaultProp:s??!1,onChange:o,caller:rf});return d.jsx(HR,{scope:e,triggerRef:c,contentRef:u,contentId:Gr(),titleId:Gr(),descriptionId:Gr(),open:h,onOpenChange:p,onOpenToggle:C.useCallback(()=>p(m=>!m),[p]),modal:a,children:n})};ik.displayName=rf;var ak="DialogTrigger",lk=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Rr(ak,n),o=lt(e,s.triggerRef);return d.jsx(Fe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Rg(s.open),...r,ref:o,onClick:Ue(t.onClick,s.onOpenToggle)})});lk.displayName=ak;var Ag="DialogPortal",[UR,ck]=sk(Ag,{forceMount:void 0}),uk=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,o=Rr(Ag,e);return d.jsx(UR,{scope:e,forceMount:n,children:C.Children.map(r,a=>d.jsx(xi,{present:n||o.open,children:d.jsx(Mg,{asChild:!0,container:s,children:a})}))})};uk.displayName=Ag;var Qu="DialogOverlay",dk=C.forwardRef((t,e)=>{const n=ck(Qu,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=Rr(Qu,t.__scopeDialog);return o.modal?d.jsx(xi,{present:r||o.open,children:d.jsx(KR,{...s,ref:e})}):null});dk.displayName=Qu;var WR=la("DialogOverlay.RemoveScroll"),KR=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Rr(Qu,n);return d.jsx(jg,{as:WR,allowPinchZoom:!0,shards:[s.contentRef],children:d.jsx(Fe.div,{"data-state":Rg(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),ui="DialogContent",fk=C.forwardRef((t,e)=>{const n=ck(ui,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=Rr(ui,t.__scopeDialog);return d.jsx(xi,{present:r||o.open,children:o.modal?d.jsx(qR,{...s,ref:e}):d.jsx(GR,{...s,ref:e})})});fk.displayName=ui;var qR=C.forwardRef((t,e)=>{const n=Rr(ui,t.__scopeDialog),r=C.useRef(null),s=lt(e,n.contentRef,r);return C.useEffect(()=>{const o=r.current;if(o)return rk(o)},[]),d.jsx(hk,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ue(t.onCloseAutoFocus,o=>{o.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Ue(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,c=a.button===0&&a.ctrlKey===!0;(a.button===2||c)&&o.preventDefault()}),onFocusOutside:Ue(t.onFocusOutside,o=>o.preventDefault())})}),GR=C.forwardRef((t,e)=>{const n=Rr(ui,t.__scopeDialog),r=C.useRef(!1),s=C.useRef(!1);return d.jsx(hk,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{t.onCloseAutoFocus?.(o),o.defaultPrevented||(r.current||n.triggerRef.current?.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{t.onInteractOutside?.(o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=o.target;n.triggerRef.current?.contains(a)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),hk=C.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...a}=t,c=Rr(ui,n),u=C.useRef(null),h=lt(e,u);return Gw(),d.jsxs(d.Fragment,{children:[d.jsx(Tg,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:d.jsx(Eg,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":Rg(c.open),...a,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(JR,{titleId:c.titleId}),d.jsx(QR,{contentRef:u,descriptionId:c.descriptionId})]})]})}),Dg="DialogTitle",pk=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Rr(Dg,n);return d.jsx(Fe.h2,{id:s.titleId,...r,ref:e})});pk.displayName=Dg;var mk="DialogDescription",gk=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Rr(mk,n);return d.jsx(Fe.p,{id:s.descriptionId,...r,ref:e})});gk.displayName=mk;var yk="DialogClose",vk=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Rr(yk,n);return d.jsx(Fe.button,{type:"button",...r,ref:e,onClick:Ue(t.onClick,()=>s.onOpenChange(!1))})});vk.displayName=yk;function Rg(t){return t?"open":"closed"}var xk="DialogTitleWarning",[YR,bk]=AD(xk,{contentName:ui,titleName:Dg,docsSlug:"dialog"}),JR=({titleId:t})=>{const e=bk(xk),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return C.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},XR="DialogDescriptionWarning",QR=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${bk(XR).contentName}}.`;return C.useEffect(()=>{const s=t.current?.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},wk=ik,ZR=lk,kk=uk,Og=dk,Sk=fk,Ck=pk,Nk=gk,Ig=vk;function es({...t}){return d.jsx(wk,{"data-slot":"dialog",...t})}function eO({...t}){return d.jsx(kk,{"data-slot":"dialog-portal",...t})}const Ek=C.forwardRef(({className:t,...e},n)=>d.jsx(Og,{ref:n,"data-slot":"dialog-overlay",className:Ke("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e}));Ek.displayName=Og.displayName;function ts({className:t,children:e,...n}){return d.jsxs(eO,{"data-slot":"dialog-portal",children:[d.jsx(Ek,{}),d.jsxs(Sk,{"data-slot":"dialog-content",className:Ke("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...n,children:[e,d.jsxs(Ig,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[d.jsx(nc,{}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function ns({className:t,...e}){return d.jsx("div",{"data-slot":"dialog-header",className:Ke("flex flex-col gap-2 text-center sm:text-left",t),...e})}function Rs({className:t,...e}){return d.jsx("div",{"data-slot":"dialog-footer",className:Ke("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function rs({className:t,...e}){return d.jsx(Ck,{"data-slot":"dialog-title",className:Ke("text-lg leading-none font-semibold",t),...e})}function Ro({className:t,...e}){return d.jsx(Nk,{"data-slot":"dialog-description",className:Ke("text-muted-foreground text-sm",t),...e})}const it=C.forwardRef(({className:t,type:e,...n},r)=>d.jsx("input",{type:e,ref:r,"data-slot":"input",className:Ke("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n}));it.displayName="Input";var tO="Label",Tk=C.forwardRef((t,e)=>d.jsx(Fe.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Tk.displayName=tO;var nO=Tk;function ze({className:t,...e}){return d.jsx(nO,{"data-slot":"label",className:Ke("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}function Mk({open:t,onOpenChange:e,trip:n,onUpdateDates:r}){const[s,o]=C.useState(""),[a,c]=C.useState("");C.useEffect(()=>{n&&(o(n.startDate),c(n.endDate))},[n]);const u=p=>{p.preventDefault(),n&&(r(n.id,s,a),e(!1))};if(!n)return null;const h=p=>{if(!p)return"";const[m,y,v]=p.split("-");return new Date(Number(m),Number(y)-1,Number(v)).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})};return d.jsx(es,{open:t,onOpenChange:e,children:d.jsxs(ts,{className:"w-[95vw] max-w-[425px]",children:[d.jsxs(ns,{children:[d.jsxs(rs,{className:"flex items-center gap-2",children:[d.jsx(Pl,{className:"w-5 h-5"}),"Edit Trip Dates"]}),d.jsxs(Ro,{children:["Update the dates for ",n.destination]})]}),d.jsxs("form",{onSubmit:u,children:[d.jsxs("div",{className:"space-y-4 py-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{htmlFor:"edit-startDate",children:"Start Date"}),d.jsx(it,{id:"edit-startDate",type:"date",value:s,onChange:p=>o(p.target.value),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{htmlFor:"edit-endDate",children:"End Date"}),d.jsx(it,{id:"edit-endDate",type:"date",value:a,onChange:p=>c(p.target.value),required:!0,min:s})]}),d.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[d.jsxs("p",{className:"text-sm text-blue-900",children:["Current: ",h(n.startDate)," - ",h(n.endDate)]}),d.jsxs("p",{className:"text-sm text-blue-900 mt-1",children:["New: ",h(s)," - ",h(a)]})]})]}),d.jsxs(Rs,{children:[d.jsx(je,{type:"button",variant:"outline",onClick:()=>e(!1),children:"Cancel"}),d.jsx(je,{type:"submit",className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",children:"Update Dates"})]})]})]})})}function xa({className:t,...e}){return d.jsx("textarea",{"data-slot":"textarea",className:Ke("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}const rO="AIzaSyAuzCLElzpyp40RAzWLi0cUDdjKSlt7Jt0";let no=null,Rp=0;const c1=3;function Pg(){if(no)return console.log(" Returning existing Google Maps load promise"),no;if(window.google&&window.google.maps&&window.google.maps.places&&window.google.maps.places.Place)return console.log(" Google Maps API already fully loaded"),Promise.resolve();const t=document.querySelector('script[src*="maps.googleapis.com"]');if(t){if(console.log(" Found existing Google Maps script tag:",t.src.substring(0,100)),!(t.src.includes("libraries=places")||t.src.includes("libraries%3Dplaces"))){if(Rp>=c1)return console.error(" Max reload attempts reached. Cannot fix Google Maps script."),Promise.reject(new Error("Failed to load Google Maps with Places library after multiple attempts"));if(Rp++,console.log(` Auto-fixing Google Maps script (attempt ${Rp}/${c1})`),console.log("   Detected script without Places library - reloading with correct configuration..."),t.remove(),window.google)try{delete window.google}catch{window.google=void 0}return new Promise(n=>setTimeout(n,100)).then(()=>(no=null,Pg()))}return console.log(" Existing script includes Places library, waiting for init..."),no=new Promise((n,r)=>{let s=0;const o=200;let a=50;const c=()=>{if(s++,window.google&&window.google.maps&&window.google.maps.places&&window.google.maps.places.Place){console.log(" Google Maps Places library ready"),n();return}if(s>=o){const u=new Error("Google Maps API loading timeout");console.error(" Google Maps API timeout. Debug info:",{hasGoogle:!!window.google,hasMaps:!!(window.google&&window.google.maps),hasPlaces:!!(window.google&&window.google.maps&&window.google.maps.places),hasPlace:!!(window.google&&window.google.maps&&window.google.maps.places&&window.google.maps.places.Place)}),r(u);return}s%10===0&&a<500&&(a=Math.min(a*1.5,500)),setTimeout(c,a)};c()}),no}return console.log(" Loading Google Maps API with Places library..."),no=new Promise((e,n)=>{const r=document.createElement("script"),s="initGoogleMaps_"+Date.now();window[s]=()=>{console.log(" Google Maps callback triggered"),delete window[s]},r.src=`https://maps.googleapis.com/maps/api/js?key=${rO}&libraries=places,geometry&callback=${s}`,r.async=!0,r.defer=!0,r.onload=()=>{console.log(" Google Maps script loaded, waiting for initialization...");let o=0;const a=100,c=()=>{if(o++,window.google&&window.google.maps&&window.google.maps.places&&window.google.maps.places.Place){console.log(" Google Maps API fully initialized with Places library"),e();return}if(o>=a){const u=new Error("Google Maps API initialization timeout");console.error(" Timeout after",o,"attempts"),console.error("Debug state:",{hasGoogle:!!window.google,hasMaps:!!(window.google&&window.google.maps),hasPlaces:!!(window.google&&window.google.maps&&window.google.maps.places),hasPlace:!!(window.google&&window.google.maps&&window.google.maps.places&&window.google.maps.places.Place)}),n(u);return}setTimeout(c,50)};c()},r.onerror=o=>{const a=new Error("Failed to load Google Maps script - network error or invalid API key");console.error("",a.message,o),no=null,n(a)},document.head.appendChild(r)}),no}function ba({value:t,onChange:e,onPlaceSelected:n,placeholder:r="Search for a place...",disabled:s=!1}){const o=C.useRef(null),a=C.useRef(null),c=C.useRef(null),[u,h]=C.useState(!0);return C.useEffect(()=>{let p=!0;const m=async()=>{try{if(await Pg(),!p||!o.current||(await new Promise(v=>setTimeout(v,100)),!p||!o.current))return;console.log(" Initializing autocomplete..."),c.current&&google.maps.event.removeListener(c.current),a.current=new google.maps.places.Autocomplete(o.current,{fields:["name","formatted_address","geometry","types"]}),console.log(" Autocomplete initialized"),c.current=a.current.addListener("place_changed",()=>{const v=a.current?.getPlace();if(console.log(" Place selected:",v),!v||!v.geometry||!v.geometry.location){console.log(" No geometry in place");return}const w=v.geometry.location.lat(),b=v.geometry.location.lng(),S={name:v.name||"",address:v.formatted_address||"",coordinates:`${w},${b}`,placeType:v.types?.join(",")||""};o.current&&(o.current.value=v.name||v.formatted_address||""),e(v.name||v.formatted_address||""),n(S)}),setTimeout(()=>{document.querySelectorAll(".pac-container").forEach(w=>{w.style.zIndex="99999"})},100),h(!1)}catch(v){console.error(" Failed to load Google Maps:",v),p&&h(!1)}},y=setTimeout(()=>{m()},50);return()=>{p=!1,clearTimeout(y),c.current&&google.maps.event.removeListener(c.current)}},[n]),d.jsxs("div",{className:"relative",children:[d.jsx(sD,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none z-10"}),d.jsx("input",{ref:o,type:"text",defaultValue:t,onChange:p=>e(p.target.value),placeholder:r,disabled:s||u,className:"flex h-9 w-full rounded-md border border-gray-300 bg-white px-3 py-1 pl-10 text-sm text-gray-900 shadow-sm transition-colors placeholder:text-gray-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-50",autoComplete:"off"}),u&&d.jsx(Xu,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 animate-spin text-gray-400"})]})}function sO(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const oO=t=>{switch(t){case"success":return lO;case"info":return uO;case"warning":return cO;case"error":return dO;default:return null}},iO=Array(12).fill(0),aO=({visible:t,className:e})=>W.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},W.createElement("div",{className:"sonner-spinner"},iO.map((n,r)=>W.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),lO=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),cO=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),uO=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),dO=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),fO=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},W.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),W.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),hO=()=>{const[t,e]=W.useState(document.hidden);return W.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let Nm=1;class pO{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...s}=e,o=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Nm++,a=this.toasts.find(u=>u.id===o),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),a?this.toasts=this.toasts.map(u=>u.id===o?(this.publish({...u,...e,id:o,title:r}),{...u,...e,id:o,dismissible:c,title:r}):u):this.addToast({title:r,...s,dismissible:c,id:o}),o},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const s=Promise.resolve(e instanceof Function?e():e);let o=r!==void 0,a;const c=s.then(async h=>{if(a=["resolve",h],W.isValidElement(h))o=!1,this.create({id:r,type:"default",message:h});else if(gO(h)&&!h.ok){o=!1;const m=typeof n.error=="function"?await n.error(`HTTP error! status: ${h.status}`):n.error,y=typeof n.description=="function"?await n.description(`HTTP error! status: ${h.status}`):n.description,w=typeof m=="object"&&!W.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:y,...w})}else if(h instanceof Error){o=!1;const m=typeof n.error=="function"?await n.error(h):n.error,y=typeof n.description=="function"?await n.description(h):n.description,w=typeof m=="object"&&!W.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:y,...w})}else if(n.success!==void 0){o=!1;const m=typeof n.success=="function"?await n.success(h):n.success,y=typeof n.description=="function"?await n.description(h):n.description,w=typeof m=="object"&&!W.isValidElement(m)?m:{message:m};this.create({id:r,type:"success",description:y,...w})}}).catch(async h=>{if(a=["reject",h],n.error!==void 0){o=!1;const p=typeof n.error=="function"?await n.error(h):n.error,m=typeof n.description=="function"?await n.description(h):n.description,v=typeof p=="object"&&!W.isValidElement(p)?p:{message:p};this.create({id:r,type:"error",description:m,...v})}}).finally(()=>{o&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),u=()=>new Promise((h,p)=>c.then(()=>a[0]==="reject"?p(a[1]):h(a[1])).catch(p));return typeof r!="string"&&typeof r!="number"?{unwrap:u}:Object.assign(r,{unwrap:u})},this.custom=(e,n)=>{const r=n?.id||Nm++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const _n=new pO,mO=(t,e)=>{const n=e?.id||Nm++;return _n.addToast({title:t,...e,id:n}),n},gO=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",yO=mO,vO=()=>_n.toasts,xO=()=>_n.getActiveToasts(),wn=Object.assign(yO,{success:_n.success,info:_n.info,warning:_n.warning,error:_n.error,custom:_n.custom,message:_n.message,promise:_n.promise,dismiss:_n.dismiss,loading:_n.loading},{getHistory:vO,getToasts:xO});sO("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Nu(t){return t.label!==void 0}const bO=3,wO="24px",kO="16px",u1=4e3,SO=356,CO=14,NO=45,EO=200;function Br(...t){return t.filter(Boolean).join(" ")}function TO(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}const MO=t=>{var e,n,r,s,o,a,c,u,h;const{invert:p,toast:m,unstyled:y,interacting:v,setHeights:w,visibleToasts:b,heights:S,index:N,toasts:j,expanded:A,removeToast:E,defaultRichColors:T,closeButton:R,style:D,cancelButtonStyle:O,actionButtonStyle:H,className:Q="",descriptionClassName:ce="",duration:de,position:le,gap:ue,expandByDefault:re,classNames:U,icons:q,closeButtonAriaLabel:z="Close toast"}=t,[X,Y]=W.useState(null),[L,V]=W.useState(null),[K,ee]=W.useState(!1),[he,pe]=W.useState(!1),[J,ie]=W.useState(!1),[ke,fe]=W.useState(!1),[_e,Pe]=W.useState(!1),[rt,ct]=W.useState(0),[Ht,Ut]=W.useState(0),Wt=W.useRef(m.duration||de||u1),Ir=W.useRef(null),Lt=W.useRef(null),Kt=N===0,yn=N+1<=b,yt=m.type,Tn=m.dismissible!==!1,is=m.className||"",Pr=m.descriptionClassName||"",Xn=W.useMemo(()=>S.findIndex(Ae=>Ae.toastId===m.id)||0,[S,m.id]),Mn=W.useMemo(()=>{var Ae;return(Ae=m.closeButton)!=null?Ae:R},[m.closeButton,R]),me=W.useMemo(()=>m.duration||de||u1,[m.duration,de]),ve=W.useRef(0),xe=W.useRef(0),Se=W.useRef(0),vt=W.useRef(null),[Qn,xt]=le.split("-"),vn=W.useMemo(()=>S.reduce((Ae,Ze,Je)=>Je>=Xn?Ae:Ae+Ze.height,0),[S,Xn]),hr=hO(),as=m.invert||p,Bn=yt==="loading";xe.current=W.useMemo(()=>Xn*ue+vn,[Xn,vn]),W.useEffect(()=>{Wt.current=me},[me]),W.useEffect(()=>{ee(!0)},[]),W.useEffect(()=>{const Ae=Lt.current;if(Ae){const Ze=Ae.getBoundingClientRect().height;return Ut(Ze),w(Je=>[{toastId:m.id,height:Ze,position:m.position},...Je]),()=>w(Je=>Je.filter(et=>et.toastId!==m.id))}},[w,m.id]),W.useLayoutEffect(()=>{if(!K)return;const Ae=Lt.current,Ze=Ae.style.height;Ae.style.height="auto";const Je=Ae.getBoundingClientRect().height;Ae.style.height=Ze,Ut(Je),w(et=>et.find(ut=>ut.toastId===m.id)?et.map(ut=>ut.toastId===m.id?{...ut,height:Je}:ut):[{toastId:m.id,height:Je,position:m.position},...et])},[K,m.title,m.description,w,m.id,m.jsx,m.action,m.cancel]);const At=W.useCallback(()=>{pe(!0),ct(xe.current),w(Ae=>Ae.filter(Ze=>Ze.toastId!==m.id)),setTimeout(()=>{E(m)},EO)},[m,E,w,xe]);W.useEffect(()=>{if(m.promise&&yt==="loading"||m.duration===1/0||m.type==="loading")return;let Ae;return A||v||hr?(()=>{if(Se.current<ve.current){const et=new Date().getTime()-ve.current;Wt.current=Wt.current-et}Se.current=new Date().getTime()})():(()=>{Wt.current!==1/0&&(ve.current=new Date().getTime(),Ae=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),At()},Wt.current))})(),()=>clearTimeout(Ae)},[A,v,m,yt,hr,At]),W.useEffect(()=>{m.delete&&(At(),m.onDismiss==null||m.onDismiss.call(m,m))},[At,m.delete]);function ls(){var Ae;if(q?.loading){var Ze;return W.createElement("div",{className:Br(U?.loader,m==null||(Ze=m.classNames)==null?void 0:Ze.loader,"sonner-loader"),"data-visible":yt==="loading"},q.loading)}return W.createElement(aO,{className:Br(U?.loader,m==null||(Ae=m.classNames)==null?void 0:Ae.loader),visible:yt==="loading"})}const Zn=m.icon||q?.[yt]||oO(yt);var st,_t;return W.createElement("li",{tabIndex:0,ref:Lt,className:Br(Q,is,U?.toast,m==null||(e=m.classNames)==null?void 0:e.toast,U?.default,U?.[yt],m==null||(n=m.classNames)==null?void 0:n[yt]),"data-sonner-toast":"","data-rich-colors":(st=m.richColors)!=null?st:T,"data-styled":!(m.jsx||m.unstyled||y),"data-mounted":K,"data-promise":!!m.promise,"data-swiped":_e,"data-removed":he,"data-visible":yn,"data-y-position":Qn,"data-x-position":xt,"data-index":N,"data-front":Kt,"data-swiping":J,"data-dismissible":Tn,"data-type":yt,"data-invert":as,"data-swipe-out":ke,"data-swipe-direction":L,"data-expanded":!!(A||re&&K),"data-testid":m.testId,style:{"--index":N,"--toasts-before":N,"--z-index":j.length-N,"--offset":`${he?rt:xe.current}px`,"--initial-height":re?"auto":`${Ht}px`,...D,...m.style},onDragEnd:()=>{ie(!1),Y(null),vt.current=null},onPointerDown:Ae=>{Ae.button!==2&&(Bn||!Tn||(Ir.current=new Date,ct(xe.current),Ae.target.setPointerCapture(Ae.pointerId),Ae.target.tagName!=="BUTTON"&&(ie(!0),vt.current={x:Ae.clientX,y:Ae.clientY})))},onPointerUp:()=>{var Ae,Ze,Je;if(ke||!Tn)return;vt.current=null;const et=Number(((Ae=Lt.current)==null?void 0:Ae.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),zt=Number(((Ze=Lt.current)==null?void 0:Ze.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ut=new Date().getTime()-((Je=Ir.current)==null?void 0:Je.getTime()),qe=X==="x"?et:zt,nn=Math.abs(qe)/ut;if(Math.abs(qe)>=NO||nn>.11){ct(xe.current),m.onDismiss==null||m.onDismiss.call(m,m),V(X==="x"?et>0?"right":"left":zt>0?"down":"up"),At(),fe(!0);return}else{var ot,wt;(ot=Lt.current)==null||ot.style.setProperty("--swipe-amount-x","0px"),(wt=Lt.current)==null||wt.style.setProperty("--swipe-amount-y","0px")}Pe(!1),ie(!1),Y(null)},onPointerMove:Ae=>{var Ze,Je,et;if(!vt.current||!Tn||((Ze=window.getSelection())==null?void 0:Ze.toString().length)>0)return;const ut=Ae.clientY-vt.current.y,qe=Ae.clientX-vt.current.x;var nn;const ot=(nn=t.swipeDirections)!=null?nn:TO(le);!X&&(Math.abs(qe)>1||Math.abs(ut)>1)&&Y(Math.abs(qe)>Math.abs(ut)?"x":"y");let wt={x:0,y:0};const jn=qt=>1/(1.5+Math.abs(qt)/20);if(X==="y"){if(ot.includes("top")||ot.includes("bottom"))if(ot.includes("top")&&ut<0||ot.includes("bottom")&&ut>0)wt.y=ut;else{const qt=ut*jn(ut);wt.y=Math.abs(qt)<Math.abs(ut)?qt:ut}}else if(X==="x"&&(ot.includes("left")||ot.includes("right")))if(ot.includes("left")&&qe<0||ot.includes("right")&&qe>0)wt.x=qe;else{const qt=qe*jn(qe);wt.x=Math.abs(qt)<Math.abs(qe)?qt:qe}(Math.abs(wt.x)>0||Math.abs(wt.y)>0)&&Pe(!0),(Je=Lt.current)==null||Je.style.setProperty("--swipe-amount-x",`${wt.x}px`),(et=Lt.current)==null||et.style.setProperty("--swipe-amount-y",`${wt.y}px`)}},Mn&&!m.jsx&&yt!=="loading"?W.createElement("button",{"aria-label":z,"data-disabled":Bn,"data-close-button":!0,onClick:Bn||!Tn?()=>{}:()=>{At(),m.onDismiss==null||m.onDismiss.call(m,m)},className:Br(U?.closeButton,m==null||(r=m.classNames)==null?void 0:r.closeButton)},(_t=q?.close)!=null?_t:fO):null,(yt||m.icon||m.promise)&&m.icon!==null&&(q?.[yt]!==null||m.icon)?W.createElement("div",{"data-icon":"",className:Br(U?.icon,m==null||(s=m.classNames)==null?void 0:s.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||ls():null,m.type!=="loading"?Zn:null):null,W.createElement("div",{"data-content":"",className:Br(U?.content,m==null||(o=m.classNames)==null?void 0:o.content)},W.createElement("div",{"data-title":"",className:Br(U?.title,m==null||(a=m.classNames)==null?void 0:a.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?W.createElement("div",{"data-description":"",className:Br(ce,Pr,U?.description,m==null||(c=m.classNames)==null?void 0:c.description)},typeof m.description=="function"?m.description():m.description):null),W.isValidElement(m.cancel)?m.cancel:m.cancel&&Nu(m.cancel)?W.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||O,onClick:Ae=>{Nu(m.cancel)&&Tn&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,Ae),At())},className:Br(U?.cancelButton,m==null||(u=m.classNames)==null?void 0:u.cancelButton)},m.cancel.label):null,W.isValidElement(m.action)?m.action:m.action&&Nu(m.action)?W.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||H,onClick:Ae=>{Nu(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,Ae),!Ae.defaultPrevented&&At())},className:Br(U?.actionButton,m==null||(h=m.classNames)==null?void 0:h.actionButton)},m.action.label):null)};function d1(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function jO(t,e){const n={};return[t,e].forEach((r,s)=>{const o=s===1,a=o?"--mobile-offset":"--offset",c=o?kO:wO;function u(h){["top","right","bottom","left"].forEach(p=>{n[`${a}-${p}`]=typeof h=="number"?`${h}px`:h})}typeof r=="number"||typeof r=="string"?u(r):typeof r=="object"?["top","right","bottom","left"].forEach(h=>{r[h]===void 0?n[`${a}-${h}`]=c:n[`${a}-${h}`]=typeof r[h]=="number"?`${r[h]}px`:r[h]}):u(c)}),n}const AO=W.forwardRef(function(e,n){const{id:r,invert:s,position:o="bottom-right",hotkey:a=["altKey","KeyT"],expand:c,closeButton:u,className:h,offset:p,mobileOffset:m,theme:y="light",richColors:v,duration:w,style:b,visibleToasts:S=bO,toastOptions:N,dir:j=d1(),gap:A=CO,icons:E,containerAriaLabel:T="Notifications"}=e,[R,D]=W.useState([]),O=W.useMemo(()=>r?R.filter(K=>K.toasterId===r):R.filter(K=>!K.toasterId),[R,r]),H=W.useMemo(()=>Array.from(new Set([o].concat(O.filter(K=>K.position).map(K=>K.position)))),[O,o]),[Q,ce]=W.useState([]),[de,le]=W.useState(!1),[ue,re]=W.useState(!1),[U,q]=W.useState(y!=="system"?y:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),z=W.useRef(null),X=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),Y=W.useRef(null),L=W.useRef(!1),V=W.useCallback(K=>{D(ee=>{var he;return(he=ee.find(pe=>pe.id===K.id))!=null&&he.delete||_n.dismiss(K.id),ee.filter(({id:pe})=>pe!==K.id)})},[]);return W.useEffect(()=>_n.subscribe(K=>{if(K.dismiss){requestAnimationFrame(()=>{D(ee=>ee.map(he=>he.id===K.id?{...he,delete:!0}:he))});return}setTimeout(()=>{Ng.flushSync(()=>{D(ee=>{const he=ee.findIndex(pe=>pe.id===K.id);return he!==-1?[...ee.slice(0,he),{...ee[he],...K},...ee.slice(he+1)]:[K,...ee]})})})}),[R]),W.useEffect(()=>{if(y!=="system"){q(y);return}if(y==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?q("dark"):q("light")),typeof window>"u")return;const K=window.matchMedia("(prefers-color-scheme: dark)");try{K.addEventListener("change",({matches:ee})=>{q(ee?"dark":"light")})}catch{K.addListener(({matches:he})=>{try{q(he?"dark":"light")}catch(pe){console.error(pe)}})}},[y]),W.useEffect(()=>{R.length<=1&&le(!1)},[R]),W.useEffect(()=>{const K=ee=>{var he;if(a.every(ie=>ee[ie]||ee.code===ie)){var J;le(!0),(J=z.current)==null||J.focus()}ee.code==="Escape"&&(document.activeElement===z.current||(he=z.current)!=null&&he.contains(document.activeElement))&&le(!1)};return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[a]),W.useEffect(()=>{if(z.current)return()=>{Y.current&&(Y.current.focus({preventScroll:!0}),Y.current=null,L.current=!1)}},[z.current]),W.createElement("section",{ref:n,"aria-label":`${T} ${X}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},H.map((K,ee)=>{var he;const[pe,J]=K.split("-");return O.length?W.createElement("ol",{key:K,dir:j==="auto"?d1():j,tabIndex:-1,ref:z,className:h,"data-sonner-toaster":!0,"data-sonner-theme":U,"data-y-position":pe,"data-x-position":J,style:{"--front-toast-height":`${((he=Q[0])==null?void 0:he.height)||0}px`,"--width":`${SO}px`,"--gap":`${A}px`,...b,...jO(p,m)},onBlur:ie=>{L.current&&!ie.currentTarget.contains(ie.relatedTarget)&&(L.current=!1,Y.current&&(Y.current.focus({preventScroll:!0}),Y.current=null))},onFocus:ie=>{ie.target instanceof HTMLElement&&ie.target.dataset.dismissible==="false"||L.current||(L.current=!0,Y.current=ie.relatedTarget)},onMouseEnter:()=>le(!0),onMouseMove:()=>le(!0),onMouseLeave:()=>{ue||le(!1)},onDragEnd:()=>le(!1),onPointerDown:ie=>{ie.target instanceof HTMLElement&&ie.target.dataset.dismissible==="false"||re(!0)},onPointerUp:()=>re(!1)},O.filter(ie=>!ie.position&&ee===0||ie.position===K).map((ie,ke)=>{var fe,_e;return W.createElement(MO,{key:ie.id,icons:E,index:ke,toast:ie,defaultRichColors:v,duration:(fe=N?.duration)!=null?fe:w,className:N?.className,descriptionClassName:N?.descriptionClassName,invert:s,visibleToasts:S,closeButton:(_e=N?.closeButton)!=null?_e:u,interacting:ue,position:K,style:N?.style,unstyled:N?.unstyled,classNames:N?.classNames,cancelButtonStyle:N?.cancelButtonStyle,actionButtonStyle:N?.actionButtonStyle,closeButtonAriaLabel:N?.closeButtonAriaLabel,removeToast:V,toasts:O.filter(Pe=>Pe.position==ie.position),heights:Q.filter(Pe=>Pe.position==ie.position),setHeights:ce,expandByDefault:c,gap:A,expanded:de,swipeDirections:e.swipeDirections})})):null}))});function jk({open:t,onOpenChange:e,trip:n,onUpdateInfo:r}){const[s,o]=C.useState(""),[a,c]=C.useState([]),[u,h]=C.useState(""),[p,m]=C.useState("");C.useEffect(()=>{n&&(o(n.name||""),c(n.cities||[]),h(n.description||""))},[n]);const y=b=>{const S=b.address.split(",").map(T=>T.trim());let N=b.name,j="Unknown";if(S.length>0&&(j=S[S.length-1],S.length>1&&!b.name.includes(",")&&!S.some(R=>R.toLowerCase().includes(b.name.toLowerCase()))&&S[0].length>2&&(N=S[0])),a.some(T=>T.name.toLowerCase()===N.toLowerCase()&&T.country.toLowerCase()===j.toLowerCase())){wn.info("Destination already added",{description:`${N} is already in your trip`}),m("");return}const E={name:N,country:j,image:"https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=800"};requestAnimationFrame(()=>{c([...a,E]),m("")}),wn.success(" Destination added!",{description:`${N}, ${j}`})},v=b=>{c(a.filter((S,N)=>N!==b))},w=b=>{b.preventDefault(),!(!n||a.length===0)&&(r(n.id,{name:s.trim()||void 0,cities:a,description:u.trim()}),e(!1))};return n?d.jsx(es,{open:t,onOpenChange:e,children:d.jsxs(ts,{className:"w-[95vw] max-w-[550px] max-h-[90vh] overflow-y-auto",onInteractOutside:b=>{b.target.closest(".pac-container")&&b.preventDefault()},children:[d.jsxs(ns,{children:[d.jsx(rs,{children:"Edit Trip Information"}),d.jsx(Ro,{children:"Update the details of your trip"})]}),d.jsxs("form",{onSubmit:w,children:[d.jsxs("div",{className:"space-y-4 py-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{htmlFor:"tripName",children:"Trip Name (Optional)"}),d.jsx(it,{id:"tripName",placeholder:"e.g., Summer Europe Adventure, Family Vacation...",value:s,onChange:b=>o(b.target.value)}),d.jsx("p",{className:"text-xs text-gray-500",children:"Leave empty to use city names as the trip name"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{children:"Destinations"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Search and add any cities, regions, or locations worldwide"}),d.jsx(ba,{value:p,onChange:m,onPlaceSelected:y,placeholder:"Search: Lake Como, Woodbridge VA, Paris, Tokyo..."},`edit-trip-${n?.id}`),a.length>0&&d.jsx("div",{className:"flex flex-wrap gap-2 mt-3 p-3 bg-gray-50 rounded-lg border",children:a.map((b,S)=>d.jsxs(at,{variant:"secondary",className:"pl-3 pr-1 py-1.5 bg-blue-100 text-blue-700 hover:bg-blue-200",children:[d.jsxs("span",{className:"mr-2",children:[b.name,", ",b.country]}),d.jsx("button",{type:"button",onClick:()=>v(S),className:"ml-1 rounded-full hover:bg-blue-300 p-0.5",children:d.jsx(nc,{className:"h-3 w-3"})})]},`${b.name}-${S}`))})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{htmlFor:"description",children:"Description"}),d.jsx(xa,{id:"description",placeholder:"What are you planning to do?",value:u,onChange:b=>h(b.target.value),rows:4})]})]}),d.jsxs(Rs,{children:[d.jsx(je,{type:"button",variant:"outline",onClick:()=>e(!1),children:"Cancel"}),d.jsx(je,{type:"submit",className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",disabled:a.length===0,children:"Save Changes"})]})]})]})}):null}function DO(){const t=new Date,e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return`${e}-${n}-${r}`}function Cs(t,e){const n=DO();return n<t?"upcoming":n>e?"completed":"ongoing"}var Ak="AlertDialog",[RO]=Dr(Ak,[ok]),Os=ok(),Dk=t=>{const{__scopeAlertDialog:e,...n}=t,r=Os(e);return d.jsx(wk,{...r,...n,modal:!0})};Dk.displayName=Ak;var OO="AlertDialogTrigger",Rk=C.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Os(n);return d.jsx(ZR,{...s,...r,ref:e})});Rk.displayName=OO;var IO="AlertDialogPortal",Ok=t=>{const{__scopeAlertDialog:e,...n}=t,r=Os(e);return d.jsx(kk,{...r,...n})};Ok.displayName=IO;var PO="AlertDialogOverlay",Ik=C.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Os(n);return d.jsx(Og,{...s,...r,ref:e})});Ik.displayName=PO;var ra="AlertDialogContent",[LO,_O]=RO(ra),zO=Rj("AlertDialogContent"),Pk=C.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,o=Os(n),a=C.useRef(null),c=lt(e,a),u=C.useRef(null);return d.jsx(YR,{contentName:ra,titleName:Lk,docsSlug:"alert-dialog",children:d.jsx(LO,{scope:n,cancelRef:u,children:d.jsxs(Sk,{role:"alertdialog",...o,...s,ref:c,onOpenAutoFocus:Ue(s.onOpenAutoFocus,h=>{h.preventDefault(),u.current?.focus({preventScroll:!0})}),onPointerDownOutside:h=>h.preventDefault(),onInteractOutside:h=>h.preventDefault(),children:[d.jsx(zO,{children:r}),d.jsx(FO,{contentRef:a})]})})})});Pk.displayName=ra;var Lk="AlertDialogTitle",_k=C.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Os(n);return d.jsx(Ck,{...s,...r,ref:e})});_k.displayName=Lk;var zk="AlertDialogDescription",$k=C.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Os(n);return d.jsx(Nk,{...s,...r,ref:e})});$k.displayName=zk;var $O="AlertDialogAction",Fk=C.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Os(n);return d.jsx(Ig,{...s,...r,ref:e})});Fk.displayName=$O;var Bk="AlertDialogCancel",Vk=C.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=_O(Bk,n),o=Os(n),a=lt(e,s);return d.jsx(Ig,{...o,...r,ref:a})});Vk.displayName=Bk;var FO=({contentRef:t})=>{const e=`\`${ra}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ra}\` by passing a \`${zk}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ra}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return C.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},BO=Dk,VO=Rk,HO=Ok,Hk=Ik,Uk=Pk,Wk=Fk,Kk=Vk,UO=_k,WO=$k;function KO({...t}){return d.jsx(BO,{"data-slot":"alert-dialog",...t})}function qO({...t}){return d.jsx(VO,{"data-slot":"alert-dialog-trigger",...t})}function GO({...t}){return d.jsx(HO,{"data-slot":"alert-dialog-portal",...t})}const qk=C.forwardRef(({className:t,...e},n)=>d.jsx(Hk,{ref:n,"data-slot":"alert-dialog-overlay",className:Ke("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e}));qk.displayName=Hk.displayName;const Gk=C.forwardRef(({className:t,...e},n)=>d.jsxs(GO,{children:[d.jsx(qk,{}),d.jsx(Uk,{ref:n,"data-slot":"alert-dialog-content",className:Ke("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...e})]}));Gk.displayName=Uk.displayName;function YO({className:t,...e}){return d.jsx("div",{"data-slot":"alert-dialog-header",className:Ke("flex flex-col gap-2 text-center sm:text-left",t),...e})}function JO({className:t,...e}){return d.jsx("div",{"data-slot":"alert-dialog-footer",className:Ke("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function XO({className:t,...e}){return d.jsx(UO,{"data-slot":"alert-dialog-title",className:Ke("text-lg font-semibold",t),...e})}function QO({className:t,...e}){return d.jsx(WO,{"data-slot":"alert-dialog-description",className:Ke("text-muted-foreground text-sm",t),...e})}const Yk=C.forwardRef(({className:t,...e},n)=>d.jsx(Wk,{ref:n,className:Ke(wg(),t),...e}));Yk.displayName=Wk.displayName;const Jk=C.forwardRef(({className:t,...e},n)=>d.jsx(Kk,{ref:n,className:Ke(wg({variant:"outline"}),t),...e}));Jk.displayName=Kk.displayName;function ZO({trips:t,onSelectTrip:e,onDeleteTrip:n,onUpdateDates:r,onUpdateInfo:s}){const[o,a]=C.useState(null),[c,u]=C.useState(null),h=b=>{const[S,N,j]=b.split("-");return new Date(Number(S),Number(N)-1,Number(j)).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},p=(b,S)=>{const[N,j,A]=b.split("-"),E=new Date(Number(N),Number(j)-1,Number(A)),[T,R,D]=S.split("-"),O=new Date(Number(T),Number(R)-1,Number(D)),H=Math.ceil((O.getTime()-E.getTime())/(1e3*60*60*24))+1;return`${H} day${H!==1?"s":""}`},m=b=>{switch(b){case"upcoming":return"bg-blue-100 text-blue-700 hover:bg-blue-100";case"ongoing":return"bg-green-100 text-green-700 hover:bg-green-100";case"completed":return"bg-gray-100 text-gray-700 hover:bg-gray-100"}};if(t.length===0)return d.jsxs("div",{className:"text-center py-12 bg-white rounded-lg border border-gray-200",children:[d.jsx(Qe,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),d.jsx("h3",{className:"text-gray-600 mb-2",children:"No trips planned yet"}),d.jsx("p",{className:"text-gray-500 text-sm",children:"Start planning your next adventure!"})]});const y=t.filter(b=>Cs(b.startDate,b.endDate)==="upcoming"),v=t.filter(b=>Cs(b.startDate,b.endDate)==="ongoing"),w=t.filter(b=>Cs(b.startDate,b.endDate)==="completed");return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"space-y-8",children:[v.length>0&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-gray-700 mb-4",children:"Current Trip"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(b=>d.jsx(Op,{trip:b,computedStatus:Cs(b.startDate,b.endDate),onSelect:e,onDelete:n,onEditDates:a,onEditInfo:u,formatDate:h,getDuration:p,getStatusColor:m},b.id))})]}),y.length>0&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-gray-700 mb-4",children:"Upcoming Trips"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:y.map(b=>d.jsx(Op,{trip:b,computedStatus:Cs(b.startDate,b.endDate),onSelect:e,onDelete:n,onEditDates:a,onEditInfo:u,formatDate:h,getDuration:p,getStatusColor:m},b.id))})]}),w.length>0&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-gray-700 mb-4",children:"Past Trips"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w.map(b=>d.jsx(Op,{trip:b,computedStatus:Cs(b.startDate,b.endDate),onSelect:e,onDelete:n,onEditDates:a,onEditInfo:u,formatDate:h,getDuration:p,getStatusColor:m},b.id))})]})]}),d.jsx(Mk,{open:!!o,onOpenChange:b=>!b&&a(null),trip:o,onUpdateDates:r}),d.jsx(jk,{open:!!c,onOpenChange:b=>!b&&u(null),trip:c,onUpdateInfo:s})]})}function Op({trip:t,computedStatus:e,onSelect:n,onDelete:r,onEditDates:s,onEditInfo:o,formatDate:a,getDuration:c,getStatusColor:u}){return d.jsxs(Sn,{className:"overflow-hidden hover:shadow-lg transition-shadow cursor-pointer group",children:[d.jsxs("div",{onClick:()=>n(t.id),children:[d.jsxs("div",{className:"aspect-video relative overflow-hidden",children:[d.jsx("img",{src:t.image,alt:t.destination,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),d.jsx("div",{className:"absolute top-3 right-3",children:d.jsx(at,{className:u(e),children:e})})]}),d.jsxs("div",{className:"p-5",children:[d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsx("h3",{className:"text-gray-900 flex-1",children:t.name||t.destination}),d.jsx("button",{onClick:h=>{h.stopPropagation(),o(t)},className:"text-gray-400 hover:text-blue-600 transition-colors p-1 -mt-1",title:"Edit trip info",children:d.jsx(HA,{className:"w-4 h-4"})})]}),t.cities&&t.cities.length>0&&d.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-3",children:[t.cities.slice(0,3).map((h,p)=>d.jsxs(at,{variant:"outline",className:"text-xs bg-gray-50",children:[d.jsx(Qe,{className:"w-3 h-3 mr-1"}),h.name]},`${h.name}-${p}`)),t.cities.length>3&&d.jsxs(at,{variant:"outline",className:"text-xs bg-gray-50",children:["+",t.cities.length-3," more"]})]}),d.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:t.description}),d.jsxs("div",{className:"space-y-2 mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[d.jsx(Pl,{className:"w-4 h-4"}),d.jsxs("span",{children:[a(t.startDate)," - ",a(t.endDate)]}),d.jsx("button",{onClick:h=>{h.stopPropagation(),s(t)},className:"text-gray-400 hover:text-blue-600 transition-colors ml-1",title:"Edit dates",children:d.jsx(Es,{className:"w-3 h-3"})})]}),d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[d.jsx(Qe,{className:"w-4 h-4"}),d.jsx("span",{children:c(t.startDate,t.endDate)})]})]}),d.jsx("div",{className:"flex items-center justify-between pt-3 border-t",children:d.jsxs("span",{className:"text-sm text-gray-500",children:[t.activities.length," activit",t.activities.length!==1?"ies":"y"]})})]})]}),d.jsx("div",{className:"px-5 pb-4",children:d.jsxs(KO,{children:[d.jsx(qO,{asChild:!0,children:d.jsxs(je,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",onClick:h=>h.stopPropagation(),children:[d.jsx(tf,{className:"w-4 h-4 mr-2"}),"Delete"]})}),d.jsxs(Gk,{children:[d.jsxs(YO,{children:[d.jsx(XO,{children:"Delete Trip?"}),d.jsx(QO,{children:"Are you sure you want to delete this trip? This action cannot be undone."})]}),d.jsxs(JO,{children:[d.jsx(Jk,{children:"Cancel"}),d.jsx(Yk,{onClick:()=>r(t.id),className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})]})})]})}function Lg(t){const e=t+"CollectionProvider",[n,r]=Dr(e),[s,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=b=>{const{scope:S,children:N}=b,j=W.useRef(null),A=W.useRef(new Map).current;return d.jsx(s,{scope:S,itemMap:A,collectionRef:j,children:N})};a.displayName=e;const c=t+"CollectionSlot",u=la(c),h=W.forwardRef((b,S)=>{const{scope:N,children:j}=b,A=o(c,N),E=lt(S,A.collectionRef);return d.jsx(u,{ref:E,children:j})});h.displayName=c;const p=t+"CollectionItemSlot",m="data-radix-collection-item",y=la(p),v=W.forwardRef((b,S)=>{const{scope:N,children:j,...A}=b,E=W.useRef(null),T=lt(S,E),R=o(p,N);return W.useEffect(()=>(R.itemMap.set(E,{ref:E,...A}),()=>void R.itemMap.delete(E))),d.jsx(y,{[m]:"",ref:T,children:j})});v.displayName=p;function w(b){const S=o(t+"CollectionConsumer",b);return W.useCallback(()=>{const j=S.collectionRef.current;if(!j)return[];const A=Array.from(j.querySelectorAll(`[${m}]`));return Array.from(S.itemMap.values()).sort((R,D)=>A.indexOf(R.ref.current)-A.indexOf(D.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:a,Slot:h,ItemSlot:v},w,r]}var eI=C.createContext(void 0);function sf(t){const e=C.useContext(eI);return t||e||"ltr"}var Ip="rovingFocusGroup.onEntryFocus",tI={bubbles:!1,cancelable:!0},rc="RovingFocusGroup",[Em,Xk,nI]=Lg(rc),[rI,Qk]=Dr(rc,[nI]),[sI,oI]=rI(rc),Zk=C.forwardRef((t,e)=>d.jsx(Em.Provider,{scope:t.__scopeRovingFocusGroup,children:d.jsx(Em.Slot,{scope:t.__scopeRovingFocusGroup,children:d.jsx(iI,{...t,ref:e})})}));Zk.displayName=rc;var iI=C.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:a,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:u,onEntryFocus:h,preventScrollOnEntryFocus:p=!1,...m}=t,y=C.useRef(null),v=lt(e,y),w=sf(o),[b,S]=js({prop:a,defaultProp:c??null,onChange:u,caller:rc}),[N,j]=C.useState(!1),A=Eo(h),E=Xk(n),T=C.useRef(!1),[R,D]=C.useState(0);return C.useEffect(()=>{const O=y.current;if(O)return O.addEventListener(Ip,A),()=>O.removeEventListener(Ip,A)},[A]),d.jsx(sI,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:b,onItemFocus:C.useCallback(O=>S(O),[S]),onItemShiftTab:C.useCallback(()=>j(!0),[]),onFocusableItemAdd:C.useCallback(()=>D(O=>O+1),[]),onFocusableItemRemove:C.useCallback(()=>D(O=>O-1),[]),children:d.jsx(Fe.div,{tabIndex:N||R===0?-1:0,"data-orientation":r,...m,ref:v,style:{outline:"none",...t.style},onMouseDown:Ue(t.onMouseDown,()=>{T.current=!0}),onFocus:Ue(t.onFocus,O=>{const H=!T.current;if(O.target===O.currentTarget&&H&&!N){const Q=new CustomEvent(Ip,tI);if(O.currentTarget.dispatchEvent(Q),!Q.defaultPrevented){const ce=E().filter(U=>U.focusable),de=ce.find(U=>U.active),le=ce.find(U=>U.id===b),re=[de,le,...ce].filter(Boolean).map(U=>U.ref.current);nS(re,p)}}T.current=!1}),onBlur:Ue(t.onBlur,()=>j(!1))})})}),eS="RovingFocusGroupItem",tS=C.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:a,...c}=t,u=Gr(),h=o||u,p=oI(eS,n),m=p.currentTabStopId===h,y=Xk(n),{onFocusableItemAdd:v,onFocusableItemRemove:w,currentTabStopId:b}=p;return C.useEffect(()=>{if(r)return v(),()=>w()},[r,v,w]),d.jsx(Em.ItemSlot,{scope:n,id:h,focusable:r,active:s,children:d.jsx(Fe.span,{tabIndex:m?0:-1,"data-orientation":p.orientation,...c,ref:e,onMouseDown:Ue(t.onMouseDown,S=>{r?p.onItemFocus(h):S.preventDefault()}),onFocus:Ue(t.onFocus,()=>p.onItemFocus(h)),onKeyDown:Ue(t.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){p.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const N=cI(S,p.orientation,p.dir);if(N!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let A=y().filter(E=>E.focusable).map(E=>E.ref.current);if(N==="last")A.reverse();else if(N==="prev"||N==="next"){N==="prev"&&A.reverse();const E=A.indexOf(S.currentTarget);A=p.loop?uI(A,E+1):A.slice(E+1)}setTimeout(()=>nS(A))}}),children:typeof a=="function"?a({isCurrentTabStop:m,hasTabStop:b!=null}):a})})});tS.displayName=eS;var aI={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function lI(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function cI(t,e,n){const r=lI(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return aI[r]}function nS(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function uI(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var dI=Zk,fI=tS,of="Tabs",[hI]=Dr(of,[Qk]),rS=Qk(),[pI,_g]=hI(of),sS=C.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:a="horizontal",dir:c,activationMode:u="automatic",...h}=t,p=sf(c),[m,y]=js({prop:r,onChange:s,defaultProp:o??"",caller:of});return d.jsx(pI,{scope:n,baseId:Gr(),value:m,onValueChange:y,orientation:a,dir:p,activationMode:u,children:d.jsx(Fe.div,{dir:p,"data-orientation":a,...h,ref:e})})});sS.displayName=of;var oS="TabsList",iS=C.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,o=_g(oS,n),a=rS(n);return d.jsx(dI,{asChild:!0,...a,orientation:o.orientation,dir:o.dir,loop:r,children:d.jsx(Fe.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:e})})});iS.displayName=oS;var aS="TabsTrigger",lS=C.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=t,a=_g(aS,n),c=rS(n),u=dS(a.baseId,r),h=fS(a.baseId,r),p=r===a.value;return d.jsx(fI,{asChild:!0,...c,focusable:!s,active:p,children:d.jsx(Fe.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":h,"data-state":p?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:u,...o,ref:e,onMouseDown:Ue(t.onMouseDown,m=>{!s&&m.button===0&&m.ctrlKey===!1?a.onValueChange(r):m.preventDefault()}),onKeyDown:Ue(t.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&a.onValueChange(r)}),onFocus:Ue(t.onFocus,()=>{const m=a.activationMode!=="manual";!p&&!s&&m&&a.onValueChange(r)})})})});lS.displayName=aS;var cS="TabsContent",uS=C.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...a}=t,c=_g(cS,n),u=dS(c.baseId,r),h=fS(c.baseId,r),p=r===c.value,m=C.useRef(p);return C.useEffect(()=>{const y=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(y)},[]),d.jsx(xi,{present:s||p,children:({present:y})=>d.jsx(Fe.div,{"data-state":p?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!y,id:h,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:m.current?"0s":void 0},children:y&&o})})});uS.displayName=cS;function dS(t,e){return`${t}-trigger-${e}`}function fS(t,e){return`${t}-content-${e}`}var mI=sS,gI=iS,yI=lS,vI=uS;function zg({className:t,...e}){return d.jsx(mI,{"data-slot":"tabs",className:Ke("flex flex-col gap-2",t),...e})}function $g({className:t,...e}){return d.jsx(gI,{"data-slot":"tabs-list",className:Ke("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",t),...e})}function ri({className:t,...e}){return d.jsx(yI,{"data-slot":"tabs-trigger",className:Ke("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function si({className:t,...e}){return d.jsx(vI,{"data-slot":"tabs-content",className:Ke("flex-1 outline-none",t),...e})}function xI({trip:t,days:e,onEditDates:n,formatShortDate:r}){return d.jsxs(Sn,{className:"overflow-hidden",children:[d.jsxs("div",{className:"aspect-[21/9] relative",children:[d.jsx("img",{src:t.image,alt:t.destination,className:"w-full h-full object-cover",loading:"lazy"}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),d.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 text-white",children:[d.jsx("h1",{className:"text-white mb-2",children:t.name||t.destination}),d.jsx("p",{className:"text-white/90",children:t.description})]})]}),d.jsxs("div",{className:"p-6 bg-white",children:[t.cities&&t.cities.length>0&&d.jsxs("div",{className:"mb-4 pb-4 border-b",children:[d.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Destinations"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:t.cities.map((s,o)=>d.jsxs(at,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:[d.jsx(Qe,{className:"w-3 h-3 mr-1"}),s.name,", ",s.country]},`${s.name}-${o}`))})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:d.jsx(Pl,{className:"w-5 h-5 text-purple-600"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-sm text-gray-500",children:"Dates"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("p",{className:"text-gray-900",children:[r(t.startDate)," - ",r(t.endDate)]}),d.jsx("button",{onClick:n,className:"text-gray-400 hover:text-blue-600 transition-colors","aria-label":"Edit dates",title:"Edit dates",children:d.jsx(Es,{className:"w-3 h-3"})})]})]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:d.jsx(Pl,{className:"w-5 h-5 text-blue-600"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500",children:"Duration"}),d.jsxs("p",{className:"text-gray-900",children:[e.length," days"]})]})]})]})]})]})}function bI(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return C.useMemo(()=>r=>{e.forEach(s=>s(r))},e)}const af=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function wa(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function Fg(t){return"nodeType"in t}function Fn(t){var e,n;return t?wa(t)?t:Fg(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function Bg(t){const{Document:e}=Fn(t);return t instanceof e}function sc(t){return wa(t)?!1:t instanceof Fn(t).HTMLElement}function hS(t){return t instanceof Fn(t).SVGElement}function ka(t){return t?wa(t)?t.document:Fg(t)?Bg(t)?t:sc(t)||hS(t)?t.ownerDocument:document:document:document}const Jr=af?C.useLayoutEffect:C.useEffect;function Vg(t){const e=C.useRef(t);return Jr(()=>{e.current=t}),C.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e.current==null?void 0:e.current(...r)},[])}function wI(){const t=C.useRef(null),e=C.useCallback((r,s)=>{t.current=setInterval(r,s)},[]),n=C.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function zl(t,e){e===void 0&&(e=[t]);const n=C.useRef(t);return Jr(()=>{n.current!==t&&(n.current=t)},e),n}function oc(t,e){const n=C.useRef();return C.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function Zu(t){const e=Vg(t),n=C.useRef(null),r=C.useCallback(s=>{s!==n.current&&e?.(s,n.current),n.current=s},[]);return[n,r]}function Tm(t){const e=C.useRef();return C.useEffect(()=>{e.current=t},[t]),e.current}let Pp={};function ic(t,e){return C.useMemo(()=>{if(e)return e;const n=Pp[t]==null?0:Pp[t]+1;return Pp[t]=n,t+"-"+n},[t,e])}function pS(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((o,a)=>{const c=Object.entries(a);for(const[u,h]of c){const p=o[u];p!=null&&(o[u]=p+t*h)}return o},{...e})}}const sa=pS(1),$l=pS(-1);function kI(t){return"clientX"in t&&"clientY"in t}function Hg(t){if(!t)return!1;const{KeyboardEvent:e}=Fn(t.target);return e&&t instanceof e}function SI(t){if(!t)return!1;const{TouchEvent:e}=Fn(t.target);return e&&t instanceof e}function Mm(t){if(SI(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return kI(t)?{x:t.clientX,y:t.clientY}:null}const Fl=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[Fl.Translate.toString(t),Fl.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),f1="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function CI(t){return t.matches(f1)?t:t.querySelector(f1)}const NI={display:"none"};function EI(t){let{id:e,value:n}=t;return W.createElement("div",{id:e,style:NI},n)}function TI(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return W.createElement("div",{id:e,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function MI(){const[t,e]=C.useState("");return{announce:C.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const mS=C.createContext(null);function jI(t){const e=C.useContext(mS);C.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function AI(){const[t]=C.useState(()=>new Set),e=C.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[C.useCallback(r=>{let{type:s,event:o}=r;t.forEach(a=>{var c;return(c=a[s])==null?void 0:c.call(a,o)})},[t]),e]}const DI={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},RI={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function OI(t){let{announcements:e=RI,container:n,hiddenTextDescribedById:r,screenReaderInstructions:s=DI}=t;const{announce:o,announcement:a}=MI(),c=ic("DndLiveRegion"),[u,h]=C.useState(!1);if(C.useEffect(()=>{h(!0)},[]),jI(C.useMemo(()=>({onDragStart(m){let{active:y}=m;o(e.onDragStart({active:y}))},onDragMove(m){let{active:y,over:v}=m;e.onDragMove&&o(e.onDragMove({active:y,over:v}))},onDragOver(m){let{active:y,over:v}=m;o(e.onDragOver({active:y,over:v}))},onDragEnd(m){let{active:y,over:v}=m;o(e.onDragEnd({active:y,over:v}))},onDragCancel(m){let{active:y,over:v}=m;o(e.onDragCancel({active:y,over:v}))}}),[o,e])),!u)return null;const p=W.createElement(W.Fragment,null,W.createElement(EI,{id:r,value:s.draggable}),W.createElement(TI,{id:c,announcement:a}));return n?Kr.createPortal(p,n):p}var Vt;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Vt||(Vt={}));function ed(){}function h1(t,e){return C.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function II(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return C.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const Mr=Object.freeze({x:0,y:0});function gS(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function yS(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function PI(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function p1(t){let{left:e,top:n,height:r,width:s}=t;return[{x:e,y:n},{x:e+s,y:n},{x:e,y:n+r},{x:e+s,y:n+r}]}function vS(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function m1(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const LI=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const s=m1(e,e.left,e.top),o=[];for(const a of r){const{id:c}=a,u=n.get(c);if(u){const h=gS(m1(u),s);o.push({id:c,data:{droppableContainer:a,value:h}})}}return o.sort(yS)},_I=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const s=p1(e),o=[];for(const a of r){const{id:c}=a,u=n.get(c);if(u){const h=p1(u),p=s.reduce((y,v,w)=>y+gS(h[w],v),0),m=Number((p/4).toFixed(4));o.push({id:c,data:{droppableContainer:a,value:m}})}}return o.sort(yS)};function zI(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),s=Math.min(e.left+e.width,t.left+t.width),o=Math.min(e.top+e.height,t.top+t.height),a=s-r,c=o-n;if(r<s&&n<o){const u=e.width*e.height,h=t.width*t.height,p=a*c,m=p/(u+h-p);return Number(m.toFixed(4))}return 0}const $I=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const s=[];for(const o of r){const{id:a}=o,c=n.get(a);if(c){const u=zI(c,e);u>0&&s.push({id:a,data:{droppableContainer:o,value:u}})}}return s.sort(PI)};function FI(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function xS(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Mr}function BI(t){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];return s.reduce((a,c)=>({...a,top:a.top+t*c.y,bottom:a.bottom+t*c.y,left:a.left+t*c.x,right:a.right+t*c.x}),{...n})}}const VI=BI(1);function HI(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function UI(t,e,n){const r=HI(e);if(!r)return t;const{scaleX:s,scaleY:o,x:a,y:c}=r,u=t.left-a-(1-s)*parseFloat(n),h=t.top-c-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),p=s?t.width/s:t.width,m=o?t.height/o:t.height;return{width:p,height:m,top:h,right:u+p,bottom:h+m,left:u}}const WI={ignoreTransform:!1};function Sa(t,e){e===void 0&&(e=WI);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:h,transformOrigin:p}=Fn(t).getComputedStyle(t);h&&(n=UI(n,h,p))}const{top:r,left:s,width:o,height:a,bottom:c,right:u}=n;return{top:r,left:s,width:o,height:a,bottom:c,right:u}}function g1(t){return Sa(t,{ignoreTransform:!0})}function KI(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function qI(t,e){return e===void 0&&(e=Fn(t).getComputedStyle(t)),e.position==="fixed"}function GI(t,e){e===void 0&&(e=Fn(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const o=e[s];return typeof o=="string"?n.test(o):!1})}function lf(t,e){const n=[];function r(s){if(e!=null&&n.length>=e||!s)return n;if(Bg(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!sc(s)||hS(s)||n.includes(s))return n;const o=Fn(t).getComputedStyle(s);return s!==t&&GI(s,o)&&n.push(s),qI(s,o)?n:r(s.parentNode)}return t?r(t):n}function bS(t){const[e]=lf(t,1);return e??null}function Lp(t){return!af||!t?null:wa(t)?t:Fg(t)?Bg(t)||t===ka(t).scrollingElement?window:sc(t)?t:null:null}function wS(t){return wa(t)?t.scrollX:t.scrollLeft}function kS(t){return wa(t)?t.scrollY:t.scrollTop}function jm(t){return{x:wS(t),y:kS(t)}}var Xt;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Xt||(Xt={}));function SS(t){return!af||!t?!1:t===document.scrollingElement}function CS(t){const e={x:0,y:0},n=SS(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},s=t.scrollTop<=e.y,o=t.scrollLeft<=e.x,a=t.scrollTop>=r.y,c=t.scrollLeft>=r.x;return{isTop:s,isLeft:o,isBottom:a,isRight:c,maxScroll:r,minScroll:e}}const YI={x:.2,y:.2};function JI(t,e,n,r,s){let{top:o,left:a,right:c,bottom:u}=n;r===void 0&&(r=10),s===void 0&&(s=YI);const{isTop:h,isBottom:p,isLeft:m,isRight:y}=CS(t),v={x:0,y:0},w={x:0,y:0},b={height:e.height*s.y,width:e.width*s.x};return!h&&o<=e.top+b.height?(v.y=Xt.Backward,w.y=r*Math.abs((e.top+b.height-o)/b.height)):!p&&u>=e.bottom-b.height&&(v.y=Xt.Forward,w.y=r*Math.abs((e.bottom-b.height-u)/b.height)),!y&&c>=e.right-b.width?(v.x=Xt.Forward,w.x=r*Math.abs((e.right-b.width-c)/b.width)):!m&&a<=e.left+b.width&&(v.x=Xt.Backward,w.x=r*Math.abs((e.left+b.width-a)/b.width)),{direction:v,speed:w}}function XI(t){if(t===document.scrollingElement){const{innerWidth:o,innerHeight:a}=window;return{top:0,left:0,right:o,bottom:a,width:o,height:a}}const{top:e,left:n,right:r,bottom:s}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:s,width:t.clientWidth,height:t.clientHeight}}function NS(t){return t.reduce((e,n)=>sa(e,jm(n)),Mr)}function QI(t){return t.reduce((e,n)=>e+wS(n),0)}function ZI(t){return t.reduce((e,n)=>e+kS(n),0)}function eP(t,e){if(e===void 0&&(e=Sa),!t)return;const{top:n,left:r,bottom:s,right:o}=e(t);bS(t)&&(s<=0||o<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const tP=[["x",["left","right"],QI],["y",["top","bottom"],ZI]];class Ug{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=lf(n),s=NS(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[o,a,c]of tP)for(const u of a)Object.defineProperty(this,u,{get:()=>{const h=c(r),p=s[o]-h;return this.rect[u]+p},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class kl{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var s;(s=this.target)==null||s.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function nP(t){const{EventTarget:e}=Fn(t);return t instanceof e?t:ka(t)}function _p(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var lr;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(lr||(lr={}));function y1(t){t.preventDefault()}function rP(t){t.stopPropagation()}var Ge;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(Ge||(Ge={}));const ES={start:[Ge.Space,Ge.Enter],cancel:[Ge.Esc],end:[Ge.Space,Ge.Enter,Ge.Tab]},sP=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case Ge.Right:return{...n,x:n.x+25};case Ge.Left:return{...n,x:n.x-25};case Ge.Down:return{...n,y:n.y+25};case Ge.Up:return{...n,y:n.y-25}}};class Wg{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new kl(ka(n)),this.windowListeners=new kl(Fn(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(lr.Resize,this.handleCancel),this.windowListeners.add(lr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(lr.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&eP(r),n(Mr)}handleKeyDown(e){if(Hg(e)){const{active:n,context:r,options:s}=this.props,{keyboardCodes:o=ES,coordinateGetter:a=sP,scrollBehavior:c="smooth"}=s,{code:u}=e;if(o.end.includes(u)){this.handleEnd(e);return}if(o.cancel.includes(u)){this.handleCancel(e);return}const{collisionRect:h}=r.current,p=h?{x:h.left,y:h.top}:Mr;this.referenceCoordinates||(this.referenceCoordinates=p);const m=a(e,{active:n,context:r.current,currentCoordinates:p});if(m){const y=$l(m,p),v={x:0,y:0},{scrollableAncestors:w}=r.current;for(const b of w){const S=e.code,{isTop:N,isRight:j,isLeft:A,isBottom:E,maxScroll:T,minScroll:R}=CS(b),D=XI(b),O={x:Math.min(S===Ge.Right?D.right-D.width/2:D.right,Math.max(S===Ge.Right?D.left:D.left+D.width/2,m.x)),y:Math.min(S===Ge.Down?D.bottom-D.height/2:D.bottom,Math.max(S===Ge.Down?D.top:D.top+D.height/2,m.y))},H=S===Ge.Right&&!j||S===Ge.Left&&!A,Q=S===Ge.Down&&!E||S===Ge.Up&&!N;if(H&&O.x!==m.x){const ce=b.scrollLeft+y.x,de=S===Ge.Right&&ce<=T.x||S===Ge.Left&&ce>=R.x;if(de&&!y.y){b.scrollTo({left:ce,behavior:c});return}de?v.x=b.scrollLeft-ce:v.x=S===Ge.Right?b.scrollLeft-T.x:b.scrollLeft-R.x,v.x&&b.scrollBy({left:-v.x,behavior:c});break}else if(Q&&O.y!==m.y){const ce=b.scrollTop+y.y,de=S===Ge.Down&&ce<=T.y||S===Ge.Up&&ce>=R.y;if(de&&!y.x){b.scrollTo({top:ce,behavior:c});return}de?v.y=b.scrollTop-ce:v.y=S===Ge.Down?b.scrollTop-T.y:b.scrollTop-R.y,v.y&&b.scrollBy({top:-v.y,behavior:c});break}}this.handleMove(e,sa($l(m,this.referenceCoordinates),v))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Wg.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=ES,onActivation:s}=e,{active:o}=n;const{code:a}=t.nativeEvent;if(r.start.includes(a)){const c=o.activatorNode.current;return c&&t.target!==c?!1:(t.preventDefault(),s?.({event:t.nativeEvent}),!0)}return!1}}];function v1(t){return!!(t&&"distance"in t)}function x1(t){return!!(t&&"delay"in t)}class Kg{constructor(e,n,r){var s;r===void 0&&(r=nP(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:o}=e,{target:a}=o;this.props=e,this.events=n,this.document=ka(a),this.documentListeners=new kl(this.document),this.listeners=new kl(r),this.windowListeners=new kl(Fn(a)),this.initialCoordinates=(s=Mm(o))!=null?s:Mr,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(lr.Resize,this.handleCancel),this.windowListeners.add(lr.DragStart,y1),this.windowListeners.add(lr.VisibilityChange,this.handleCancel),this.windowListeners.add(lr.ContextMenu,y1),this.documentListeners.add(lr.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(x1(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(v1(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:s}=this.props;s(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(lr.Click,rP,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(lr.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:s,props:o}=this,{onMove:a,options:{activationConstraint:c}}=o;if(!s)return;const u=(n=Mm(e))!=null?n:Mr,h=$l(s,u);if(!r&&c){if(v1(c)){if(c.tolerance!=null&&_p(h,c.tolerance))return this.handleCancel();if(_p(h,c.distance))return this.handleStart()}if(x1(c)&&_p(h,c.tolerance))return this.handleCancel();this.handlePending(c,h);return}e.cancelable&&e.preventDefault(),a(u)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===Ge.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const oP={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class qg extends Kg{constructor(e){const{event:n}=e,r=ka(n.target);super(e,oP,r)}}qg.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const iP={move:{name:"mousemove"},end:{name:"mouseup"}};var Am;(function(t){t[t.RightClick=2]="RightClick"})(Am||(Am={}));class aP extends Kg{constructor(e){super(e,iP,ka(e.event.target))}}aP.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===Am.RightClick?!1:(r?.({event:n}),!0)}}];const zp={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class lP extends Kg{constructor(e){super(e,zp)}static setup(){return window.addEventListener(zp.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(zp.move.name,e)};function e(){}}}lP.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:s}=n;return s.length>1?!1:(r?.({event:n}),!0)}}];var Sl;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Sl||(Sl={}));var td;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(td||(td={}));function cP(t){let{acceleration:e,activator:n=Sl.Pointer,canScroll:r,draggingRect:s,enabled:o,interval:a=5,order:c=td.TreeOrder,pointerCoordinates:u,scrollableAncestors:h,scrollableAncestorRects:p,delta:m,threshold:y}=t;const v=dP({delta:m,disabled:!o}),[w,b]=wI(),S=C.useRef({x:0,y:0}),N=C.useRef({x:0,y:0}),j=C.useMemo(()=>{switch(n){case Sl.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case Sl.DraggableRect:return s}},[n,s,u]),A=C.useRef(null),E=C.useCallback(()=>{const R=A.current;if(!R)return;const D=S.current.x*N.current.x,O=S.current.y*N.current.y;R.scrollBy(D,O)},[]),T=C.useMemo(()=>c===td.TreeOrder?[...h].reverse():h,[c,h]);C.useEffect(()=>{if(!o||!h.length||!j){b();return}for(const R of T){if(r?.(R)===!1)continue;const D=h.indexOf(R),O=p[D];if(!O)continue;const{direction:H,speed:Q}=JI(R,O,j,e,y);for(const ce of["x","y"])v[ce][H[ce]]||(Q[ce]=0,H[ce]=0);if(Q.x>0||Q.y>0){b(),A.current=R,w(E,a),S.current=Q,N.current=H;return}}S.current={x:0,y:0},N.current={x:0,y:0},b()},[e,E,r,b,o,a,JSON.stringify(j),JSON.stringify(v),w,h,T,p,JSON.stringify(y)])}const uP={x:{[Xt.Backward]:!1,[Xt.Forward]:!1},y:{[Xt.Backward]:!1,[Xt.Forward]:!1}};function dP(t){let{delta:e,disabled:n}=t;const r=Tm(e);return oc(s=>{if(n||!r||!s)return uP;const o={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[Xt.Backward]:s.x[Xt.Backward]||o.x===-1,[Xt.Forward]:s.x[Xt.Forward]||o.x===1},y:{[Xt.Backward]:s.y[Xt.Backward]||o.y===-1,[Xt.Forward]:s.y[Xt.Forward]||o.y===1}}},[n,e,r])}function fP(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return oc(s=>{var o;return e==null?null:(o=r??s)!=null?o:null},[r,e])}function hP(t,e){return C.useMemo(()=>t.reduce((n,r)=>{const{sensor:s}=r,o=s.activators.map(a=>({eventName:a.eventName,handler:e(a.handler,r)}));return[...n,...o]},[]),[t,e])}var Bl;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(Bl||(Bl={}));var Dm;(function(t){t.Optimized="optimized"})(Dm||(Dm={}));const b1=new Map;function pP(t,e){let{dragging:n,dependencies:r,config:s}=e;const[o,a]=C.useState(null),{frequency:c,measure:u,strategy:h}=s,p=C.useRef(t),m=S(),y=zl(m),v=C.useCallback(function(N){N===void 0&&(N=[]),!y.current&&a(j=>j===null?N:j.concat(N.filter(A=>!j.includes(A))))},[y]),w=C.useRef(null),b=oc(N=>{if(m&&!n)return b1;if(!N||N===b1||p.current!==t||o!=null){const j=new Map;for(let A of t){if(!A)continue;if(o&&o.length>0&&!o.includes(A.id)&&A.rect.current){j.set(A.id,A.rect.current);continue}const E=A.node.current,T=E?new Ug(u(E),E):null;A.rect.current=T,T&&j.set(A.id,T)}return j}return N},[t,o,n,m,u]);return C.useEffect(()=>{p.current=t},[t]),C.useEffect(()=>{m||v()},[n,m]),C.useEffect(()=>{o&&o.length>0&&a(null)},[JSON.stringify(o)]),C.useEffect(()=>{m||typeof c!="number"||w.current!==null||(w.current=setTimeout(()=>{v(),w.current=null},c))},[c,m,v,...r]),{droppableRects:b,measureDroppableContainers:v,measuringScheduled:o!=null};function S(){switch(h){case Bl.Always:return!1;case Bl.BeforeDragging:return n;default:return!n}}}function TS(t,e){return oc(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function mP(t,e){return TS(t,e)}function gP(t){let{callback:e,disabled:n}=t;const r=Vg(e),s=C.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(r)},[r,n]);return C.useEffect(()=>()=>s?.disconnect(),[s]),s}function cf(t){let{callback:e,disabled:n}=t;const r=Vg(e),s=C.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(r)},[n]);return C.useEffect(()=>()=>s?.disconnect(),[s]),s}function yP(t){return new Ug(Sa(t),t)}function w1(t,e,n){e===void 0&&(e=yP);const[r,s]=C.useState(null);function o(){s(u=>{if(!t)return null;if(t.isConnected===!1){var h;return(h=u??n)!=null?h:null}const p=e(t);return JSON.stringify(u)===JSON.stringify(p)?u:p})}const a=gP({callback(u){if(t)for(const h of u){const{type:p,target:m}=h;if(p==="childList"&&m instanceof HTMLElement&&m.contains(t)){o();break}}}}),c=cf({callback:o});return Jr(()=>{o(),t?(c?.observe(t),a?.observe(document.body,{childList:!0,subtree:!0})):(c?.disconnect(),a?.disconnect())},[t]),r}function vP(t){const e=TS(t);return xS(t,e)}const k1=[];function xP(t){const e=C.useRef(t),n=oc(r=>t?r&&r!==k1&&t&&e.current&&t.parentNode===e.current.parentNode?r:lf(t):k1,[t]);return C.useEffect(()=>{e.current=t},[t]),n}function bP(t){const[e,n]=C.useState(null),r=C.useRef(t),s=C.useCallback(o=>{const a=Lp(o.target);a&&n(c=>c?(c.set(a,jm(a)),new Map(c)):null)},[]);return C.useEffect(()=>{const o=r.current;if(t!==o){a(o);const c=t.map(u=>{const h=Lp(u);return h?(h.addEventListener("scroll",s,{passive:!0}),[h,jm(h)]):null}).filter(u=>u!=null);n(c.length?new Map(c):null),r.current=t}return()=>{a(t),a(o)};function a(c){c.forEach(u=>{const h=Lp(u);h?.removeEventListener("scroll",s)})}},[s,t]),C.useMemo(()=>t.length?e?Array.from(e.values()).reduce((o,a)=>sa(o,a),Mr):NS(t):Mr,[t,e])}function S1(t,e){e===void 0&&(e=[]);const n=C.useRef(null);return C.useEffect(()=>{n.current=null},e),C.useEffect(()=>{const r=t!==Mr;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?$l(t,n.current):Mr}function wP(t){C.useEffect(()=>{if(!af)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function kP(t,e){return C.useMemo(()=>t.reduce((n,r)=>{let{eventName:s,handler:o}=r;return n[s]=a=>{o(a,e)},n},{}),[t,e])}function MS(t){return C.useMemo(()=>t?KI(t):null,[t])}const C1=[];function SP(t,e){e===void 0&&(e=Sa);const[n]=t,r=MS(n?Fn(n):null),[s,o]=C.useState(C1);function a(){o(()=>t.length?t.map(u=>SS(u)?r:new Ug(e(u),u)):C1)}const c=cf({callback:a});return Jr(()=>{c?.disconnect(),a(),t.forEach(u=>c?.observe(u))},[t]),s}function CP(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return sc(e)?e:t}function NP(t){let{measure:e}=t;const[n,r]=C.useState(null),s=C.useCallback(h=>{for(const{target:p}of h)if(sc(p)){r(m=>{const y=e(p);return m?{...m,width:y.width,height:y.height}:y});break}},[e]),o=cf({callback:s}),a=C.useCallback(h=>{const p=CP(h);o?.disconnect(),p&&o?.observe(p),r(p?e(p):null)},[e,o]),[c,u]=Zu(a);return C.useMemo(()=>({nodeRef:c,rect:n,setRef:u}),[n,c,u])}const EP=[{sensor:qg,options:{}},{sensor:Wg,options:{}}],TP={current:{}},Vu={draggable:{measure:g1},droppable:{measure:g1,strategy:Bl.WhileDragging,frequency:Dm.Optimized},dragOverlay:{measure:Sa}};class Cl extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const MP={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Cl,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:ed},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Vu,measureDroppableContainers:ed,windowRect:null,measuringScheduled:!1},jP={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:ed,draggableNodes:new Map,over:null,measureDroppableContainers:ed},uf=C.createContext(jP),jS=C.createContext(MP);function AP(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Cl}}}function DP(t,e){switch(e.type){case Vt.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Vt.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Vt.DragEnd:case Vt.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Vt.RegisterDroppable:{const{element:n}=e,{id:r}=n,s=new Cl(t.droppable.containers);return s.set(r,n),{...t,droppable:{...t.droppable,containers:s}}}case Vt.SetDroppableDisabled:{const{id:n,key:r,disabled:s}=e,o=t.droppable.containers.get(n);if(!o||r!==o.key)return t;const a=new Cl(t.droppable.containers);return a.set(n,{...o,disabled:s}),{...t,droppable:{...t.droppable,containers:a}}}case Vt.UnregisterDroppable:{const{id:n,key:r}=e,s=t.droppable.containers.get(n);if(!s||r!==s.key)return t;const o=new Cl(t.droppable.containers);return o.delete(n),{...t,droppable:{...t.droppable,containers:o}}}default:return t}}function RP(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:s}=C.useContext(uf),o=Tm(r),a=Tm(n?.id);return C.useEffect(()=>{if(!e&&!r&&o&&a!=null){if(!Hg(o)||document.activeElement===o.target)return;const c=s.get(a);if(!c)return;const{activatorNode:u,node:h}=c;if(!u.current&&!h.current)return;requestAnimationFrame(()=>{for(const p of[u.current,h.current]){if(!p)continue;const m=CI(p);if(m){m.focus();break}}})}},[r,e,s,a,o]),null}function OP(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((s,o)=>o({transform:s,...r}),n):n}function IP(t){return C.useMemo(()=>({draggable:{...Vu.draggable,...t?.draggable},droppable:{...Vu.droppable,...t?.droppable},dragOverlay:{...Vu.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function PP(t){let{activeNode:e,measure:n,initialRect:r,config:s=!0}=t;const o=C.useRef(!1),{x:a,y:c}=typeof s=="boolean"?{x:s,y:s}:s;Jr(()=>{if(!a&&!c||!e){o.current=!1;return}if(o.current||!r)return;const h=e?.node.current;if(!h||h.isConnected===!1)return;const p=n(h),m=xS(p,r);if(a||(m.x=0),c||(m.y=0),o.current=!0,Math.abs(m.x)>0||Math.abs(m.y)>0){const y=bS(h);y&&y.scrollBy({top:m.y,left:m.x})}},[e,a,c,r,n])}const AS=C.createContext({...Mr,scaleX:1,scaleY:1});var ao;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(ao||(ao={}));const LP=C.memo(function(e){var n,r,s,o;let{id:a,accessibility:c,autoScroll:u=!0,children:h,sensors:p=EP,collisionDetection:m=$I,measuring:y,modifiers:v,...w}=e;const b=C.useReducer(DP,void 0,AP),[S,N]=b,[j,A]=AI(),[E,T]=C.useState(ao.Uninitialized),R=E===ao.Initialized,{draggable:{active:D,nodes:O,translate:H},droppable:{containers:Q}}=S,ce=D!=null?O.get(D):null,de=C.useRef({initial:null,translated:null}),le=C.useMemo(()=>{var st;return D!=null?{id:D,data:(st=ce?.data)!=null?st:TP,rect:de}:null},[D,ce]),ue=C.useRef(null),[re,U]=C.useState(null),[q,z]=C.useState(null),X=zl(w,Object.values(w)),Y=ic("DndDescribedBy",a),L=C.useMemo(()=>Q.getEnabled(),[Q]),V=IP(y),{droppableRects:K,measureDroppableContainers:ee,measuringScheduled:he}=pP(L,{dragging:R,dependencies:[H.x,H.y],config:V.droppable}),pe=fP(O,D),J=C.useMemo(()=>q?Mm(q):null,[q]),ie=Zn(),ke=mP(pe,V.draggable.measure);PP({activeNode:D!=null?O.get(D):null,config:ie.layoutShiftCompensation,initialRect:ke,measure:V.draggable.measure});const fe=w1(pe,V.draggable.measure,ke),_e=w1(pe?pe.parentElement:null),Pe=C.useRef({activatorEvent:null,active:null,activeNode:pe,collisionRect:null,collisions:null,droppableRects:K,draggableNodes:O,draggingNode:null,draggingNodeRect:null,droppableContainers:Q,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),rt=Q.getNodeFor((n=Pe.current.over)==null?void 0:n.id),ct=NP({measure:V.dragOverlay.measure}),Ht=(r=ct.nodeRef.current)!=null?r:pe,Ut=R?(s=ct.rect)!=null?s:fe:null,Wt=!!(ct.nodeRef.current&&ct.rect),Ir=vP(Wt?null:fe),Lt=MS(Ht?Fn(Ht):null),Kt=xP(R?rt??pe:null),yn=SP(Kt),yt=OP(v,{transform:{x:H.x-Ir.x,y:H.y-Ir.y,scaleX:1,scaleY:1},activatorEvent:q,active:le,activeNodeRect:fe,containerNodeRect:_e,draggingNodeRect:Ut,over:Pe.current.over,overlayNodeRect:ct.rect,scrollableAncestors:Kt,scrollableAncestorRects:yn,windowRect:Lt}),Tn=J?sa(J,H):null,is=bP(Kt),Pr=S1(is),Xn=S1(is,[fe]),Mn=sa(yt,Pr),me=Ut?VI(Ut,yt):null,ve=le&&me?m({active:le,collisionRect:me,droppableRects:K,droppableContainers:L,pointerCoordinates:Tn}):null,xe=vS(ve,"id"),[Se,vt]=C.useState(null),Qn=Wt?yt:sa(yt,Xn),xt=FI(Qn,(o=Se?.rect)!=null?o:null,fe),vn=C.useRef(null),hr=C.useCallback((st,_t)=>{let{sensor:Ae,options:Ze}=_t;if(ue.current==null)return;const Je=O.get(ue.current);if(!Je)return;const et=st.nativeEvent,zt=new Ae({active:ue.current,activeNode:Je,event:et,options:Ze,context:Pe,onAbort(qe){if(!O.get(qe))return;const{onDragAbort:ot}=X.current,wt={id:qe};ot?.(wt),j({type:"onDragAbort",event:wt})},onPending(qe,nn,ot,wt){if(!O.get(qe))return;const{onDragPending:qt}=X.current,An={id:qe,constraint:nn,initialCoordinates:ot,offset:wt};qt?.(An),j({type:"onDragPending",event:An})},onStart(qe){const nn=ue.current;if(nn==null)return;const ot=O.get(nn);if(!ot)return;const{onDragStart:wt}=X.current,jn={activatorEvent:et,active:{id:nn,data:ot.data,rect:de}};Kr.unstable_batchedUpdates(()=>{wt?.(jn),T(ao.Initializing),N({type:Vt.DragStart,initialCoordinates:qe,active:nn}),j({type:"onDragStart",event:jn}),U(vn.current),z(et)})},onMove(qe){N({type:Vt.DragMove,coordinates:qe})},onEnd:ut(Vt.DragEnd),onCancel:ut(Vt.DragCancel)});vn.current=zt;function ut(qe){return async function(){const{active:ot,collisions:wt,over:jn,scrollAdjustedTranslate:qt}=Pe.current;let An=null;if(ot&&qt){const{cancelDrop:cs}=X.current;An={activatorEvent:et,active:ot,collisions:wt,delta:qt,over:jn},qe===Vt.DragEnd&&typeof cs=="function"&&await Promise.resolve(cs(An))&&(qe=Vt.DragCancel)}ue.current=null,Kr.unstable_batchedUpdates(()=>{N({type:qe}),T(ao.Uninitialized),vt(null),U(null),z(null),vn.current=null;const cs=qe===Vt.DragEnd?"onDragEnd":"onDragCancel";if(An){const Ma=X.current[cs];Ma?.(An),j({type:cs,event:An})}})}}},[O]),as=C.useCallback((st,_t)=>(Ae,Ze)=>{const Je=Ae.nativeEvent,et=O.get(Ze);if(ue.current!==null||!et||Je.dndKit||Je.defaultPrevented)return;const zt={active:et};st(Ae,_t.options,zt)===!0&&(Je.dndKit={capturedBy:_t.sensor},ue.current=Ze,hr(Ae,_t))},[O,hr]),Bn=hP(p,as);wP(p),Jr(()=>{fe&&E===ao.Initializing&&T(ao.Initialized)},[fe,E]),C.useEffect(()=>{const{onDragMove:st}=X.current,{active:_t,activatorEvent:Ae,collisions:Ze,over:Je}=Pe.current;if(!_t||!Ae)return;const et={active:_t,activatorEvent:Ae,collisions:Ze,delta:{x:Mn.x,y:Mn.y},over:Je};Kr.unstable_batchedUpdates(()=>{st?.(et),j({type:"onDragMove",event:et})})},[Mn.x,Mn.y]),C.useEffect(()=>{const{active:st,activatorEvent:_t,collisions:Ae,droppableContainers:Ze,scrollAdjustedTranslate:Je}=Pe.current;if(!st||ue.current==null||!_t||!Je)return;const{onDragOver:et}=X.current,zt=Ze.get(xe),ut=zt&&zt.rect.current?{id:zt.id,rect:zt.rect.current,data:zt.data,disabled:zt.disabled}:null,qe={active:st,activatorEvent:_t,collisions:Ae,delta:{x:Je.x,y:Je.y},over:ut};Kr.unstable_batchedUpdates(()=>{vt(ut),et?.(qe),j({type:"onDragOver",event:qe})})},[xe]),Jr(()=>{Pe.current={activatorEvent:q,active:le,activeNode:pe,collisionRect:me,collisions:ve,droppableRects:K,draggableNodes:O,draggingNode:Ht,draggingNodeRect:Ut,droppableContainers:Q,over:Se,scrollableAncestors:Kt,scrollAdjustedTranslate:Mn},de.current={initial:Ut,translated:me}},[le,pe,ve,me,O,Ht,Ut,K,Q,Se,Kt,Mn]),cP({...ie,delta:H,draggingRect:me,pointerCoordinates:Tn,scrollableAncestors:Kt,scrollableAncestorRects:yn});const At=C.useMemo(()=>({active:le,activeNode:pe,activeNodeRect:fe,activatorEvent:q,collisions:ve,containerNodeRect:_e,dragOverlay:ct,draggableNodes:O,droppableContainers:Q,droppableRects:K,over:Se,measureDroppableContainers:ee,scrollableAncestors:Kt,scrollableAncestorRects:yn,measuringConfiguration:V,measuringScheduled:he,windowRect:Lt}),[le,pe,fe,q,ve,_e,ct,O,Q,K,Se,ee,Kt,yn,V,he,Lt]),ls=C.useMemo(()=>({activatorEvent:q,activators:Bn,active:le,activeNodeRect:fe,ariaDescribedById:{draggable:Y},dispatch:N,draggableNodes:O,over:Se,measureDroppableContainers:ee}),[q,Bn,le,fe,N,Y,O,Se,ee]);return W.createElement(mS.Provider,{value:A},W.createElement(uf.Provider,{value:ls},W.createElement(jS.Provider,{value:At},W.createElement(AS.Provider,{value:xt},h)),W.createElement(RP,{disabled:c?.restoreFocus===!1})),W.createElement(OI,{...c,hiddenTextDescribedById:Y}));function Zn(){const st=re?.autoScrollEnabled===!1,_t=typeof u=="object"?u.enabled===!1:u===!1,Ae=R&&!st&&!_t;return typeof u=="object"?{...u,enabled:Ae}:{enabled:Ae}}}),_P=C.createContext(null),N1="button",zP="Draggable";function $P(t){let{id:e,data:n,disabled:r=!1,attributes:s}=t;const o=ic(zP),{activators:a,activatorEvent:c,active:u,activeNodeRect:h,ariaDescribedById:p,draggableNodes:m,over:y}=C.useContext(uf),{role:v=N1,roleDescription:w="draggable",tabIndex:b=0}=s??{},S=u?.id===e,N=C.useContext(S?AS:_P),[j,A]=Zu(),[E,T]=Zu(),R=kP(a,e),D=zl(n);Jr(()=>(m.set(e,{id:e,key:o,node:j,activatorNode:E,data:D}),()=>{const H=m.get(e);H&&H.key===o&&m.delete(e)}),[m,e]);const O=C.useMemo(()=>({role:v,tabIndex:b,"aria-disabled":r,"aria-pressed":S&&v===N1?!0:void 0,"aria-roledescription":w,"aria-describedby":p.draggable}),[r,v,b,S,w,p.draggable]);return{active:u,activatorEvent:c,activeNodeRect:h,attributes:O,isDragging:S,listeners:r?void 0:R,node:j,over:y,setNodeRef:A,setActivatorNodeRef:T,transform:N}}function FP(){return C.useContext(jS)}const BP="Droppable",VP={timeout:25};function HP(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:s}=t;const o=ic(BP),{active:a,dispatch:c,over:u,measureDroppableContainers:h}=C.useContext(uf),p=C.useRef({disabled:n}),m=C.useRef(!1),y=C.useRef(null),v=C.useRef(null),{disabled:w,updateMeasurementsFor:b,timeout:S}={...VP,...s},N=zl(b??r),j=C.useCallback(()=>{if(!m.current){m.current=!0;return}v.current!=null&&clearTimeout(v.current),v.current=setTimeout(()=>{h(Array.isArray(N.current)?N.current:[N.current]),v.current=null},S)},[S]),A=cf({callback:j,disabled:w||!a}),E=C.useCallback((O,H)=>{A&&(H&&(A.unobserve(H),m.current=!1),O&&A.observe(O))},[A]),[T,R]=Zu(E),D=zl(e);return C.useEffect(()=>{!A||!T.current||(A.disconnect(),m.current=!1,A.observe(T.current))},[T,A]),C.useEffect(()=>(c({type:Vt.RegisterDroppable,element:{id:r,key:o,disabled:n,node:T,rect:y,data:D}}),()=>c({type:Vt.UnregisterDroppable,key:o,id:r})),[r]),C.useEffect(()=>{n!==p.current.disabled&&(c({type:Vt.SetDroppableDisabled,id:r,key:o,disabled:n}),p.current.disabled=n)},[r,o,n,c]),{active:a,rect:y,isOver:u?.id===r,node:T,over:u,setNodeRef:R}}function DS(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function UP(t,e){return t.reduce((n,r,s)=>{const o=e.get(r);return o&&(n[s]=o),n},Array(t.length))}function Eu(t){return t!==null&&t>=0}function WP(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function KP(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const RS=t=>{let{rects:e,activeIndex:n,overIndex:r,index:s}=t;const o=DS(e,r,n),a=e[s],c=o[s];return!c||!a?null:{x:c.left-a.left,y:c.top-a.top,scaleX:c.width/a.width,scaleY:c.height/a.height}},Tu={scaleX:1,scaleY:1},qP=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:s,rects:o,overIndex:a}=t;const c=(e=o[n])!=null?e:r;if(!c)return null;if(s===n){const h=o[a];return h?{x:0,y:n<a?h.top+h.height-(c.top+c.height):h.top-c.top,...Tu}:null}const u=GP(o,s,n);return s>n&&s<=a?{x:0,y:-c.height-u,...Tu}:s<n&&s>=a?{x:0,y:c.height+u,...Tu}:{x:0,y:0,...Tu}};function GP(t,e,n){const r=t[e],s=t[e-1],o=t[e+1];return r?n<e?s?r.top-(s.top+s.height):o?o.top-(r.top+r.height):0:o?o.top-(r.top+r.height):s?r.top-(s.top+s.height):0:0}const OS="Sortable",IS=W.createContext({activeIndex:-1,containerId:OS,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:RS,disabled:{draggable:!1,droppable:!1}});function YP(t){let{children:e,id:n,items:r,strategy:s=RS,disabled:o=!1}=t;const{active:a,dragOverlay:c,droppableRects:u,over:h,measureDroppableContainers:p}=FP(),m=ic(OS,n),y=c.rect!==null,v=C.useMemo(()=>r.map(R=>typeof R=="object"&&"id"in R?R.id:R),[r]),w=a!=null,b=a?v.indexOf(a.id):-1,S=h?v.indexOf(h.id):-1,N=C.useRef(v),j=!WP(v,N.current),A=S!==-1&&b===-1||j,E=KP(o);Jr(()=>{j&&w&&p(v)},[j,v,w,p]),C.useEffect(()=>{N.current=v},[v]);const T=C.useMemo(()=>({activeIndex:b,containerId:m,disabled:E,disableTransforms:A,items:v,overIndex:S,useDragOverlay:y,sortedRects:UP(v,u),strategy:s}),[b,m,E.draggable,E.droppable,A,v,S,u,y,s]);return W.createElement(IS.Provider,{value:T},e)}const JP=t=>{let{id:e,items:n,activeIndex:r,overIndex:s}=t;return DS(n,r,s).indexOf(e)},XP=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:s,items:o,newIndex:a,previousItems:c,previousContainerId:u,transition:h}=t;return!h||!r||c!==o&&s===a?!1:n?!0:a!==s&&e===u},QP={duration:200,easing:"ease"},PS="transform",ZP=Fl.Transition.toString({property:PS,duration:0,easing:"linear"}),e4={roleDescription:"sortable"};function t4(t){let{disabled:e,index:n,node:r,rect:s}=t;const[o,a]=C.useState(null),c=C.useRef(n);return Jr(()=>{if(!e&&n!==c.current&&r.current){const u=s.current;if(u){const h=Sa(r.current,{ignoreTransform:!0}),p={x:u.left-h.left,y:u.top-h.top,scaleX:u.width/h.width,scaleY:u.height/h.height};(p.x||p.y)&&a(p)}}n!==c.current&&(c.current=n)},[e,n,r,s]),C.useEffect(()=>{o&&a(null)},[o]),o}function n4(t){let{animateLayoutChanges:e=XP,attributes:n,disabled:r,data:s,getNewIndex:o=JP,id:a,strategy:c,resizeObserverConfig:u,transition:h=QP}=t;const{items:p,containerId:m,activeIndex:y,disabled:v,disableTransforms:w,sortedRects:b,overIndex:S,useDragOverlay:N,strategy:j}=C.useContext(IS),A=r4(r,v),E=p.indexOf(a),T=C.useMemo(()=>({sortable:{containerId:m,index:E,items:p},...s}),[m,s,E,p]),R=C.useMemo(()=>p.slice(p.indexOf(a)),[p,a]),{rect:D,node:O,isOver:H,setNodeRef:Q}=HP({id:a,data:T,disabled:A.droppable,resizeObserverConfig:{updateMeasurementsFor:R,...u}}),{active:ce,activatorEvent:de,activeNodeRect:le,attributes:ue,setNodeRef:re,listeners:U,isDragging:q,over:z,setActivatorNodeRef:X,transform:Y}=$P({id:a,data:T,attributes:{...e4,...n},disabled:A.draggable}),L=bI(Q,re),V=!!ce,K=V&&!w&&Eu(y)&&Eu(S),ee=!N&&q,he=ee&&K?Y:null,J=K?he??(c??j)({rects:b,activeNodeRect:le,activeIndex:y,overIndex:S,index:E}):null,ie=Eu(y)&&Eu(S)?o({id:a,items:p,activeIndex:y,overIndex:S}):E,ke=ce?.id,fe=C.useRef({activeId:ke,items:p,newIndex:ie,containerId:m}),_e=p!==fe.current.items,Pe=e({active:ce,containerId:m,isDragging:q,isSorting:V,id:a,index:E,items:p,newIndex:fe.current.newIndex,previousItems:fe.current.items,previousContainerId:fe.current.containerId,transition:h,wasDragging:fe.current.activeId!=null}),rt=t4({disabled:!Pe,index:E,node:O,rect:D});return C.useEffect(()=>{V&&fe.current.newIndex!==ie&&(fe.current.newIndex=ie),m!==fe.current.containerId&&(fe.current.containerId=m),p!==fe.current.items&&(fe.current.items=p)},[V,ie,m,p]),C.useEffect(()=>{if(ke===fe.current.activeId)return;if(ke!=null&&fe.current.activeId==null){fe.current.activeId=ke;return}const Ht=setTimeout(()=>{fe.current.activeId=ke},50);return()=>clearTimeout(Ht)},[ke]),{active:ce,activeIndex:y,attributes:ue,data:T,rect:D,index:E,newIndex:ie,items:p,isOver:H,isSorting:V,isDragging:q,listeners:U,node:O,overIndex:S,over:z,setNodeRef:L,setActivatorNodeRef:X,setDroppableNodeRef:Q,setDraggableNodeRef:re,transform:rt??J,transition:ct()};function ct(){if(rt||_e&&fe.current.newIndex===E)return ZP;if(!(ee&&!Hg(de)||!h)&&(V||Pe))return Fl.Transition.toString({...h,property:PS})}}function r4(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t?.draggable)!=null?n:e.draggable,droppable:(r=t?.droppable)!=null?r:e.droppable}}function nd(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const s4=[Ge.Down,Ge.Right,Ge.Up,Ge.Left],o4=(t,e)=>{let{context:{active:n,collisionRect:r,droppableRects:s,droppableContainers:o,over:a,scrollableAncestors:c}}=e;if(s4.includes(t.code)){if(t.preventDefault(),!n||!r)return;const u=[];o.getEnabled().forEach(m=>{if(!m||m!=null&&m.disabled)return;const y=s.get(m.id);if(y)switch(t.code){case Ge.Down:r.top<y.top&&u.push(m);break;case Ge.Up:r.top>y.top&&u.push(m);break;case Ge.Left:r.left>y.left&&u.push(m);break;case Ge.Right:r.left<y.left&&u.push(m);break}});const h=_I({collisionRect:r,droppableRects:s,droppableContainers:u});let p=vS(h,"id");if(p===a?.id&&h.length>1&&(p=h[1].id),p!=null){const m=o.get(n.id),y=o.get(p),v=y?s.get(y.id):null,w=y?.node.current;if(w&&v&&m&&y){const S=lf(w).some((R,D)=>c[D]!==R),N=LS(m,y),j=i4(m,y),A=S||!N?{x:0,y:0}:{x:j?r.width-v.width:0,y:j?r.height-v.height:0},E={x:v.left,y:v.top};return A.x&&A.y?E:$l(E,A)}}}};function LS(t,e){return!nd(t)||!nd(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function i4(t,e){return!nd(t)||!nd(e)||!LS(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}var df="Collapsible",[a4,_S]=Dr(df),[l4,Gg]=a4(df),zS=C.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:o,onOpenChange:a,...c}=t,[u,h]=js({prop:r,defaultProp:s??!1,onChange:a,caller:df});return d.jsx(l4,{scope:n,disabled:o,contentId:Gr(),open:u,onOpenToggle:C.useCallback(()=>h(p=>!p),[h]),children:d.jsx(Fe.div,{"data-state":Jg(u),"data-disabled":o?"":void 0,...c,ref:e})})});zS.displayName=df;var $S="CollapsibleTrigger",FS=C.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,s=Gg($S,n);return d.jsx(Fe.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":Jg(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:e,onClick:Ue(t.onClick,s.onOpenToggle)})});FS.displayName=$S;var Yg="CollapsibleContent",BS=C.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Gg(Yg,t.__scopeCollapsible);return d.jsx(xi,{present:n||s.open,children:({present:o})=>d.jsx(c4,{...r,ref:e,present:o})})});BS.displayName=Yg;var c4=C.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:s,...o}=t,a=Gg(Yg,n),[c,u]=C.useState(r),h=C.useRef(null),p=lt(e,h),m=C.useRef(0),y=m.current,v=C.useRef(0),w=v.current,b=a.open||c,S=C.useRef(b),N=C.useRef(void 0);return C.useEffect(()=>{const j=requestAnimationFrame(()=>S.current=!1);return()=>cancelAnimationFrame(j)},[]),cn(()=>{const j=h.current;if(j){N.current=N.current||{transitionDuration:j.style.transitionDuration,animationName:j.style.animationName},j.style.transitionDuration="0s",j.style.animationName="none";const A=j.getBoundingClientRect();m.current=A.height,v.current=A.width,S.current||(j.style.transitionDuration=N.current.transitionDuration,j.style.animationName=N.current.animationName),u(r)}},[a.open,r]),d.jsx(Fe.div,{"data-state":Jg(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!b,...o,ref:p,style:{"--radix-collapsible-content-height":y?`${y}px`:void 0,"--radix-collapsible-content-width":w?`${w}px`:void 0,...t.style},children:b&&s})});function Jg(t){return t?"open":"closed"}var u4=zS,d4=FS,f4=BS,Or="Accordion",h4=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Xg,p4,m4]=Lg(Or),[ff]=Dr(Or,[m4,_S]),Qg=_S(),VS=W.forwardRef((t,e)=>{const{type:n,...r}=t,s=r,o=r;return d.jsx(Xg.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?d.jsx(x4,{...o,ref:e}):d.jsx(v4,{...s,ref:e})})});VS.displayName=Or;var[HS,g4]=ff(Or),[US,y4]=ff(Or,{collapsible:!1}),v4=W.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},collapsible:o=!1,...a}=t,[c,u]=js({prop:n,defaultProp:r??"",onChange:s,caller:Or});return d.jsx(HS,{scope:t.__scopeAccordion,value:W.useMemo(()=>c?[c]:[],[c]),onItemOpen:u,onItemClose:W.useCallback(()=>o&&u(""),[o,u]),children:d.jsx(US,{scope:t.__scopeAccordion,collapsible:o,children:d.jsx(WS,{...a,ref:e})})})}),x4=W.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...o}=t,[a,c]=js({prop:n,defaultProp:r??[],onChange:s,caller:Or}),u=W.useCallback(p=>c((m=[])=>[...m,p]),[c]),h=W.useCallback(p=>c((m=[])=>m.filter(y=>y!==p)),[c]);return d.jsx(HS,{scope:t.__scopeAccordion,value:a,onItemOpen:u,onItemClose:h,children:d.jsx(US,{scope:t.__scopeAccordion,collapsible:!0,children:d.jsx(WS,{...o,ref:e})})})}),[b4,hf]=ff(Or),WS=W.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:s,orientation:o="vertical",...a}=t,c=W.useRef(null),u=lt(c,e),h=p4(n),m=sf(s)==="ltr",y=Ue(t.onKeyDown,v=>{if(!h4.includes(v.key))return;const w=v.target,b=h().filter(O=>!O.ref.current?.disabled),S=b.findIndex(O=>O.ref.current===w),N=b.length;if(S===-1)return;v.preventDefault();let j=S;const A=0,E=N-1,T=()=>{j=S+1,j>E&&(j=A)},R=()=>{j=S-1,j<A&&(j=E)};switch(v.key){case"Home":j=A;break;case"End":j=E;break;case"ArrowRight":o==="horizontal"&&(m?T():R());break;case"ArrowDown":o==="vertical"&&T();break;case"ArrowLeft":o==="horizontal"&&(m?R():T());break;case"ArrowUp":o==="vertical"&&R();break}const D=j%N;b[D].ref.current?.focus()});return d.jsx(b4,{scope:n,disabled:r,direction:s,orientation:o,children:d.jsx(Xg.Slot,{scope:n,children:d.jsx(Fe.div,{...a,"data-orientation":o,ref:u,onKeyDown:r?void 0:y})})})}),rd="AccordionItem",[w4,Zg]=ff(rd),KS=W.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...s}=t,o=hf(rd,n),a=g4(rd,n),c=Qg(n),u=Gr(),h=r&&a.value.includes(r)||!1,p=o.disabled||t.disabled;return d.jsx(w4,{scope:n,open:h,disabled:p,triggerId:u,children:d.jsx(u4,{"data-orientation":o.orientation,"data-state":QS(h),...c,...s,ref:e,disabled:p,open:h,onOpenChange:m=>{m?a.onItemOpen(r):a.onItemClose(r)}})})});KS.displayName=rd;var qS="AccordionHeader",GS=W.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=hf(Or,n),o=Zg(qS,n);return d.jsx(Fe.h3,{"data-orientation":s.orientation,"data-state":QS(o.open),"data-disabled":o.disabled?"":void 0,...r,ref:e})});GS.displayName=qS;var Rm="AccordionTrigger",YS=W.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=hf(Or,n),o=Zg(Rm,n),a=y4(Rm,n),c=Qg(n);return d.jsx(Xg.ItemSlot,{scope:n,children:d.jsx(d4,{"aria-disabled":o.open&&!a.collapsible||void 0,"data-orientation":s.orientation,id:o.triggerId,...c,...r,ref:e})})});YS.displayName=Rm;var JS="AccordionContent",XS=W.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=hf(Or,n),o=Zg(JS,n),a=Qg(n);return d.jsx(f4,{role:"region","aria-labelledby":o.triggerId,"data-orientation":s.orientation,...a,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});XS.displayName=JS;function QS(t){return t?"open":"closed"}var k4=VS,S4=KS,C4=GS,N4=YS,E4=XS;function T4({...t}){return d.jsx(k4,{"data-slot":"accordion",...t})}function M4({className:t,...e}){return d.jsx(S4,{"data-slot":"accordion-item",className:Ke("border-b last:border-b-0",t),...e})}function j4({className:t,children:e,...n}){return d.jsx(C4,{className:"flex",children:d.jsxs(N4,{"data-slot":"accordion-trigger",className:Ke("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,d.jsx(kg,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function A4({className:t,children:e,...n}){return d.jsx(E4,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...n,children:d.jsx("div",{className:Ke("pt-0 pb-4",t),children:e})})}function ZS({links:t}){const[e,n]=C.useState(null);if(t.length===0)return null;const r=a=>{const c="w-4 h-4";switch(a){case"instagram":return d.jsx(ca,{className:c});case"tiktok":return d.jsx(Ll,{className:c});case"youtube":return d.jsx(_l,{className:c});case"twitter":return d.jsx(ua,{className:c});default:return d.jsx(No,{className:c})}},s=a=>{switch(a){case"instagram":return"bg-gradient-to-br from-purple-500 via-pink-500 to-orange-500 text-white hover:opacity-90";case"tiktok":return"bg-black text-white hover:bg-gray-900";case"youtube":return"bg-red-600 text-white hover:bg-red-700";case"twitter":return"bg-blue-500 text-white hover:bg-blue-600";default:return"bg-gray-600 text-white hover:bg-gray-700"}},o=a=>a.charAt(0).toUpperCase()+a.slice(1);return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(a=>d.jsxs(je,{variant:"outline",size:"sm",onClick:()=>n(a),className:"gap-2",children:[r(a.platform),d.jsx("span",{className:"text-xs",children:o(a.platform)}),d.jsx(qA,{className:"w-3 h-3"})]},a.id))}),d.jsx(es,{open:!!e,onOpenChange:()=>n(null),children:d.jsxs(ts,{className:"max-w-3xl max-h-[90vh] overflow-hidden",children:[d.jsx(ns,{children:d.jsx(rs,{className:"flex items-center gap-2",children:e&&d.jsxs(d.Fragment,{children:[d.jsx("span",{className:`p-1.5 rounded ${s(e.platform)}`,children:r(e.platform)}),o(e.platform)," Preview"]})})}),e&&d.jsxs("div",{className:"space-y-4",children:[d.jsx(D4,{link:e}),d.jsx("div",{className:"flex justify-end",children:d.jsxs(je,{variant:"outline",size:"sm",onClick:()=>window.open(e.url,"_blank"),className:"gap-2",children:[d.jsx(wl,{className:"w-4 h-4"}),"Open in ",o(e.platform)]})})]})]})})]})}function D4({link:t}){const n=(r=>{switch(r.platform){case"youtube":{const s=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,o=r.url.match(s),a=o&&o[2].length===11?o[2]:null;return a?`https://www.youtube.com/embed/${a}`:null}case"tiktok":{const s=r.url.match(/\/video\/(\d+)/);return s?`https://www.tiktok.com/embed/v2/${s[1]}`:null}case"instagram":return null;case"twitter":return null;default:return null}})(t);return t.platform==="instagram"||t.platform==="twitter"?d.jsx(Sn,{className:"p-6 text-center",children:d.jsxs("div",{className:"space-y-4",children:[t.platform==="instagram"?d.jsx(ca,{className:"w-16 h-16 mx-auto text-pink-500"}):d.jsx(ua,{className:"w-16 h-16 mx-auto text-blue-500"}),d.jsxs("div",{children:[d.jsxs("h4",{className:"text-gray-900 mb-2",children:[t.platform==="instagram"?"Instagram":"Twitter/X"," Post"]}),d.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:['Click "Open in ',t.platform==="instagram"?"Instagram":"Twitter/X",'" to view this post']}),d.jsx("div",{className:"bg-gray-100 rounded p-3 text-sm text-gray-700 break-all",children:t.url})]})]})}):n?d.jsx("div",{className:"relative w-full",style:{paddingBottom:"56.25%"},children:d.jsx("iframe",{src:n,className:"absolute top-0 left-0 w-full h-full rounded-lg",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,style:{border:"none"}})}):d.jsxs(Sn,{className:"p-6 text-center",children:[d.jsx(No,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),d.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Preview not available"}),d.jsx("div",{className:"bg-gray-100 rounded p-3 text-sm text-gray-700 break-all",children:t.url})]})}function R4({activity:t,getActivityIcon:e,getActivityColor:n,getCityColor:r,handleEditActivity:s,deleteActivity:o}){const{attributes:a,listeners:c,setNodeRef:u,transform:h,transition:p,isDragging:m}=n4({id:t.id}),y={transform:Fl.Transform.toString(h),transition:p,opacity:m?.5:1};return d.jsxs("div",{ref:u,style:y,className:"flex items-start gap-4 p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors group",children:[d.jsx("div",{...a,...c,className:"cursor-grab active:cursor-grabbing p-2 hover:bg-gray-200 rounded transition-colors",title:"Drag to reorder","aria-label":"Drag to reorder activity",children:d.jsx(Zd,{className:"w-4 h-4 text-gray-400"})}),d.jsx("div",{className:`p-2 rounded-lg flex-shrink-0 ${n(t.type)}`,children:e(t.type)}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[d.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[d.jsx("h4",{className:"text-gray-900",children:t.title}),t.city&&(()=>{const v=r(t.city);return d.jsxs(at,{variant:"outline",className:"text-xs flex-shrink-0",style:{backgroundColor:v.bg,color:v.text,borderColor:v.border},children:[d.jsx(Qe,{className:"w-3 h-3 mr-1"}),t.city]})})()]}),t.time&&d.jsx("span",{className:"text-sm text-gray-500 whitespace-nowrap",children:new Date(`2000-01-01T${t.time}`).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})})]}),d.jsx("p",{className:"text-sm text-gray-600 mb-2",children:t.description}),d.jsxs("div",{className:"mb-3",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[d.jsx(Qe,{className:"w-3 h-3"}),d.jsx("span",{children:t.location}),t.coordinates&&d.jsx(at,{variant:"outline",className:"ml-2 text-xs bg-green-50 text-green-700 border-green-300",children:" On map"})]}),t.address&&d.jsx("div",{className:"ml-5 text-xs text-gray-400 mt-1",children:t.address})]}),t.socialMedia&&t.socialMedia.length>0&&d.jsx("div",{className:"mt-3",children:d.jsx(ZS,{links:t.socialMedia})})]}),d.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[d.jsx(je,{variant:"ghost",size:"sm",onClick:()=>s(t),className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50","aria-label":`Edit ${t.title}`,title:"Edit activity",children:d.jsx(Es,{className:"w-4 h-4"})}),d.jsx(je,{variant:"ghost",size:"sm",onClick:()=>o(t.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50","aria-label":`Delete ${t.title}`,title:"Delete activity",children:d.jsx(tf,{className:"w-4 h-4"})})]})]})}function E1({weather:t,compact:e=!1}){const n=u=>{const h=e?"w-6 h-6":"w-8 h-8";switch(u){case"sunny":return d.jsx(Jx,{className:`${h} text-yellow-500`});case"partly-cloudy":return d.jsx(Zi,{className:`${h} text-gray-400`});case"cloudy":return d.jsx(Zi,{className:`${h} text-gray-500`});case"rainy":return d.jsx(cA,{className:`${h} text-blue-500`});case"stormy":return d.jsx(iA,{className:`${h} text-blue-700`});case"snowy":return d.jsx(dA,{className:`${h} text-blue-300`})}},r=u=>{switch(u){case"sunny":return"Sunny";case"partly-cloudy":return"Partly Cloudy";case"cloudy":return"Cloudy";case"rainy":return"Rainy";case"stormy":return"Stormy";case"snowy":return"Snowy"}},s=u=>{switch(u){case"sunny":return"from-yellow-50 to-orange-50";case"partly-cloudy":return"from-blue-50 to-gray-50";case"cloudy":return"from-gray-50 to-gray-100";case"rainy":case"stormy":return"from-blue-50 to-blue-100";case"snowy":return"from-blue-50 to-white"}};if(e)return d.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg bg-gradient-to-br ${s(t.condition)} border border-gray-200`,children:[n(t.condition),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:"text-gray-900",children:[t.temp.high,""]}),d.jsx("span",{className:"text-gray-500",children:"/"}),d.jsxs("span",{className:"text-gray-600",children:[t.temp.low,""]})]}),d.jsx("p",{className:"text-xs text-gray-600",children:r(t.condition)})]}),t.isHistoricAverage&&d.jsx(at,{variant:"outline",className:"text-xs",children:"Avg"})]});const o=t.daysUntil>=0&&t.daysUntil<=10,a=t.daysUntil>=0&&t.daysUntil<=5,c=t.daysUntil>=0&&t.daysUntil<=3;return d.jsxs(Sn,{className:`p-4 bg-gradient-to-br ${s(t.condition)}`,children:[d.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n(t.condition),d.jsx("div",{className:"flex flex-col items-end gap-1",children:t.isHistoricAverage?d.jsx(at,{variant:"outline",className:"bg-white/80",children:"Historic Average"}):o&&d.jsx(at,{variant:"outline",className:"bg-green-50 text-green-700 border-green-300",children:t.daysUntil===0?"Today":t.daysUntil===1?"Tomorrow":`In ${t.daysUntil} days`})})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600 mb-1",children:r(t.condition)}),d.jsxs("div",{className:"flex items-baseline gap-2",children:[d.jsxs("span",{className:"text-gray-900",children:[t.temp.high,"F"]}),d.jsx("span",{className:"text-sm text-gray-500",children:"/"}),d.jsxs("span",{className:"text-gray-600",children:[t.temp.low,"F"]}),t.temp.feelsLike&&d.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["Feels ",t.temp.feelsLike,""]})]})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-3 pt-3 border-t border-gray-200/50",children:[d.jsxs("div",{className:"flex flex-col items-center gap-1",children:[d.jsx(Gx,{className:"w-4 h-4 text-blue-600"}),d.jsxs("span",{className:"text-xs text-gray-600",children:[t.precipitation,"%"]}),d.jsx("span",{className:"text-xs text-gray-500",children:"Rain"})]}),d.jsxs("div",{className:"flex flex-col items-center gap-1",children:[d.jsx(gD,{className:"w-4 h-4 text-red-600"}),d.jsxs("span",{className:"text-xs text-gray-600",children:[t.humidity,"%"]}),d.jsx("span",{className:"text-xs text-gray-500",children:"Humidity"})]}),d.jsxs("div",{className:"flex flex-col items-center gap-1",children:[d.jsx(TD,{className:"w-4 h-4 text-gray-600"}),d.jsx("span",{className:"text-xs text-gray-600",children:t.windSpeed}),d.jsx("span",{className:"text-xs text-gray-500",children:"mph"})]})]}),o&&t.uvIndex!==void 0&&d.jsxs("div",{className:"grid grid-cols-3 gap-3 pt-2",children:[d.jsxs("div",{className:"flex flex-col items-center gap-1",children:[d.jsx(Jx,{className:"w-4 h-4 text-orange-500"}),d.jsx("span",{className:"text-xs text-gray-600",children:t.uvIndex}),d.jsx("span",{className:"text-xs text-gray-500",children:"UV Index"})]}),t.visibility&&d.jsxs("div",{className:"flex flex-col items-center gap-1",children:[d.jsx(vA,{className:"w-4 h-4 text-gray-600"}),d.jsxs("span",{className:"text-xs text-gray-600",children:[t.visibility," mi"]}),d.jsx("span",{className:"text-xs text-gray-500",children:"Visibility"})]})]}),c&&t.sunrise&&t.sunset&&d.jsxs("div",{className:"flex items-center justify-around pt-2 border-t border-gray-200/50",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(fD,{className:"w-4 h-4 text-orange-400"}),d.jsx("span",{className:"text-xs text-gray-600",children:t.sunrise})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(pD,{className:"w-4 h-4 text-orange-600"}),d.jsx("span",{className:"text-xs text-gray-600",children:t.sunset})]})]}),a&&t.hourlyForecast&&t.hourlyForecast.length>0&&d.jsxs("div",{className:"pt-3 border-t border-gray-200/50",children:[d.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Hourly Forecast"}),d.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2",children:t.hourlyForecast.map((u,h)=>d.jsxs("div",{className:"flex flex-col items-center gap-1 min-w-[60px] bg-white/50 rounded p-2",children:[d.jsx("span",{className:"text-xs text-gray-600",children:u.time}),d.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[u.temp,""]}),d.jsx(Gx,{className:"w-3 h-3 text-blue-500"}),d.jsxs("span",{className:"text-xs text-gray-500",children:[u.precipitation,"%"]})]},h))})]})]})]})}function O4({className:t,...e}){return d.jsx("div",{"data-slot":"skeleton",className:Ke("bg-accent animate-pulse rounded-md",t),...e})}function I4({trip:t,days:e,weatherData:n,loadingWeather:r,getActivitiesForDay:s,getUnscheduledActivities:o,getWeatherForDay:a,reorderActivities:c,assignActivityToDay:u,handleEditActivity:h,deleteActivity:p,getActivityIcon:m,getActivityColor:y,getCityColor:v,formatDate:w,onAddActivity:b}){const S=II(h1(qg),h1(Wg,{coordinateGetter:o4}));return d.jsxs(d.Fragment,{children:[d.jsxs(Sn,{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h2",{className:"text-gray-900",children:"Day-by-Day Itinerary"}),d.jsxs(je,{onClick:b,size:"sm",children:[d.jsx(vo,{className:"w-4 h-4 mr-2"}),"Add Activity"]})]}),d.jsx(T4,{type:"multiple",defaultValue:[e[0]],className:"w-full",children:e.map((N,j)=>{const A=s(N),E=a(N);return d.jsxs(M4,{value:N,children:[d.jsx(j4,{className:"hover:no-underline",children:d.jsxs("div",{className:"flex items-center gap-4 text-left w-full",children:[d.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 text-white flex-shrink-0",children:d.jsx("span",{className:"text-sm",children:j+1})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("h3",{className:"text-gray-900",children:["Day ",j+1]}),d.jsx("p",{className:"text-sm text-gray-500",children:w(N)})]}),d.jsxs("div",{className:"flex items-center gap-3 mr-4",children:[d.jsxs(at,{variant:"outline",children:[A.length," activit",A.length!==1?"ies":"y"]}),r?d.jsx(O4,{className:"h-10 w-32"}):E?d.jsx("div",{className:"hidden md:block min-w-[140px]",children:d.jsx(E1,{weather:E,compact:!0})}):null]})]})}),d.jsx(A4,{children:d.jsxs("div",{className:"space-y-4 pt-4",children:[E&&d.jsxs("div",{className:"mb-6",children:[d.jsx("h4",{className:"text-sm text-gray-600 mb-3",children:"Weather Forecast"}),d.jsx("div",{className:"max-w-xs",children:d.jsx(E1,{weather:E})})]}),d.jsx("div",{className:"ml-6 pl-6 border-l-2 border-gray-200 space-y-4",children:A.length===0?d.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",children:"No activities planned for this day"}):d.jsx(LP,{sensors:S,collisionDetection:LI,onDragEnd:T=>{const{active:R,over:D}=T;if(D&&R.id!==D.id){const O=A.findIndex(Q=>Q.id===R.id),H=A.findIndex(Q=>Q.id===D.id);c(N,O,H)}},children:d.jsx(YP,{items:A.map(T=>T.id),strategy:qP,children:A.map(T=>d.jsx(R4,{activity:T,getActivityIcon:m,getActivityColor:y,getCityColor:v,handleEditActivity:h,deleteActivity:p},T.id))})})})]})})]},N)})})]}),o().length>0&&d.jsxs(Sn,{className:"p-6 mt-6",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h2",{className:"text-gray-900",children:"Optional Activities"}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Ideas and activities you might want to add to your itinerary"})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o().map(N=>d.jsxs("div",{className:"flex items-start gap-4 p-4 bg-gray-50 rounded-lg border border-gray-200 hover:border-gray-300 transition-colors group",children:[d.jsx("div",{className:`p-2 rounded-lg flex-shrink-0 ${y(N.type)}`,children:m(N.type)}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[d.jsx("h4",{className:"text-gray-900",children:N.title}),N.time&&d.jsx("span",{className:"text-sm text-gray-500 whitespace-nowrap",children:new Date(`2000-01-01T${N.time}`).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})})]}),d.jsx("p",{className:"text-sm text-gray-600 mb-2",children:N.description}),d.jsxs("div",{className:"mb-3",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[d.jsx(Qe,{className:"w-3 h-3"}),d.jsx("span",{children:N.location}),N.coordinates&&d.jsx(at,{variant:"outline",className:"ml-2 text-xs bg-green-50 text-green-700 border-green-300",children:" On map"})]}),N.address&&d.jsx("div",{className:"ml-5 text-xs text-gray-400 mt-1",children:N.address})]}),N.socialMedia&&N.socialMedia.length>0&&d.jsx("div",{className:"mb-3",children:d.jsx(ZS,{links:N.socialMedia})}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("select",{className:"text-sm border border-gray-300 rounded px-2 py-1 bg-white",onChange:j=>{j.target.value&&u(N.id,j.target.value)},defaultValue:"",children:[d.jsx("option",{value:"",children:"Assign to day..."}),e.map((j,A)=>d.jsxs("option",{value:j,children:["Day ",A+1," - ",new Date(j).toLocaleDateString("en-US",{month:"short",day:"numeric"})]},j))]}),d.jsx(je,{variant:"ghost",size:"sm",onClick:()=>h(N),className:"ml-auto text-blue-600 hover:text-blue-700 hover:bg-blue-50","aria-label":`Edit ${N.title}`,title:"Edit activity",children:d.jsx(Es,{className:"w-4 h-4"})}),d.jsx(je,{variant:"ghost",size:"sm",onClick:()=>p(N.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50","aria-label":`Delete ${N.title}`,children:d.jsx(tf,{className:"w-4 h-4"})})]})]})]},N.id))})]})]})}var $p={exports:{}},Fp={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T1;function P4(){if(T1)return Fp;T1=1;var t=tc();function e(m,y){return m===y&&(m!==0||1/m===1/y)||m!==m&&y!==y}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,o=t.useLayoutEffect,a=t.useDebugValue;function c(m,y){var v=y(),w=r({inst:{value:v,getSnapshot:y}}),b=w[0].inst,S=w[1];return o(function(){b.value=v,b.getSnapshot=y,u(b)&&S({inst:b})},[m,v,y]),s(function(){return u(b)&&S({inst:b}),m(function(){u(b)&&S({inst:b})})},[m]),a(v),v}function u(m){var y=m.getSnapshot;m=m.value;try{var v=y();return!n(m,v)}catch{return!0}}function h(m,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return Fp.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,Fp}var M1;function eC(){return M1||(M1=1,$p.exports=P4()),$p.exports}var tC=eC();function on(t){this.content=t}on.prototype={constructor:on,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,s=r.find(t),o=r.content.slice();return s==-1?o.push(n||t,e):(o[s+1]=e,n&&(o[s]=n)),new on(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new on(n)},addToStart:function(t,e){return new on([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new on(n)},addBefore:function(t,e,n){var r=this.remove(e),s=r.content.slice(),o=r.find(t);return s.splice(o==-1?s.length:o,0,e,n),new on(s)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=on.from(t),t.size?new on(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=on.from(t),t.size?new on(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=on.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};on.from=function(t){if(t instanceof on)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new on(e)};function nC(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let s=t.child(r),o=e.child(r);if(s==o){n+=s.nodeSize;continue}if(!s.sameMarkup(o))return n;if(s.isText&&s.text!=o.text){for(let a=0;s.text[a]==o.text[a];a++)n++;return n}if(s.content.size||o.content.size){let a=nC(s.content,o.content,n+1);if(a!=null)return a}n+=s.nodeSize}}function rC(t,e,n,r){for(let s=t.childCount,o=e.childCount;;){if(s==0||o==0)return s==o?null:{a:n,b:r};let a=t.child(--s),c=e.child(--o),u=a.nodeSize;if(a==c){n-=u,r-=u;continue}if(!a.sameMarkup(c))return{a:n,b:r};if(a.isText&&a.text!=c.text){let h=0,p=Math.min(a.text.length,c.text.length);for(;h<p&&a.text[a.text.length-h-1]==c.text[c.text.length-h-1];)h++,n--,r--;return{a:n,b:r}}if(a.content.size||c.content.size){let h=rC(a.content,c.content,n-1,r-1);if(h)return h}n-=u,r-=u}}class ne{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,s=0,o){for(let a=0,c=0;c<n;a++){let u=this.content[a],h=c+u.nodeSize;if(h>e&&r(u,s+c,o||null,a)!==!1&&u.content.size){let p=c+1;u.nodesBetween(Math.max(0,e-p),Math.min(u.content.size,n-p),r,s+p)}c=h}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,s){let o="",a=!0;return this.nodesBetween(e,n,(c,u)=>{let h=c.isText?c.text.slice(Math.max(e,u)-u,n-u):c.isLeaf?s?typeof s=="function"?s(c):s:c.type.spec.leafText?c.type.spec.leafText(c):"":"";c.isBlock&&(c.isLeaf&&h||c.isTextblock)&&r&&(a?a=!1:o+=r),o+=h},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,s=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(s[s.length-1]=n.withText(n.text+r.text),o=1);o<e.content.length;o++)s.push(e.content[o]);return new ne(s,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],s=0;if(n>e)for(let o=0,a=0;a<n;o++){let c=this.content[o],u=a+c.nodeSize;u>e&&((a<e||u>n)&&(c.isText?c=c.cut(Math.max(0,e-a),Math.min(c.text.length,n-a)):c=c.cut(Math.max(0,e-a-1),Math.min(c.content.size,n-a-1))),r.push(c),s+=c.nodeSize),a=u}return new ne(r,s)}cutByIndex(e,n){return e==n?ne.empty:e==0&&n==this.content.length?this:new ne(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let s=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return s[e]=n,new ne(s,o)}addToStart(e){return new ne([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new ne(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let s=this.content[n];e(s,r,n),r+=s.nodeSize}}findDiffStart(e,n=0){return nC(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return rC(this,e,n,r)}findIndex(e){if(e==0)return Mu(0,e);if(e==this.size)return Mu(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let s=this.child(n),o=r+s.nodeSize;if(o>=e)return o==e?Mu(n+1,o):Mu(n,r);r=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return ne.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new ne(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return ne.empty;let n,r=0;for(let s=0;s<e.length;s++){let o=e[s];r+=o.nodeSize,s&&o.isText&&e[s-1].sameMarkup(o)?(n||(n=e.slice(0,s)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new ne(n||e,r)}static from(e){if(!e)return ne.empty;if(e instanceof ne)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new ne([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ne.empty=new ne([],0);const Bp={index:0,offset:0};function Mu(t,e){return Bp.index=t,Bp.offset=e,Bp}function sd(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!sd(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!sd(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let dt=class Om{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let s=0;s<e.length;s++){let o=e[s];if(this.eq(o))return e;if(this.type.excludes(o.type))n||(n=e.slice(0,s));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(n||(n=e.slice(0,s)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&sd(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let s=r.create(n.attrs);return r.checkAttrs(s.attrs),s}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Om.none;if(e instanceof Om)return[e];let n=e.slice();return n.sort((r,s)=>r.type.rank-s.type.rank),n}};dt.none=[];class od extends Error{}class ye{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=oC(this.content,e+this.openStart,n);return r&&new ye(r,this.openStart,this.openEnd)}removeBetween(e,n){return new ye(sC(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return ye.empty;let r=n.openStart||0,s=n.openEnd||0;if(typeof r!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ye(ne.fromJSON(e,n.content),r,s)}static maxOpen(e,n=!0){let r=0,s=0;for(let o=e.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)s++;return new ye(e,r,s)}}ye.empty=new ye(ne.empty,0,0);function sC(t,e,n){let{index:r,offset:s}=t.findIndex(e),o=t.maybeChild(r),{index:a,offset:c}=t.findIndex(n);if(s==e||o.isText){if(c!=n&&!t.child(a).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=a)throw new RangeError("Removing non-flat range");return t.replaceChild(r,o.copy(sC(o.content,e-s-1,n-s-1)))}function oC(t,e,n,r){let{index:s,offset:o}=t.findIndex(e),a=t.maybeChild(s);if(o==e||a.isText)return r&&!r.canReplace(s,s,n)?null:t.cut(0,e).append(n).append(t.cut(e));let c=oC(a.content,e-o-1,n,a);return c&&t.replaceChild(s,a.copy(c))}function L4(t,e,n){if(n.openStart>t.depth)throw new od("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new od("Inconsistent open depths");return iC(t,e,n,0)}function iC(t,e,n,r){let s=t.index(r),o=t.node(r);if(s==e.index(r)&&r<t.depth-n.openStart){let a=iC(t,e,n,r+1);return o.copy(o.content.replaceChild(s,a))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let a=t.parent,c=a.content;return ii(a,c.cut(0,t.parentOffset).append(n.content).append(c.cut(e.parentOffset)))}else{let{start:a,end:c}=_4(n,t);return ii(o,lC(t,a,c,e,r))}else return ii(o,id(t,e,r))}function aC(t,e){if(!e.type.compatibleContent(t.type))throw new od("Cannot join "+e.type.name+" onto "+t.type.name)}function Im(t,e,n){let r=t.node(n);return aC(r,e.node(n)),r}function oi(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Nl(t,e,n,r){let s=(e||t).node(n),o=0,a=e?e.index(n):s.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(oi(t.nodeAfter,r),o++));for(let c=o;c<a;c++)oi(s.child(c),r);e&&e.depth==n&&e.textOffset&&oi(e.nodeBefore,r)}function ii(t,e){return t.type.checkContent(e),t.copy(e)}function lC(t,e,n,r,s){let o=t.depth>s&&Im(t,e,s+1),a=r.depth>s&&Im(n,r,s+1),c=[];return Nl(null,t,s,c),o&&a&&e.index(s)==n.index(s)?(aC(o,a),oi(ii(o,lC(t,e,n,r,s+1)),c)):(o&&oi(ii(o,id(t,e,s+1)),c),Nl(e,n,s,c),a&&oi(ii(a,id(n,r,s+1)),c)),Nl(r,null,s,c),new ne(c)}function id(t,e,n){let r=[];if(Nl(null,t,n,r),t.depth>n){let s=Im(t,e,n+1);oi(ii(s,id(t,e,n+1)),r)}return Nl(e,null,n,r),new ne(r)}function _4(t,e){let n=e.depth-t.openStart,s=e.node(n).copy(t.content);for(let o=n-1;o>=0;o--)s=e.node(o).copy(ne.from(s));return{start:s.resolveNoCache(t.openStart+n),end:s.resolveNoCache(s.content.size-t.openEnd-n)}}class Vl{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],s=e.child(n);return r?e.child(n).cut(r):s}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],s=n==0?0:this.path[n*3-1]+1;for(let o=0;o<e;o++)s+=r.child(o).nodeSize;return s}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return dt.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),s=e.maybeChild(n);if(!r){let c=r;r=s,s=c}let o=r.marks;for(var a=0;a<o.length;a++)o[a].type.spec.inclusive===!1&&(!s||!o[a].isInSet(s.marks))&&(o=o[a--].removeFromSet(o));return o}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,s=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!s||!r[o].isInSet(s.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new ad(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],s=0,o=n;for(let a=e;;){let{index:c,offset:u}=a.content.findIndex(o),h=o-u;if(r.push(a,c,s+u),!h||(a=a.child(c),a.isText))break;o=h-1,s+=u+1}return new Vl(n,r,o)}static resolveCached(e,n){let r=j1.get(e);if(r)for(let o=0;o<r.elts.length;o++){let a=r.elts[o];if(a.pos==n)return a}else j1.set(e,r=new z4);let s=r.elts[r.i]=Vl.resolve(e,n);return r.i=(r.i+1)%$4,s}}class z4{constructor(){this.elts=[],this.i=0}}const $4=12,j1=new WeakMap;class ad{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const F4=Object.create(null);let xo=class Pm{constructor(e,n,r,s=dt.none){this.type=e,this.attrs=n,this.marks=s,this.content=r||ne.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,s=0){this.content.nodesBetween(e,n,r,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,s){return this.content.textBetween(e,n,r,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&sd(this.attrs,n||e.defaultAttrs||F4)&&dt.sameSet(this.marks,r||dt.none)}copy(e=null){return e==this.content?this:new Pm(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Pm(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return ye.empty;let s=this.resolve(e),o=this.resolve(n),a=r?0:s.sharedDepth(n),c=s.start(a),h=s.node(a).content.cut(s.pos-c,o.pos-c);return new ye(h,s.depth-a,o.depth-a)}replace(e,n,r){return L4(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:s}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(s==e||n.isText)return n;e-=s+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let s=this.content.child(n-1);return{node:s,index:n-1,offset:r-s.nodeSize}}resolve(e){return Vl.resolveCached(this,e)}resolveNoCache(e){return Vl.resolve(this,e)}rangeHasMark(e,n,r){let s=!1;return n>e&&this.nodesBetween(e,n,o=>(r.isInSet(o.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),cC(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=ne.empty,s=0,o=r.childCount){let a=this.contentMatchAt(e).matchFragment(r,s,o),c=a&&a.matchFragment(this.content,n);if(!c||!c.validEnd)return!1;for(let u=s;u<o;u++)if(!this.type.allowsMarks(r.child(u).marks))return!1;return!0}canReplaceWith(e,n,r,s){if(s&&!this.type.allowsMarks(s))return!1;let o=this.contentMatchAt(e).matchType(r),a=o&&o.matchFragment(this.content,n);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=dt.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!dt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let s=ne.fromJSON(e,n.content),o=e.nodeType(n.type).create(n.attrs,s,r);return o.type.checkAttrs(o.attrs),o}};xo.prototype.text=void 0;class ld extends xo{constructor(e,n,r,s){if(super(e,n,null,s),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):cC(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new ld(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new ld(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function cC(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class di{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new B4(e,n);if(r.next==null)return di.empty;let s=uC(r);r.next&&r.err("Unexpected trailing text");let o=G4(q4(s));return Y4(o,r),o}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let s=this;for(let o=n;s&&o<r;o++)s=s.matchType(e.child(o).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let s=[this];function o(a,c){let u=a.matchFragment(e,r);if(u&&(!n||u.validEnd))return ne.from(c.map(h=>h.createAndFill()));for(let h=0;h<a.next.length;h++){let{type:p,next:m}=a.next[h];if(!(p.isText||p.hasRequiredAttrs())&&s.indexOf(m)==-1){s.push(m);let y=o(m,c.concat(p));if(y)return y}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let s=r.shift(),o=s.match;if(o.matchType(e)){let a=[];for(let c=s;c.type;c=c.via)a.push(c.type);return a.reverse()}for(let a=0;a<o.next.length;a++){let{type:c,next:u}=o.next[a];!c.isLeaf&&!c.hasRequiredAttrs()&&!(c.name in n)&&(!s.type||u.validEnd)&&(r.push({match:c.contentMatch,type:c,via:s}),n[c.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let s=0;s<r.next.length;s++)e.indexOf(r.next[s].next)==-1&&n(r.next[s].next)}return n(this),e.map((r,s)=>{let o=s+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)o+=(a?", ":"")+r.next[a].type.name+"->"+e.indexOf(r.next[a].next);return o}).join(`
`)}}di.empty=new di(!0);class B4{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function uC(t){let e=[];do e.push(V4(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function V4(t){let e=[];do e.push(H4(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function H4(t){let e=K4(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=U4(t,e);else break;return e}function A1(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function U4(t,e){let n=A1(t),r=n;return t.eat(",")&&(t.next!="}"?r=A1(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function W4(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let s=[];for(let o in n){let a=n[o];a.isInGroup(e)&&s.push(a)}return s.length==0&&t.err("No node type or group '"+e+"' found"),s}function K4(t){if(t.eat("(")){let e=uC(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=W4(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function q4(t){let e=[[]];return s(o(t,0),n()),e;function n(){return e.push([])-1}function r(a,c,u){let h={term:u,to:c};return e[a].push(h),h}function s(a,c){a.forEach(u=>u.to=c)}function o(a,c){if(a.type=="choice")return a.exprs.reduce((u,h)=>u.concat(o(h,c)),[]);if(a.type=="seq")for(let u=0;;u++){let h=o(a.exprs[u],c);if(u==a.exprs.length-1)return h;s(h,c=n())}else if(a.type=="star"){let u=n();return r(c,u),s(o(a.expr,u),u),[r(u)]}else if(a.type=="plus"){let u=n();return s(o(a.expr,c),u),s(o(a.expr,u),u),[r(u)]}else{if(a.type=="opt")return[r(c)].concat(o(a.expr,c));if(a.type=="range"){let u=c;for(let h=0;h<a.min;h++){let p=n();s(o(a.expr,u),p),u=p}if(a.max==-1)s(o(a.expr,u),u);else for(let h=a.min;h<a.max;h++){let p=n();r(u,p),s(o(a.expr,u),p),u=p}return[r(u)]}else{if(a.type=="name")return[r(c,void 0,a.value)];throw new Error("Unknown expr type")}}}}function dC(t,e){return e-t}function D1(t,e){let n=[];return r(e),n.sort(dC);function r(s){let o=t[s];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(s);for(let a=0;a<o.length;a++){let{term:c,to:u}=o[a];!c&&n.indexOf(u)==-1&&r(u)}}}function G4(t){let e=Object.create(null);return n(D1(t,0));function n(r){let s=[];r.forEach(a=>{t[a].forEach(({term:c,to:u})=>{if(!c)return;let h;for(let p=0;p<s.length;p++)s[p][0]==c&&(h=s[p][1]);D1(t,u).forEach(p=>{h||s.push([c,h=[]]),h.indexOf(p)==-1&&h.push(p)})})});let o=e[r.join(",")]=new di(r.indexOf(t.length-1)>-1);for(let a=0;a<s.length;a++){let c=s[a][1].sort(dC);o.next.push({type:s[a][0],next:e[c.join(",")]||n(c)})}return o}}function Y4(t,e){for(let n=0,r=[t];n<r.length;n++){let s=r[n],o=!s.validEnd,a=[];for(let c=0;c<s.next.length;c++){let{type:u,next:h}=s.next[c];a.push(u.name),o&&!(u.isText||u.hasRequiredAttrs())&&(o=!1),r.indexOf(h)==-1&&r.push(h)}o&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function fC(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function hC(t,e){let n=Object.create(null);for(let r in t){let s=e&&e[r];if(s===void 0){let o=t[r];if(o.hasDefault)s=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=s}return n}function pC(t,e,n,r){for(let s in e)if(!(s in t))throw new RangeError(`Unsupported attribute ${s} for ${n} of type ${s}`);for(let s in t){let o=t[s];o.validate&&o.validate(e[s])}}function mC(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new X4(t,r,e[r]);return n}let R1=class gC{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=mC(e,r.attrs),this.defaultAttrs=fC(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==di.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:hC(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new xo(this,this.computeAttrs(e),ne.from(n),dt.setFrom(r))}createChecked(e=null,n,r){return n=ne.from(n),this.checkContent(n),new xo(this,this.computeAttrs(e),n,dt.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=ne.from(n),n.size){let a=this.contentMatch.fillBefore(n);if(!a)return null;n=a.append(n)}let s=this.contentMatch.matchFragment(n),o=s&&s.fillBefore(ne.empty,!0);return o?new xo(this,e,n.append(o),dt.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){pC(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:dt.none:e}static compile(e,n){let r=Object.create(null);e.forEach((o,a)=>r[o]=new gC(o,n,a));let s=n.spec.topNode||"doc";if(!r[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function J4(t,e,n){let r=n.split("|");return s=>{let o=s===null?"null":typeof s;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${o}`)}}class X4{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?J4(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class pf{constructor(e,n,r,s){this.name=e,this.rank=n,this.schema=r,this.spec=s,this.attrs=mC(e,s.attrs),this.excluded=null;let o=fC(this.attrs);this.instance=o?new dt(this,o):null}create(e=null){return!e&&this.instance?this.instance:new dt(this,hC(this.attrs,e))}static compile(e,n){let r=Object.create(null),s=0;return e.forEach((o,a)=>r[o]=new pf(o,s++,n,a)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){pC(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class yC{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let s in e)n[s]=e[s];n.nodes=on.from(e.nodes),n.marks=on.from(e.marks||{}),this.nodes=R1.compile(this.spec.nodes,this),this.marks=pf.compile(this.spec.marks,this);let r=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let o=this.nodes[s],a=o.spec.content||"",c=o.spec.marks;if(o.contentMatch=r[a]||(r[a]=di.parse(a,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=c=="_"?null:c?O1(this,c.split(" ")):c==""||!o.inlineContent?[]:null}for(let s in this.marks){let o=this.marks[s],a=o.spec.excludes;o.excluded=a==null?[o]:a==""?[]:O1(this,a.split(" "))}this.nodeFromJSON=s=>xo.fromJSON(this,s),this.markFromJSON=s=>dt.fromJSON(this,s),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof R1){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,s)}text(e,n){let r=this.nodes.text;return new ld(r,r.defaultAttrs,e,dt.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function O1(t,e){let n=[];for(let r=0;r<e.length;r++){let s=e[r],o=t.marks[s],a=o;if(o)n.push(o);else for(let c in t.marks){let u=t.marks[c];(s=="_"||u.spec.group&&u.spec.group.split(" ").indexOf(s)>-1)&&n.push(a=u)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function Q4(t){return t.tag!=null}function Z4(t){return t.style!=null}class bo{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(s=>{if(Q4(s))this.tags.push(s);else if(Z4(s)){let o=/[^=]*/.exec(s.style)[0];r.indexOf(o)<0&&r.push(o),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let o=e.nodes[s.node];return o.contentMatch.matchType(o)})}parse(e,n={}){let r=new P1(this,n,!1);return r.addAll(e,dt.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new P1(this,n,!0);return r.addAll(e,dt.none,n.from,n.to),ye.maxOpen(r.finish())}matchTag(e,n,r){for(let s=r?this.tags.indexOf(r)+1:0;s<this.tags.length;s++){let o=this.tags[s];if(nL(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let a=o.getAttrs(e);if(a===!1)continue;o.attrs=a||void 0}return o}}}matchStyle(e,n,r,s){for(let o=s?this.styles.indexOf(s)+1:0;o<this.styles.length;o++){let a=this.styles[o],c=a.style;if(!(c.indexOf(e)!=0||a.context&&!r.matchesContext(a.context)||c.length>e.length&&(c.charCodeAt(e.length)!=61||c.slice(e.length+1)!=n))){if(a.getAttrs){let u=a.getAttrs(n);if(u===!1)continue;a.attrs=u||void 0}return a}}}static schemaRules(e){let n=[];function r(s){let o=s.priority==null?50:s.priority,a=0;for(;a<n.length;a++){let c=n[a];if((c.priority==null?50:c.priority)<o)break}n.splice(a,0,s)}for(let s in e.marks){let o=e.marks[s].spec.parseDOM;o&&o.forEach(a=>{r(a=L1(a)),a.mark||a.ignore||a.clearMark||(a.mark=s)})}for(let s in e.nodes){let o=e.nodes[s].spec.parseDOM;o&&o.forEach(a=>{r(a=L1(a)),a.node||a.ignore||a.mark||(a.node=s)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new bo(e,bo.schemaRules(e)))}}const vC={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},eL={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},xC={ol:!0,ul:!0},Hl=1,Lm=2,El=4;function I1(t,e,n){return e!=null?(e?Hl:0)|(e==="full"?Lm:0):t&&t.whitespace=="pre"?Hl|Lm:n&~El}class ju{constructor(e,n,r,s,o,a){this.type=e,this.attrs=n,this.marks=r,this.solid=s,this.options=a,this.content=[],this.activeMarks=dt.none,this.match=o||(a&El?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(ne.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,s;return(s=r.findWrapping(e.type))?(this.match=r,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Hl)){let r=this.content[this.content.length-1],s;if(r&&r.isText&&(s=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-s[0].length))}}let n=ne.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(ne.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!vC.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class P1{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let s=n.topNode,o,a=I1(null,n.preserveWhitespace,0)|(r?El:0);s?o=new ju(s.type,s.attrs,dt.none,!0,n.topMatch||s.type.contentMatch,a):r?o=new ju(null,null,dt.none,!0,null,a):o=new ju(e.schema.topNodeType,null,dt.none,!0,null,a),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,s=this.top,o=s.options&Lm?"full":this.localPreserveWS||(s.options&Hl)>0,{schema:a}=this.parser;if(o==="full"||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(o)if(o==="full")r=r.replace(/\r\n?/g,`
`);else if(a.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(a.linebreakReplacement.create())){let c=r.split(/\r?\n|\r/);for(let u=0;u<c.length;u++)u&&this.insertNode(a.linebreakReplacement.create(),n,!0),c[u]&&this.insertNode(a.text(c[u]),n,!/\S/.test(c[u]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let c=s.content[s.content.length-1],u=e.previousSibling;(!c||u&&u.nodeName=="BR"||c.isText&&/[ \t\r\n\u000c]$/.test(c.text))&&(r=r.slice(1))}r&&this.insertNode(a.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let s=this.localPreserveWS,o=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let a=e.nodeName.toLowerCase(),c;xC.hasOwnProperty(a)&&this.parser.normalizeLists&&tL(e);let u=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(c=this.parser.matchTag(e,this,r));e:if(u?u.ignore:eL.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,n);else if(!u||u.skip||u.closeParent){u&&u.closeParent?this.open=Math.max(0,this.open-1):u&&u.skip.nodeType&&(e=u.skip);let h,p=this.needsBlock;if(vC.hasOwnProperty(a))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),h=!0,o.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let m=u&&u.skip?n:this.readStyles(e,n);m&&this.addAll(e,m),h&&this.sync(o),this.needsBlock=p}else{let h=this.readStyles(e,n);h&&this.addElementByRule(e,u,h,u.consuming===!1?c:void 0)}this.localPreserveWS=s}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let o=this.parser.matchedStyles[s],a=r.getPropertyValue(o);if(a)for(let c=void 0;;){let u=this.parser.matchStyle(o,a,this,c);if(!u)break;if(u.ignore)return null;if(u.clearMark?n=n.filter(h=>!u.clearMark(h)):n=n.concat(this.parser.schema.marks[u.mark].create(u.attrs)),u.consuming===!1)c=u;else break}}return n}addElementByRule(e,n,r,s){let o,a;if(n.node)if(a=this.parser.schema.nodes[n.node],a.isLeaf)this.insertNode(a.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let u=this.enter(a,n.attrs||null,r,n.preserveWhitespace);u&&(o=!0,r=u)}else{let u=this.parser.schema.marks[n.mark];r=r.concat(u.create(n.attrs))}let c=this.top;if(a&&a.isLeaf)this.findInside(e);else if(s)this.addElement(e,r,s);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(u=>this.insertNode(u,r,!1));else{let u=e;typeof n.contentElement=="string"?u=e.querySelector(n.contentElement):typeof n.contentElement=="function"?u=n.contentElement(e):n.contentElement&&(u=n.contentElement),this.findAround(e,u,!0),this.addAll(u,r),this.findAround(e,u,!1)}o&&this.sync(c)&&this.open--}addAll(e,n,r,s){let o=r||0;for(let a=r?e.childNodes[r]:e.firstChild,c=s==null?null:e.childNodes[s];a!=c;a=a.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(a,n);this.findAtPoint(e,o)}findPlace(e,n,r){let s,o;for(let a=this.open,c=0;a>=0;a--){let u=this.nodes[a],h=u.findWrapping(e);if(h&&(!s||s.length>h.length+c)&&(s=h,o=u,!h.length))break;if(u.solid){if(r)break;c+=2}}if(!s)return null;this.sync(o);for(let a=0;a<s.length;a++)n=this.enterInner(s[a],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(n=this.enterInner(o,null,n))}let s=this.findPlace(e,n,r);if(s){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(e.type));let a=dt.none;for(let c of s.concat(e.marks))(o.type?o.type.allowsMarkType(c.type):_1(c.type,e.type))&&(a=c.addToSet(a));return o.content.push(e.mark(a)),!0}return!1}enter(e,n,r,s){let o=this.findPlace(e.create(n),r,!1);return o&&(o=this.enterInner(e,n,r,!0,s)),o}enterInner(e,n,r,s=!1,o){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(e);let c=I1(e,o,a.options);a.options&El&&a.content.length==0&&(c|=El);let u=dt.none;return r=r.filter(h=>(a.type?a.type.allowsMarkType(h.type):_1(h.type,e))?(u=h.addToSet(u),!1):!0),this.nodes.push(new ju(e,n,u,s,null,c)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Hl)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let s=r.length-1;s>=0;s--)e+=r[s].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&n.compareDocumentPosition(this.find[s].node)&(r?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,s=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(s?0:1),a=(c,u)=>{for(;c>=0;c--){let h=n[c];if(h==""){if(c==n.length-1||c==0)continue;for(;u>=o;u--)if(a(c-1,u))return!0;return!1}else{let p=u>0||u==0&&s?this.nodes[u].type:r&&u>=o?r.node(u-o).type:null;if(!p||p.name!=h&&!p.isInGroup(h))return!1;u--}}return!0};return a(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function tL(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&xC.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function nL(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function L1(t){let e={};for(let n in t)e[n]=t[n];return e}function _1(t,e){let n=e.schema.nodes;for(let r in n){let s=n[r];if(!s.allowsMarkType(t))continue;let o=[],a=c=>{o.push(c);for(let u=0;u<c.edgeCount;u++){let{type:h,next:p}=c.edge(u);if(h==e||o.indexOf(p)<0&&a(p))return!0}};if(a(s.contentMatch))return!0}}class bi{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=Vp(n).createDocumentFragment());let s=r,o=[];return e.forEach(a=>{if(o.length||a.marks.length){let c=0,u=0;for(;c<o.length&&u<a.marks.length;){let h=a.marks[u];if(!this.marks[h.type.name]){u++;continue}if(!h.eq(o[c][0])||h.type.spec.spanning===!1)break;c++,u++}for(;c<o.length;)s=o.pop()[1];for(;u<a.marks.length;){let h=a.marks[u++],p=this.serializeMark(h,a.isInline,n);p&&(o.push([h,s]),s.appendChild(p.dom),s=p.contentDOM||p.dom)}}s.appendChild(this.serializeNodeInner(a,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:s}=Hu(Vp(n),this.nodes[e.type.name](e),null,e.attrs);if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,s)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let s=e.marks.length-1;s>=0;s--){let o=this.serializeMark(e.marks[s],e.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,n,r={}){let s=this.marks[e.type.name];return s&&Hu(Vp(r),s(e,n),null,e.attrs)}static renderSpec(e,n,r=null,s){return Hu(e,n,r,s)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new bi(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=z1(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return z1(e.marks)}}function z1(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function Vp(t){return t.document||window.document}const $1=new WeakMap;function rL(t){let e=$1.get(t);return e===void 0&&$1.set(t,e=sL(t)),e}function sL(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let s=0;s<r.length;s++)n(r[s]);else for(let s in r)n(r[s])}return n(t),e}function Hu(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let s=e[0],o;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=rL(r))&&o.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=s.indexOf(" ");a>0&&(n=s.slice(0,a),s=s.slice(a+1));let c,u=n?t.createElementNS(n,s):t.createElement(s),h=e[1],p=1;if(h&&typeof h=="object"&&h.nodeType==null&&!Array.isArray(h)){p=2;for(let m in h)if(h[m]!=null){let y=m.indexOf(" ");y>0?u.setAttributeNS(m.slice(0,y),m.slice(y+1),h[m]):m=="style"&&u.style?u.style.cssText=h[m]:u.setAttribute(m,h[m])}}for(let m=p;m<e.length;m++){let y=e[m];if(y===0){if(m<e.length-1||m>p)throw new RangeError("Content hole must be the only child of its parent node");return{dom:u,contentDOM:u}}else{let{dom:v,contentDOM:w}=Hu(t,y,n,r);if(u.appendChild(v),w){if(c)throw new RangeError("Multiple content holes");c=w}}}return{dom:u,contentDOM:c}}const bC=65535,wC=Math.pow(2,16);function oL(t,e){return t+e*wC}function F1(t){return t&bC}function iL(t){return(t-(t&bC))/wC}const kC=1,SC=2,Uu=4,CC=8;class _m{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&CC)>0}get deletedBefore(){return(this.delInfo&(kC|Uu))>0}get deletedAfter(){return(this.delInfo&(SC|Uu))>0}get deletedAcross(){return(this.delInfo&Uu)>0}}class qn{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&qn.empty)return qn.empty}recover(e){let n=0,r=F1(e);if(!this.inverted)for(let s=0;s<r;s++)n+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[r*3]+n+iL(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let s=0,o=this.inverted?2:1,a=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let u=this.ranges[c]-(this.inverted?s:0);if(u>e)break;let h=this.ranges[c+o],p=this.ranges[c+a],m=u+h;if(e<=m){let y=h?e==u?-1:e==m?1:n:n,v=u+s+(y<0?0:p);if(r)return v;let w=e==(n<0?u:m)?null:oL(c/3,e-u),b=e==u?SC:e==m?kC:Uu;return(n<0?e!=u:e!=m)&&(b|=CC),new _m(v,b,w)}s+=p-h}return r?e+s:new _m(e+s,0,null)}touches(e,n){let r=0,s=F1(n),o=this.inverted?2:1,a=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let u=this.ranges[c]-(this.inverted?r:0);if(u>e)break;let h=this.ranges[c+o],p=u+h;if(e<=p&&c==s*3)return!0;r+=this.ranges[c+a]-h}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let s=0,o=0;s<this.ranges.length;s+=3){let a=this.ranges[s],c=a-(this.inverted?o:0),u=a+(this.inverted?0:o),h=this.ranges[s+n],p=this.ranges[s+r];e(c,c+h,u,u+p),o+=p-h}}invert(){return new qn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?qn.empty:new qn(e<0?[0,-e,0]:[0,0,e])}}qn.empty=new qn([]);class Ul{constructor(e,n,r=0,s=e?e.length:0){this.mirror=n,this.from=r,this.to=s,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new Ul(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let s=e.getMirror(n);this.appendMap(e._maps[n],s!=null&&s<n?r+s:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let s=e.getMirror(n);this.appendMap(e._maps[n].invert(),s!=null&&s>n?r-s-1:void 0)}}invert(){let e=new Ul;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let s=0;for(let o=this.from;o<this.to;o++){let a=this._maps[o],c=a.mapResult(e,n);if(c.recover!=null){let u=this.getMirror(o);if(u!=null&&u>o&&u<this.to){o=u,e=this._maps[u].recover(c.recover);continue}}s|=c.delInfo,e=c.pos}return r?e:new _m(e,s,null)}}const Hp=Object.create(null);class gn{getMap(){return qn.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Hp[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Hp)throw new RangeError("Duplicate use of step JSON ID "+e);return Hp[e]=n,n.prototype.jsonID=e,n}}class It{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new It(e,null)}static fail(e){return new It(null,e)}static fromReplace(e,n,r,s){try{return It.ok(e.replace(n,r,s))}catch(o){if(o instanceof od)return It.fail(o.message);throw o}}}function ey(t,e,n){let r=[];for(let s=0;s<t.childCount;s++){let o=t.child(s);o.content.size&&(o=o.copy(ey(o.content,e,o))),o.isInline&&(o=e(o,n,s)),r.push(o)}return ne.fromArray(r)}class mo extends gn{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),s=r.node(r.sharedDepth(this.to)),o=new ye(ey(n.content,(a,c)=>!a.isAtom||!c.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),s),n.openStart,n.openEnd);return It.fromReplace(e,this.from,this.to,o)}invert(){return new Sr(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new mo(n.pos,r.pos,this.mark)}merge(e){return e instanceof mo&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new mo(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new mo(n.from,n.to,e.markFromJSON(n.mark))}}gn.jsonID("addMark",mo);class Sr extends gn{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new ye(ey(n.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),n.openStart,n.openEnd);return It.fromReplace(e,this.from,this.to,r)}invert(){return new mo(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Sr(n.pos,r.pos,this.mark)}merge(e){return e instanceof Sr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Sr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Sr(n.from,n.to,e.markFromJSON(n.mark))}}gn.jsonID("removeMark",Sr);class go extends gn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return It.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return It.fromReplace(e,this.pos,this.pos+1,new ye(ne.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let s=0;s<n.marks.length;s++)if(!n.marks[s].isInSet(r))return new go(this.pos,n.marks[s]);return new go(this.pos,this.mark)}}return new fi(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new go(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new go(n.pos,e.markFromJSON(n.mark))}}gn.jsonID("addNodeMark",go);class fi extends gn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return It.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return It.fromReplace(e,this.pos,this.pos+1,new ye(ne.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new go(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new fi(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new fi(n.pos,e.markFromJSON(n.mark))}}gn.jsonID("removeNodeMark",fi);class Qt extends gn{constructor(e,n,r,s=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=s}apply(e){return this.structure&&zm(e,this.from,this.to)?It.fail("Structure replace would overwrite content"):It.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new qn([this.from,this.to-this.from,this.slice.size])}invert(e){return new Qt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Qt(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Qt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?ye.empty:new ye(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Qt(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?ye.empty:new ye(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Qt(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Qt(n.from,n.to,ye.fromJSON(e,n.slice),!!n.structure)}}gn.jsonID("replace",Qt);class Zt extends gn{constructor(e,n,r,s,o,a,c=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=s,this.slice=o,this.insert=a,this.structure=c}apply(e){if(this.structure&&(zm(e,this.from,this.gapFrom)||zm(e,this.gapTo,this.to)))return It.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return It.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?It.fromReplace(e,this.from,this.to,r):It.fail("Content does not fit in gap")}getMap(){return new qn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Zt(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),s=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||s<n.pos||o>r.pos?null:new Zt(n.pos,r.pos,s,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Zt(n.from,n.to,n.gapFrom,n.gapTo,ye.fromJSON(e,n.slice),n.insert,!!n.structure)}}gn.jsonID("replaceAround",Zt);function zm(t,e,n){let r=t.resolve(e),s=n-e,o=r.depth;for(;s>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,s--;if(s>0){let a=r.node(o).maybeChild(r.indexAfter(o));for(;s>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,s--}}return!1}function aL(t,e,n,r){let s=[],o=[],a,c;t.doc.nodesBetween(e,n,(u,h,p)=>{if(!u.isInline)return;let m=u.marks;if(!r.isInSet(m)&&p.type.allowsMarkType(r.type)){let y=Math.max(h,e),v=Math.min(h+u.nodeSize,n),w=r.addToSet(m);for(let b=0;b<m.length;b++)m[b].isInSet(w)||(a&&a.to==y&&a.mark.eq(m[b])?a.to=v:s.push(a=new Sr(y,v,m[b])));c&&c.to==y?c.to=v:o.push(c=new mo(y,v,r))}}),s.forEach(u=>t.step(u)),o.forEach(u=>t.step(u))}function lL(t,e,n,r){let s=[],o=0;t.doc.nodesBetween(e,n,(a,c)=>{if(!a.isInline)return;o++;let u=null;if(r instanceof pf){let h=a.marks,p;for(;p=r.isInSet(h);)(u||(u=[])).push(p),h=p.removeFromSet(h)}else r?r.isInSet(a.marks)&&(u=[r]):u=a.marks;if(u&&u.length){let h=Math.min(c+a.nodeSize,n);for(let p=0;p<u.length;p++){let m=u[p],y;for(let v=0;v<s.length;v++){let w=s[v];w.step==o-1&&m.eq(s[v].style)&&(y=w)}y?(y.to=h,y.step=o):s.push({style:m,from:Math.max(c,e),to:h,step:o})}}}),s.forEach(a=>t.step(new Sr(a.from,a.to,a.style)))}function ty(t,e,n,r=n.contentMatch,s=!0){let o=t.doc.nodeAt(e),a=[],c=e+1;for(let u=0;u<o.childCount;u++){let h=o.child(u),p=c+h.nodeSize,m=r.matchType(h.type);if(!m)a.push(new Qt(c,p,ye.empty));else{r=m;for(let y=0;y<h.marks.length;y++)n.allowsMarkType(h.marks[y].type)||t.step(new Sr(c,p,h.marks[y]));if(s&&h.isText&&n.whitespace!="pre"){let y,v=/\r?\n|\r/g,w;for(;y=v.exec(h.text);)w||(w=new ye(ne.from(n.schema.text(" ",n.allowedMarks(h.marks))),0,0)),a.push(new Qt(c+y.index,c+y.index+y[0].length,w))}}c=p}if(!r.validEnd){let u=r.fillBefore(ne.empty,!0);t.replace(c,c,new ye(u,0,0))}for(let u=a.length-1;u>=0;u--)t.step(a[u])}function cL(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Ca(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let s=t.$from.node(r),o=t.$from.index(r),a=t.$to.indexAfter(r);if(r<t.depth&&s.canReplace(o,a,n))return r;if(r==0||s.type.spec.isolating||!cL(s,o,a))break}return null}function uL(t,e,n){let{$from:r,$to:s,depth:o}=e,a=r.before(o+1),c=s.after(o+1),u=a,h=c,p=ne.empty,m=0;for(let w=o,b=!1;w>n;w--)b||r.index(w)>0?(b=!0,p=ne.from(r.node(w).copy(p)),m++):u--;let y=ne.empty,v=0;for(let w=o,b=!1;w>n;w--)b||s.after(w+1)<s.end(w)?(b=!0,y=ne.from(s.node(w).copy(y)),v++):h++;t.step(new Zt(u,h,a,c,new ye(p.append(y),m,v),p.size-m,!0))}function ny(t,e,n=null,r=t){let s=dL(t,e),o=s&&fL(r,e);return o?s.map(B1).concat({type:e,attrs:n}).concat(o.map(B1)):null}function B1(t){return{type:t,attrs:null}}function dL(t,e){let{parent:n,startIndex:r,endIndex:s}=t,o=n.contentMatchAt(r).findWrapping(e);if(!o)return null;let a=o.length?o[0]:e;return n.canReplaceWith(r,s,a)?o:null}function fL(t,e){let{parent:n,startIndex:r,endIndex:s}=t,o=n.child(r),a=e.contentMatch.findWrapping(o.type);if(!a)return null;let u=(a.length?a[a.length-1]:e).contentMatch;for(let h=r;u&&h<s;h++)u=u.matchType(n.child(h).type);return!u||!u.validEnd?null:a}function hL(t,e,n){let r=ne.empty;for(let a=n.length-1;a>=0;a--){if(r.size){let c=n[a].type.contentMatch.matchFragment(r);if(!c||!c.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=ne.from(n[a].type.create(n[a].attrs,r))}let s=e.start,o=e.end;t.step(new Zt(s,o,s,o,new ye(r,0,0),n.length,!0))}function pL(t,e,n,r,s){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,n,(a,c)=>{let u=typeof s=="function"?s(a):s;if(a.isTextblock&&!a.hasMarkup(r,u)&&mL(t.doc,t.mapping.slice(o).map(c),r)){let h=null;if(r.schema.linebreakReplacement){let v=r.whitespace=="pre",w=!!r.contentMatch.matchType(r.schema.linebreakReplacement);v&&!w?h=!1:!v&&w&&(h=!0)}h===!1&&EC(t,a,c,o),ty(t,t.mapping.slice(o).map(c,1),r,void 0,h===null);let p=t.mapping.slice(o),m=p.map(c,1),y=p.map(c+a.nodeSize,1);return t.step(new Zt(m,y,m+1,y-1,new ye(ne.from(r.create(u,null,a.marks)),0,0),1,!0)),h===!0&&NC(t,a,c,o),!1}})}function NC(t,e,n,r){e.forEach((s,o)=>{if(s.isText){let a,c=/\r?\n|\r/g;for(;a=c.exec(s.text);){let u=t.mapping.slice(r).map(n+1+o+a.index);t.replaceWith(u,u+1,e.type.schema.linebreakReplacement.create())}}})}function EC(t,e,n,r){e.forEach((s,o)=>{if(s.type==s.type.schema.linebreakReplacement){let a=t.mapping.slice(r).map(n+1+o);t.replaceWith(a,a+1,e.type.schema.text(`
`))}})}function mL(t,e,n){let r=t.resolve(e),s=r.index();return r.parent.canReplaceWith(s,s+1,n)}function gL(t,e,n,r,s){let o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let a=n.create(r,null,s||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,a);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Zt(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new ye(ne.from(a),0,0),1,!0))}function Ts(t,e,n=1,r){let s=t.resolve(e),o=s.depth-n,a=r&&r[r.length-1]||s.parent;if(o<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!a.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let h=s.depth-1,p=n-2;h>o;h--,p--){let m=s.node(h),y=s.index(h);if(m.type.spec.isolating)return!1;let v=m.content.cutByIndex(y,m.childCount),w=r&&r[p+1];w&&(v=v.replaceChild(0,w.type.create(w.attrs)));let b=r&&r[p]||m;if(!m.canReplace(y+1,m.childCount)||!b.type.validContent(v))return!1}let c=s.indexAfter(o),u=r&&r[0];return s.node(o).canReplaceWith(c,c,u?u.type:s.node(o+1).type)}function yL(t,e,n=1,r){let s=t.doc.resolve(e),o=ne.empty,a=ne.empty;for(let c=s.depth,u=s.depth-n,h=n-1;c>u;c--,h--){o=ne.from(s.node(c).copy(o));let p=r&&r[h];a=ne.from(p?p.type.create(p.attrs,a):s.node(c).copy(a))}t.step(new Qt(e,e,new ye(o.append(a),n,n),!0))}function Oo(t,e){let n=t.resolve(e),r=n.index();return TC(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function vL(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let s=0;s<e.childCount;s++){let o=e.child(s),a=o.type==r?t.type.schema.nodes.text:o.type;if(n=n.matchType(a),!n||!t.type.allowsMarks(o.marks))return!1}return n.validEnd}function TC(t,e){return!!(t&&e&&!t.isLeaf&&vL(t,e))}function mf(t,e,n=-1){let r=t.resolve(e);for(let s=r.depth;;s--){let o,a,c=r.index(s);if(s==r.depth?(o=r.nodeBefore,a=r.nodeAfter):n>0?(o=r.node(s+1),c++,a=r.node(s).maybeChild(c)):(o=r.node(s).maybeChild(c-1),a=r.node(s+1)),o&&!o.isTextblock&&TC(o,a)&&r.node(s).canReplace(c,c+1))return e;if(s==0)break;e=n<0?r.before(s):r.after(s)}}function xL(t,e,n){let r=null,{linebreakReplacement:s}=t.doc.type.schema,o=t.doc.resolve(e-n),a=o.node().type;if(s&&a.inlineContent){let p=a.whitespace=="pre",m=!!a.contentMatch.matchType(s);p&&!m?r=!1:!p&&m&&(r=!0)}let c=t.steps.length;if(r===!1){let p=t.doc.resolve(e+n);EC(t,p.node(),p.before(),c)}a.inlineContent&&ty(t,e+n-1,a,o.node().contentMatchAt(o.index()),r==null);let u=t.mapping.slice(c),h=u.map(e-n);if(t.step(new Qt(h,u.map(e+n,-1),ye.empty,!0)),r===!0){let p=t.doc.resolve(h);NC(t,p.node(),p.before(),t.steps.length)}return t}function bL(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let s=r.depth-1;s>=0;s--){let o=r.index(s);if(r.node(s).canReplaceWith(o,o,n))return r.before(s+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let s=r.depth-1;s>=0;s--){let o=r.indexAfter(s);if(r.node(s).canReplaceWith(o,o,n))return r.after(s+1);if(o<r.node(s).childCount)return null}return null}function MC(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let s=n.content;for(let o=0;o<n.openStart;o++)s=s.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let a=r.depth;a>=0;a--){let c=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,u=r.index(a)+(c>0?1:0),h=r.node(a),p=!1;if(o==1)p=h.canReplace(u,u,s);else{let m=h.contentMatchAt(u).findWrapping(s.firstChild.type);p=m&&h.canReplaceWith(u,u,m[0])}if(p)return c==0?r.pos:c<0?r.before(a+1):r.after(a+1)}return null}function gf(t,e,n=e,r=ye.empty){if(e==n&&!r.size)return null;let s=t.resolve(e),o=t.resolve(n);return jC(s,o,r)?new Qt(e,n,r):new wL(s,o,r).fit()}function jC(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class wL{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=ne.empty;for(let s=0;s<=e.depth;s++){let o=e.node(s);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=ne.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let h=this.findFittable();h?this.placeNodes(h):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,s=this.close(e<0?this.$to:r.doc.resolve(e));if(!s)return null;let o=this.placed,a=r.depth,c=s.depth;for(;a&&c&&o.childCount==1;)o=o.firstChild.content,a--,c--;let u=new ye(o,a,c);return e>-1?new Zt(r.pos,e,this.$to.pos,this.$to.end(),u,n):u.size||r.pos!=this.$to.pos?new Qt(r.pos,s.pos,u):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,s=this.unplaced.openEnd;r<e;r++){let o=n.firstChild;if(n.childCount>1&&(s=0),o.type.spec.isolating&&s<=r){e=r;break}n=o.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let s,o=null;r?(o=Up(this.unplaced.content,r-1).firstChild,s=o.content):s=this.unplaced.content;let a=s.firstChild;for(let c=this.depth;c>=0;c--){let{type:u,match:h}=this.frontier[c],p,m=null;if(n==1&&(a?h.matchType(a.type)||(m=h.fillBefore(ne.from(a),!1)):o&&u.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:c,parent:o,inject:m};if(n==2&&a&&(p=h.findWrapping(a.type)))return{sliceDepth:r,frontierDepth:c,parent:o,wrap:p};if(o&&h.matchType(o.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=Up(e,n);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new ye(e,n+1,Math.max(r,s.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=Up(e,n);if(s.childCount<=1&&n>0){let o=e.size-n<=n+s.size;this.unplaced=new ye(gl(e,n-1,1),n-1,o?n-1:r)}else this.unplaced=new ye(gl(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:s,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let b=0;b<o.length;b++)this.openFrontierNode(o[b]);let a=this.unplaced,c=r?r.content:a.content,u=a.openStart-e,h=0,p=[],{match:m,type:y}=this.frontier[n];if(s){for(let b=0;b<s.childCount;b++)p.push(s.child(b));m=m.matchFragment(s)}let v=c.size+e-(a.content.size-a.openEnd);for(;h<c.childCount;){let b=c.child(h),S=m.matchType(b.type);if(!S)break;h++,(h>1||u==0||b.content.size)&&(m=S,p.push(AC(b.mark(y.allowedMarks(b.marks)),h==1?u:0,h==c.childCount?v:-1)))}let w=h==c.childCount;w||(v=-1),this.placed=yl(this.placed,n,ne.from(p)),this.frontier[n].match=m,w&&v<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let b=0,S=c;b<v;b++){let N=S.lastChild;this.frontier.push({type:N.type,match:N.contentMatchAt(N.childCount)}),S=N.content}this.unplaced=w?e==0?ye.empty:new ye(gl(a.content,e-1,1),e-1,v<0?a.openEnd:e-1):new ye(gl(a.content,e,h),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!Wp(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,s=this.$to.after(r);for(;r>1&&s==this.$to.end(--r);)++s;return s}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:s}=this.frontier[n],o=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),a=Wp(e,n,s,r,o);if(a){for(let c=n-1;c>=0;c--){let{match:u,type:h}=this.frontier[c],p=Wp(e,c,h,u,!0);if(!p||p.childCount)continue e}return{depth:n,fit:a,move:o?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=yl(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let s=e.node(r),o=s.type.contentMatch.fillBefore(s.content,!0,e.index(r));this.openFrontierNode(s.type,s.attrs,o)}return e}openFrontierNode(e,n=null,r){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=yl(this.placed,this.depth,ne.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(ne.empty,!0);n.childCount&&(this.placed=yl(this.placed,this.frontier.length,n))}}function gl(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(gl(t.firstChild.content,e-1,n)))}function yl(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(yl(t.lastChild.content,e-1,n)))}function Up(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function AC(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,AC(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(ne.empty,!0)))),t.copy(r)}function Wp(t,e,n,r,s){let o=t.node(e),a=s?t.indexAfter(e):t.index(e);if(a==o.childCount&&!n.compatibleContent(o.type))return null;let c=r.fillBefore(o.content,!0,a);return c&&!kL(n,o.content,a)?c:null}function kL(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function SL(t){return t.spec.defining||t.spec.definingForContent}function CL(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let s=t.doc.resolve(e),o=t.doc.resolve(n);if(jC(s,o,r))return t.step(new Qt(e,n,r));let a=RC(s,t.doc.resolve(n));a[a.length-1]==0&&a.pop();let c=-(s.depth+1);a.unshift(c);for(let y=s.depth,v=s.pos-1;y>0;y--,v--){let w=s.node(y).type.spec;if(w.defining||w.definingAsContext||w.isolating)break;a.indexOf(y)>-1?c=y:s.before(y)==v&&a.splice(1,0,-y)}let u=a.indexOf(c),h=[],p=r.openStart;for(let y=r.content,v=0;;v++){let w=y.firstChild;if(h.push(w),v==r.openStart)break;y=w.content}for(let y=p-1;y>=0;y--){let v=h[y],w=SL(v.type);if(w&&!v.sameMarkup(s.node(Math.abs(c)-1)))p=y;else if(w||!v.type.isTextblock)break}for(let y=r.openStart;y>=0;y--){let v=(y+p+1)%(r.openStart+1),w=h[v];if(w)for(let b=0;b<a.length;b++){let S=a[(b+u)%a.length],N=!0;S<0&&(N=!1,S=-S);let j=s.node(S-1),A=s.index(S-1);if(j.canReplaceWith(A,A,w.type,w.marks))return t.replace(s.before(S),N?o.after(S):n,new ye(DC(r.content,0,r.openStart,v),v,r.openEnd))}}let m=t.steps.length;for(let y=a.length-1;y>=0&&(t.replace(e,n,r),!(t.steps.length>m));y--){let v=a[y];v<0||(e=s.before(v),n=o.after(v))}}function DC(t,e,n,r,s){if(e<n){let o=t.firstChild;t=t.replaceChild(0,o.copy(DC(o.content,e+1,n,r,o)))}if(e>r){let o=s.contentMatchAt(0),a=o.fillBefore(t).append(t);t=a.append(o.matchFragment(a).fillBefore(ne.empty,!0))}return t}function NL(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let s=bL(t.doc,e,r.type);s!=null&&(e=n=s)}t.replaceRange(e,n,new ye(ne.from(r),0,0))}function EL(t,e,n){let r=t.doc.resolve(e),s=t.doc.resolve(n),o=RC(r,s);for(let a=0;a<o.length;a++){let c=o[a],u=a==o.length-1;if(u&&c==0||r.node(c).type.contentMatch.validEnd)return t.delete(r.start(c),s.end(c));if(c>0&&(u||r.node(c-1).canReplace(r.index(c-1),s.indexAfter(c-1))))return t.delete(r.before(c),s.after(c))}for(let a=1;a<=r.depth&&a<=s.depth;a++)if(e-r.start(a)==r.depth-a&&n>r.end(a)&&s.end(a)-n!=s.depth-a&&r.start(a-1)==s.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),s.index(a-1)))return t.delete(r.before(a),n);t.delete(e,n)}function RC(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let s=r;s>=0;s--){let o=t.start(s);if(o<t.pos-(t.depth-s)||e.end(s)>e.pos+(e.depth-s)||t.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(o==e.start(s)||s==t.depth&&s==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==o-1)&&n.push(s)}return n}class oa extends gn{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return It.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let s=n.type.create(r,null,n.marks);return It.fromReplace(e,this.pos,this.pos+1,new ye(ne.from(s),0,n.isLeaf?0:1))}getMap(){return qn.empty}invert(e){return new oa(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new oa(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new oa(n.pos,n.attr,n.value)}}gn.jsonID("attr",oa);class Wl extends gn{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let s in e.attrs)n[s]=e.attrs[s];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return It.ok(r)}getMap(){return qn.empty}invert(e){return new Wl(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Wl(n.attr,n.value)}}gn.jsonID("docAttr",Wl);let da=class extends Error{};da=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};da.prototype=Object.create(Error.prototype);da.prototype.constructor=da;da.prototype.name="TransformError";class OC{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Ul}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new da(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=ye.empty){let s=gf(this.doc,e,n,r);return s&&this.step(s),this}replaceWith(e,n,r){return this.replace(e,n,new ye(ne.from(r),0,0))}delete(e,n){return this.replace(e,n,ye.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return CL(this,e,n,r),this}replaceRangeWith(e,n,r){return NL(this,e,n,r),this}deleteRange(e,n){return EL(this,e,n),this}lift(e,n){return uL(this,e,n),this}join(e,n=1){return xL(this,e,n),this}wrap(e,n){return hL(this,e,n),this}setBlockType(e,n=e,r,s=null){return pL(this,e,n,r,s),this}setNodeMarkup(e,n,r=null,s){return gL(this,e,n,r,s),this}setNodeAttribute(e,n,r){return this.step(new oa(e,n,r)),this}setDocAttribute(e,n){return this.step(new Wl(e,n)),this}addNodeMark(e,n){return this.step(new go(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof dt)n.isInSet(r.marks)&&this.step(new fi(e,n));else{let s=r.marks,o,a=[];for(;o=n.isInSet(s);)a.push(new fi(e,o)),s=o.removeFromSet(s);for(let c=a.length-1;c>=0;c--)this.step(a[c])}return this}split(e,n=1,r){return yL(this,e,n,r),this}addMark(e,n,r){return aL(this,e,n,r),this}removeMark(e,n,r){return lL(this,e,n,r),this}clearIncompatible(e,n,r){return ty(this,e,n,r),this}}const Kp=Object.create(null);class Ve{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new TL(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=ye.empty){let r=n.content.lastChild,s=null;for(let c=0;c<n.openEnd;c++)s=r,r=r.lastChild;let o=e.steps.length,a=this.ranges;for(let c=0;c<a.length;c++){let{$from:u,$to:h}=a[c],p=e.mapping.slice(o);e.replaceRange(p.map(u.pos),p.map(h.pos),c?ye.empty:n),c==0&&U1(e,o,(r?r.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,s=this.ranges;for(let o=0;o<s.length;o++){let{$from:a,$to:c}=s[o],u=e.mapping.slice(r),h=u.map(a.pos),p=u.map(c.pos);o?e.deleteRange(h,p):(e.replaceRangeWith(h,p,n),U1(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let s=e.parent.inlineContent?new $e(e):Yi(e.node(0),e.parent,e.pos,e.index(),n,r);if(s)return s;for(let o=e.depth-1;o>=0;o--){let a=n<0?Yi(e.node(0),e.node(o),e.before(o+1),e.index(o),n,r):Yi(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,n,r);if(a)return a}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Gn(e.node(0))}static atStart(e){return Yi(e,e,0,0,1)||new Gn(e)}static atEnd(e){return Yi(e,e,e.content.size,e.childCount,-1)||new Gn(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Kp[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Kp)throw new RangeError("Duplicate use of selection JSON ID "+e);return Kp[e]=n,n.prototype.jsonID=e,n}getBookmark(){return $e.between(this.$anchor,this.$head).getBookmark()}}Ve.prototype.visible=!0;class TL{constructor(e,n){this.$from=e,this.$to=n}}let V1=!1;function H1(t){!V1&&!t.parent.inlineContent&&(V1=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class $e extends Ve{constructor(e,n=e){H1(e),H1(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Ve.near(r);let s=e.resolve(n.map(this.anchor));return new $e(s.parent.inlineContent?s:r,r)}replace(e,n=ye.empty){if(super.replace(e,n),n==ye.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof $e&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new yf(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new $e(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let s=e.resolve(n);return new this(s,r==n?s:e.resolve(r))}static between(e,n,r){let s=e.pos-n.pos;if((!r||s)&&(r=s>=0?1:-1),!n.parent.inlineContent){let o=Ve.findFrom(n,r,!0)||Ve.findFrom(n,-r,!0);if(o)n=o.$head;else return Ve.near(n,r)}return e.parent.inlineContent||(s==0?e=n:(e=(Ve.findFrom(e,-r,!0)||Ve.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=s<0&&(e=n))),new $e(e,n)}}Ve.jsonID("text",$e);class yf{constructor(e,n){this.anchor=e,this.head=n}map(e){return new yf(e.map(this.anchor),e.map(this.head))}resolve(e){return $e.between(e.resolve(this.anchor),e.resolve(this.head))}}class Re extends Ve{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:s}=n.mapResult(this.anchor),o=e.resolve(s);return r?Ve.near(o):new Re(o)}content(){return new ye(ne.from(this.node),0,0)}eq(e){return e instanceof Re&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new ry(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Re(e.resolve(n.anchor))}static create(e,n){return new Re(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Re.prototype.visible=!1;Ve.jsonID("node",Re);class ry{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new yf(r,r):new ry(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&Re.isSelectable(r)?new Re(n):Ve.near(n)}}class Gn extends Ve{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=ye.empty){if(n==ye.empty){e.delete(0,e.doc.content.size);let r=Ve.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Gn(e)}map(e){return new Gn(e)}eq(e){return e instanceof Gn}getBookmark(){return ML}}Ve.jsonID("all",Gn);const ML={map(){return this},resolve(t){return new Gn(t)}};function Yi(t,e,n,r,s,o=!1){if(e.inlineContent)return $e.create(t,n);for(let a=r-(s>0?0:1);s>0?a<e.childCount:a>=0;a+=s){let c=e.child(a);if(c.isAtom){if(!o&&Re.isSelectable(c))return Re.create(t,n-(s<0?c.nodeSize:0))}else{let u=Yi(t,c,n+s,s<0?c.childCount:0,s,o);if(u)return u}n+=c.nodeSize*s}return null}function U1(t,e,n){let r=t.steps.length-1;if(r<e)return;let s=t.steps[r];if(!(s instanceof Qt||s instanceof Zt))return;let o=t.mapping.maps[r],a;o.forEach((c,u,h,p)=>{a==null&&(a=p)}),t.setSelection(Ve.near(t.doc.resolve(a),n))}const W1=1,Au=2,K1=4;class jL extends OC{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|W1)&~Au,this.storedMarks=null,this}get selectionSet(){return(this.updated&W1)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Au,this}ensureMarks(e){return dt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Au)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Au,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||dt.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let s=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),!e)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let a=this.doc.resolve(n);o=r==n?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,s.text(e,o)),!this.selection.empty&&this.selection.to==n+e.length&&this.setSelection(Ve.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=K1,this}get scrolledIntoView(){return(this.updated&K1)>0}}function q1(t,e){return!e||!t?t:t.bind(e)}class vl{constructor(e,n,r){this.name=e,this.init=q1(n.init,r),this.apply=q1(n.apply,r)}}const AL=[new vl("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new vl("selection",{init(t,e){return t.selection||Ve.atStart(e.doc)},apply(t){return t.selection}}),new vl("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new vl("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class qp{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=AL.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new vl(r.key,r.spec.state,r))})}}class ea{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let s=this.config.plugins[r];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),s=null;for(;;){let o=!1;for(let a=0;a<this.config.plugins.length;a++){let c=this.config.plugins[a];if(c.spec.appendTransaction){let u=s?s[a].n:0,h=s?s[a].state:this,p=u<n.length&&c.spec.appendTransaction.call(c,u?n.slice(u):n,h,r);if(p&&r.filterTransaction(p,a)){if(p.setMeta("appendedTransaction",e),!s){s=[];for(let m=0;m<this.config.plugins.length;m++)s.push(m<a?{state:r,n:n.length}:{state:this,n:0})}n.push(p),r=r.applyInner(p),o=!0}s&&(s[a]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new ea(this.config),r=this.config.fields;for(let s=0;s<r.length;s++){let o=r[s];n[o.name]=o.apply(e,this[o.name],this,n)}return n}get tr(){return new jL(this)}static create(e){let n=new qp(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new ea(n);for(let s=0;s<n.fields.length;s++)r[n.fields[s].name]=n.fields[s].init(e,r);return r}reconfigure(e){let n=new qp(this.schema,e.plugins),r=n.fields,s=new ea(n);for(let o=0;o<r.length;o++){let a=r[o].name;s[a]=this.hasOwnProperty(a)?this[a]:r[o].init(e,s)}return s}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[r],o=s.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(s,this[s.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new qp(e.schema,e.plugins),o=new ea(s);return s.fields.forEach(a=>{if(a.name=="doc")o.doc=xo.fromJSON(e.schema,n.doc);else if(a.name=="selection")o.selection=Ve.fromJSON(o.doc,n.selection);else if(a.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let c in r){let u=r[c],h=u.spec.state;if(u.key==a.name&&h&&h.fromJSON&&Object.prototype.hasOwnProperty.call(n,c)){o[a.name]=h.fromJSON.call(u,e,n[c],o);return}}o[a.name]=a.init(e,o)}}),o}}function IC(t,e,n){for(let r in t){let s=t[r];s instanceof Function?s=s.bind(e):r=="handleDOMEvents"&&(s=IC(s,e,{})),n[r]=s}return n}class jt{constructor(e){this.spec=e,this.props={},e.props&&IC(e.props,this,this.props),this.key=e.key?e.key.key:PC("plugin")}getState(e){return e[this.key]}}const Gp=Object.create(null);function PC(t){return t in Gp?t+"$"+ ++Gp[t]:(Gp[t]=0,t+"$")}class tn{constructor(e="key"){this.key=PC(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const sy=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function LC(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const _C=(t,e,n)=>{let r=LC(t,n);if(!r)return!1;let s=oy(r);if(!s){let a=r.blockRange(),c=a&&Ca(a);return c==null?!1:(e&&e(t.tr.lift(a,c).scrollIntoView()),!0)}let o=s.nodeBefore;if(KC(t,s,e,-1))return!0;if(r.parent.content.size==0&&(fa(o,"end")||Re.isSelectable(o)))for(let a=r.depth;;a--){let c=gf(t.doc,r.before(a),r.after(a),ye.empty);if(c&&c.slice.size<c.to-c.from){if(e){let u=t.tr.step(c);u.setSelection(fa(o,"end")?Ve.findFrom(u.doc.resolve(u.mapping.map(s.pos,-1)),-1):Re.create(u.doc,s.pos-o.nodeSize)),e(u.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return o.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos-o.nodeSize,s.pos).scrollIntoView()),!0):!1},DL=(t,e,n)=>{let r=LC(t,n);if(!r)return!1;let s=oy(r);return s?zC(t,s,e):!1},RL=(t,e,n)=>{let r=FC(t,n);if(!r)return!1;let s=iy(r);return s?zC(t,s,e):!1};function zC(t,e,n){let r=e.nodeBefore,s=r,o=e.pos-1;for(;!s.isTextblock;o--){if(s.type.spec.isolating)return!1;let p=s.lastChild;if(!p)return!1;s=p}let a=e.nodeAfter,c=a,u=e.pos+1;for(;!c.isTextblock;u++){if(c.type.spec.isolating)return!1;let p=c.firstChild;if(!p)return!1;c=p}let h=gf(t.doc,o,u,ye.empty);if(!h||h.from!=o||h instanceof Qt&&h.slice.size>=u-o)return!1;if(n){let p=t.tr.step(h);p.setSelection($e.create(p.doc,o)),n(p.scrollIntoView())}return!0}function fa(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const $C=(t,e,n)=>{let{$head:r,empty:s}=t.selection,o=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;o=oy(r)}let a=o&&o.nodeBefore;return!a||!Re.isSelectable(a)?!1:(e&&e(t.tr.setSelection(Re.create(t.doc,o.pos-a.nodeSize)).scrollIntoView()),!0)};function oy(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function FC(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const BC=(t,e,n)=>{let r=FC(t,n);if(!r)return!1;let s=iy(r);if(!s)return!1;let o=s.nodeAfter;if(KC(t,s,e,1))return!0;if(r.parent.content.size==0&&(fa(o,"start")||Re.isSelectable(o))){let a=gf(t.doc,r.before(),r.after(),ye.empty);if(a&&a.slice.size<a.to-a.from){if(e){let c=t.tr.step(a);c.setSelection(fa(o,"start")?Ve.findFrom(c.doc.resolve(c.mapping.map(s.pos)),1):Re.create(c.doc,c.mapping.map(s.pos))),e(c.scrollIntoView())}return!0}}return o.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos,s.pos+o.nodeSize).scrollIntoView()),!0):!1},VC=(t,e,n)=>{let{$head:r,empty:s}=t.selection,o=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;o=iy(r)}let a=o&&o.nodeAfter;return!a||!Re.isSelectable(a)?!1:(e&&e(t.tr.setSelection(Re.create(t.doc,o.pos)).scrollIntoView()),!0)};function iy(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const OL=(t,e)=>{let n=t.selection,r=n instanceof Re,s;if(r){if(n.node.isTextblock||!Oo(t.doc,n.from))return!1;s=n.from}else if(s=mf(t.doc,n.from,-1),s==null)return!1;if(e){let o=t.tr.join(s);r&&o.setSelection(Re.create(o.doc,s-t.doc.resolve(s).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0},IL=(t,e)=>{let n=t.selection,r;if(n instanceof Re){if(n.node.isTextblock||!Oo(t.doc,n.to))return!1;r=n.to}else if(r=mf(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},PL=(t,e)=>{let{$from:n,$to:r}=t.selection,s=n.blockRange(r),o=s&&Ca(s);return o==null?!1:(e&&e(t.tr.lift(s,o).scrollIntoView()),!0)},HC=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function ay(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const LL=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let s=n.node(-1),o=n.indexAfter(-1),a=ay(s.contentMatchAt(o));if(!a||!s.canReplaceWith(o,o,a))return!1;if(e){let c=n.after(),u=t.tr.replaceWith(c,c,a.createAndFill());u.setSelection(Ve.near(u.doc.resolve(c),1)),e(u.scrollIntoView())}return!0},UC=(t,e)=>{let n=t.selection,{$from:r,$to:s}=n;if(n instanceof Gn||r.parent.inlineContent||s.parent.inlineContent)return!1;let o=ay(s.parent.contentMatchAt(s.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let a=(!r.parentOffset&&s.index()<s.parent.childCount?r:s).pos,c=t.tr.insert(a,o.createAndFill());c.setSelection($e.create(c.doc,a+1)),e(c.scrollIntoView())}return!0},WC=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(Ts(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),s=r&&Ca(r);return s==null?!1:(e&&e(t.tr.lift(r,s).scrollIntoView()),!0)};function _L(t){return(e,n)=>{let{$from:r,$to:s}=e.selection;if(e.selection instanceof Re&&e.selection.node.isBlock)return!r.parentOffset||!Ts(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let o=[],a,c,u=!1,h=!1;for(let v=r.depth;;v--)if(r.node(v).isBlock){u=r.end(v)==r.pos+(r.depth-v),h=r.start(v)==r.pos-(r.depth-v),c=ay(r.node(v-1).contentMatchAt(r.indexAfter(v-1))),o.unshift(u&&c?{type:c}:null),a=v;break}else{if(v==1)return!1;o.unshift(null)}let p=e.tr;(e.selection instanceof $e||e.selection instanceof Gn)&&p.deleteSelection();let m=p.mapping.map(r.pos),y=Ts(p.doc,m,o.length,o);if(y||(o[0]=c?{type:c}:null,y=Ts(p.doc,m,o.length,o)),!y)return!1;if(p.split(m,o.length,o),!u&&h&&r.node(a).type!=c){let v=p.mapping.map(r.before(a)),w=p.doc.resolve(v);c&&r.node(a-1).canReplaceWith(w.index(),w.index()+1,c)&&p.setNodeMarkup(p.mapping.map(r.before(a)),c)}return n&&n(p.scrollIntoView()),!0}}const zL=_L(),$L=(t,e)=>{let{$from:n,to:r}=t.selection,s,o=n.sharedDepth(r);return o==0?!1:(s=n.before(o),e&&e(t.tr.setSelection(Re.create(t.doc,s))),!0)};function FL(t,e,n){let r=e.nodeBefore,s=e.nodeAfter,o=e.index();return!r||!s||!r.type.compatibleContent(s.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(s.isTextblock||Oo(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function KC(t,e,n,r){let s=e.nodeBefore,o=e.nodeAfter,a,c,u=s.type.spec.isolating||o.type.spec.isolating;if(!u&&FL(t,e,n))return!0;let h=!u&&e.parent.canReplace(e.index(),e.index()+1);if(h&&(a=(c=s.contentMatchAt(s.childCount)).findWrapping(o.type))&&c.matchType(a[0]||o.type).validEnd){if(n){let v=e.pos+o.nodeSize,w=ne.empty;for(let N=a.length-1;N>=0;N--)w=ne.from(a[N].create(null,w));w=ne.from(s.copy(w));let b=t.tr.step(new Zt(e.pos-1,v,e.pos,v,new ye(w,1,0),a.length,!0)),S=b.doc.resolve(v+2*a.length);S.nodeAfter&&S.nodeAfter.type==s.type&&Oo(b.doc,S.pos)&&b.join(S.pos),n(b.scrollIntoView())}return!0}let p=o.type.spec.isolating||r>0&&u?null:Ve.findFrom(e,1),m=p&&p.$from.blockRange(p.$to),y=m&&Ca(m);if(y!=null&&y>=e.depth)return n&&n(t.tr.lift(m,y).scrollIntoView()),!0;if(h&&fa(o,"start",!0)&&fa(s,"end")){let v=s,w=[];for(;w.push(v),!v.isTextblock;)v=v.lastChild;let b=o,S=1;for(;!b.isTextblock;b=b.firstChild)S++;if(v.canReplace(v.childCount,v.childCount,b.content)){if(n){let N=ne.empty;for(let A=w.length-1;A>=0;A--)N=ne.from(w[A].copy(N));let j=t.tr.step(new Zt(e.pos-w.length,e.pos+o.nodeSize,e.pos+S,e.pos+o.nodeSize-S,new ye(N,w.length,0),0,!0));n(j.scrollIntoView())}return!0}}return!1}function qC(t){return function(e,n){let r=e.selection,s=t<0?r.$from:r.$to,o=s.depth;for(;s.node(o).isInline;){if(!o)return!1;o--}return s.node(o).isTextblock?(n&&n(e.tr.setSelection($e.create(e.doc,t<0?s.start(o):s.end(o)))),!0):!1}}const BL=qC(-1),VL=qC(1);function HL(t,e=null){return function(n,r){let{$from:s,$to:o}=n.selection,a=s.blockRange(o),c=a&&ny(a,t,e);return c?(r&&r(n.tr.wrap(a,c).scrollIntoView()),!0):!1}}function G1(t,e=null){return function(n,r){let s=!1;for(let o=0;o<n.selection.ranges.length&&!s;o++){let{$from:{pos:a},$to:{pos:c}}=n.selection.ranges[o];n.doc.nodesBetween(a,c,(u,h)=>{if(s)return!1;if(!(!u.isTextblock||u.hasMarkup(t,e)))if(u.type==t)s=!0;else{let p=n.doc.resolve(h),m=p.index();s=p.parent.canReplaceWith(m,m+1,t)}})}if(!s)return!1;if(r){let o=n.tr;for(let a=0;a<n.selection.ranges.length;a++){let{$from:{pos:c},$to:{pos:u}}=n.selection.ranges[a];o.setBlockType(c,u,t,e)}r(o.scrollIntoView())}return!0}}function ly(...t){return function(e,n,r){for(let s=0;s<t.length;s++)if(t[s](e,n,r))return!0;return!1}}ly(sy,_C,$C);ly(sy,BC,VC);ly(HC,UC,WC,zL);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function UL(t,e=null){return function(n,r){let{$from:s,$to:o}=n.selection,a=s.blockRange(o);if(!a)return!1;let c=r?n.tr:null;return WL(c,a,t,e)?(r&&r(c.scrollIntoView()),!0):!1}}function WL(t,e,n,r=null){let s=!1,o=e,a=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let u=a.resolve(e.start-2);o=new ad(u,u,e.depth),e.endIndex<e.parent.childCount&&(e=new ad(e.$from,a.resolve(e.$to.end(e.depth)),e.depth)),s=!0}let c=ny(o,n,r,e);return c?(t&&KL(t,e,c,s,n),!0):!1}function KL(t,e,n,r,s){let o=ne.empty;for(let p=n.length-1;p>=0;p--)o=ne.from(n[p].type.create(n[p].attrs,o));t.step(new Zt(e.start-(r?2:0),e.end,e.start,e.end,new ye(o,0,0),n.length,!0));let a=0;for(let p=0;p<n.length;p++)n[p].type==s&&(a=p+1);let c=n.length-a,u=e.start+n.length-(r?2:0),h=e.parent;for(let p=e.startIndex,m=e.endIndex,y=!0;p<m;p++,y=!1)!y&&Ts(t.doc,u,c)&&(t.split(u,c),u+=2*c),u+=h.child(p).nodeSize;return t}function qL(t){return function(e,n){let{$from:r,$to:s}=e.selection,o=r.blockRange(s,a=>a.childCount>0&&a.firstChild.type==t);return o?n?r.node(o.depth-1).type==t?GL(e,n,t,o):YL(e,n,o):!0:!1}}function GL(t,e,n,r){let s=t.tr,o=r.end,a=r.$to.end(r.depth);o<a&&(s.step(new Zt(o-1,a,o,a,new ye(ne.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new ad(s.doc.resolve(r.$from.pos),s.doc.resolve(a),r.depth));const c=Ca(r);if(c==null)return!1;s.lift(r,c);let u=s.doc.resolve(s.mapping.map(o,-1)-1);return Oo(s.doc,u.pos)&&u.nodeBefore.type==u.nodeAfter.type&&s.join(u.pos),e(s.scrollIntoView()),!0}function YL(t,e,n){let r=t.tr,s=n.parent;for(let v=n.end,w=n.endIndex-1,b=n.startIndex;w>b;w--)v-=s.child(w).nodeSize,r.delete(v-1,v+1);let o=r.doc.resolve(n.start),a=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let c=n.startIndex==0,u=n.endIndex==s.childCount,h=o.node(-1),p=o.index(-1);if(!h.canReplace(p+(c?0:1),p+1,a.content.append(u?ne.empty:ne.from(s))))return!1;let m=o.pos,y=m+a.nodeSize;return r.step(new Zt(m-(c?1:0),y+(u?1:0),m+1,y-1,new ye((c?ne.empty:ne.from(s.copy(ne.empty))).append(u?ne.empty:ne.from(s.copy(ne.empty))),c?0:1,u?0:1),c?0:1)),e(r.scrollIntoView()),!0}function JL(t){return function(e,n){let{$from:r,$to:s}=e.selection,o=r.blockRange(s,h=>h.childCount>0&&h.firstChild.type==t);if(!o)return!1;let a=o.startIndex;if(a==0)return!1;let c=o.parent,u=c.child(a-1);if(u.type!=t)return!1;if(n){let h=u.lastChild&&u.lastChild.type==c.type,p=ne.from(h?t.create():null),m=new ye(ne.from(t.create(null,ne.from(c.type.create(null,p)))),h?3:1,0),y=o.start,v=o.end;n(e.tr.step(new Zt(y-(h?3:1),v,y,v,m,1,!0)).scrollIntoView())}return!0}}const an=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},ha=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let $m=null;const Ss=function(t,e,n){let r=$m||($m=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},XL=function(){$m=null},hi=function(t,e,n,r){return n&&(Y1(t,e,n,r,-1)||Y1(t,e,n,r,1))},QL=/^(img|br|input|textarea|hr)$/i;function Y1(t,e,n,r,s){for(var o;;){if(t==n&&e==r)return!0;if(e==(s<0?0:ur(t))){let a=t.parentNode;if(!a||a.nodeType!=1||ac(t)||QL.test(t.nodeName)||t.contentEditable=="false")return!1;e=an(t)+(s<0?0:1),t=a}else if(t.nodeType==1){let a=t.childNodes[e+(s<0?-1:0)];if(a.nodeType==1&&a.contentEditable=="false")if(!((o=a.pmViewDesc)===null||o===void 0)&&o.ignoreForSelection)e+=s;else return!1;else t=a,e=s<0?ur(t):0}else return!1}}function ur(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function ZL(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=ur(t)}else if(t.parentNode&&!ac(t))e=an(t),t=t.parentNode;else return null}}function e3(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!ac(t))e=an(t)+1,t=t.parentNode;else return null}}function t3(t,e,n){for(let r=e==0,s=e==ur(t);r||s;){if(t==n)return!0;let o=an(t);if(t=t.parentNode,!t)return!1;r=r&&o==0,s=s&&o==ur(t)}}function ac(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const vf=function(t){return t.focusNode&&hi(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Qo(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function n3(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function r3(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(ur(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(ur(r.startContainer),r.startOffset)}}}const Xr=typeof navigator<"u"?navigator:null,J1=typeof document<"u"?document:null,Io=Xr&&Xr.userAgent||"",Fm=/Edge\/(\d+)/.exec(Io),GC=/MSIE \d/.exec(Io),Bm=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Io),$n=!!(GC||Bm||Fm),wo=GC?document.documentMode:Bm?+Bm[1]:Fm?+Fm[1]:0,dr=!$n&&/gecko\/(\d+)/i.test(Io);dr&&+(/Firefox\/(\d+)/.exec(Io)||[0,0])[1];const Vm=!$n&&/Chrome\/(\d+)/.exec(Io),mn=!!Vm,YC=Vm?+Vm[1]:0,Cn=!$n&&!!Xr&&/Apple Computer/.test(Xr.vendor),pa=Cn&&(/Mobile\/\w+/.test(Io)||!!Xr&&Xr.maxTouchPoints>2),cr=pa||(Xr?/Mac/.test(Xr.platform):!1),s3=Xr?/Win/.test(Xr.platform):!1,Ns=/Android \d/.test(Io),lc=!!J1&&"webkitFontSmoothing"in J1.documentElement.style,o3=lc?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function i3(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function xs(t,e){return typeof t=="number"?t:t[e]}function a3(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function X1(t,e,n){let r=t.someProp("scrollThreshold")||0,s=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let a=n||t.dom;a;){if(a.nodeType!=1){a=ha(a);continue}let c=a,u=c==o.body,h=u?i3(o):a3(c),p=0,m=0;if(e.top<h.top+xs(r,"top")?m=-(h.top-e.top+xs(s,"top")):e.bottom>h.bottom-xs(r,"bottom")&&(m=e.bottom-e.top>h.bottom-h.top?e.top+xs(s,"top")-h.top:e.bottom-h.bottom+xs(s,"bottom")),e.left<h.left+xs(r,"left")?p=-(h.left-e.left+xs(s,"left")):e.right>h.right-xs(r,"right")&&(p=e.right-h.right+xs(s,"right")),p||m)if(u)o.defaultView.scrollBy(p,m);else{let v=c.scrollLeft,w=c.scrollTop;m&&(c.scrollTop+=m),p&&(c.scrollLeft+=p);let b=c.scrollLeft-v,S=c.scrollTop-w;e={left:e.left-b,top:e.top-S,right:e.right-b,bottom:e.bottom-S}}let y=u?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(y))break;a=y=="absolute"?a.offsetParent:ha(a)}}function l3(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,s;for(let o=(e.left+e.right)/2,a=n+1;a<Math.min(innerHeight,e.bottom);a+=5){let c=t.root.elementFromPoint(o,a);if(!c||c==t.dom||!t.dom.contains(c))continue;let u=c.getBoundingClientRect();if(u.top>=n-20){r=c,s=u.top;break}}return{refDOM:r,refTop:s,stack:JC(t.dom)}}function JC(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=ha(r));return e}function c3({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;XC(n,r==0?0:r-e)}function XC(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:s,left:o}=t[n];r.scrollTop!=s+e&&(r.scrollTop=s+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let qi=null;function u3(t){if(t.setActive)return t.setActive();if(qi)return t.focus(qi);let e=JC(t);t.focus(qi==null?{get preventScroll(){return qi={preventScroll:!0},!0}}:void 0),qi||(qi=!1,XC(e,0))}function QC(t,e){let n,r=2e8,s,o=0,a=e.top,c=e.top,u,h;for(let p=t.firstChild,m=0;p;p=p.nextSibling,m++){let y;if(p.nodeType==1)y=p.getClientRects();else if(p.nodeType==3)y=Ss(p).getClientRects();else continue;for(let v=0;v<y.length;v++){let w=y[v];if(w.top<=a&&w.bottom>=c){a=Math.max(w.bottom,a),c=Math.min(w.top,c);let b=w.left>e.left?w.left-e.left:w.right<e.left?e.left-w.right:0;if(b<r){n=p,r=b,s=b&&n.nodeType==3?{left:w.right<e.left?w.right:w.left,top:e.top}:e,p.nodeType==1&&b&&(o=m+(e.left>=(w.left+w.right)/2?1:0));continue}}else w.top>e.top&&!u&&w.left<=e.left&&w.right>=e.left&&(u=p,h={left:Math.max(w.left,Math.min(w.right,e.left)),top:w.top});!n&&(e.left>=w.right&&e.top>=w.top||e.left>=w.left&&e.top>=w.bottom)&&(o=m+1)}}return!n&&u&&(n=u,s=h,r=0),n&&n.nodeType==3?d3(n,s):!n||r&&n.nodeType==1?{node:t,offset:o}:QC(n,s)}function d3(t,e){let n=t.nodeValue.length,r=document.createRange();for(let s=0;s<n;s++){r.setEnd(t,s+1),r.setStart(t,s);let o=io(r,1);if(o.top!=o.bottom&&cy(e,o))return{node:t,offset:s+(e.left>=(o.left+o.right)/2?1:0)}}return{node:t,offset:0}}function cy(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function f3(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function h3(t,e,n){let{node:r,offset:s}=QC(e,n),o=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();o=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(r,s,o)}function p3(t,e,n,r){let s=-1;for(let o=e,a=!1;o!=t.dom;){let c=t.docView.nearestDesc(o,!0),u;if(!c)return null;if(c.dom.nodeType==1&&(c.node.isBlock&&c.parent||!c.contentDOM)&&((u=c.dom.getBoundingClientRect()).width||u.height)&&(c.node.isBlock&&c.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(c.dom.nodeName)&&(!a&&u.left>r.left||u.top>r.top?s=c.posBefore:(!a&&u.right<r.left||u.bottom<r.top)&&(s=c.posAfter),a=!0),!c.contentDOM&&s<0&&!c.node.isText))return(c.node.isBlock?r.top<(u.top+u.bottom)/2:r.left<(u.left+u.right)/2)?c.posBefore:c.posAfter;o=c.dom.parentNode}return s>-1?s:t.docView.posFromDOM(e,n,-1)}function ZC(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let s=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),o=s;;){let a=t.childNodes[o];if(a.nodeType==1){let c=a.getClientRects();for(let u=0;u<c.length;u++){let h=c[u];if(cy(e,h))return ZC(a,e,h)}}if((o=(o+1)%r)==s)break}return t}function m3(t,e){let n=t.dom.ownerDocument,r,s=0,o=r3(n,e.left,e.top);o&&({node:r,offset:s}=o);let a=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),c;if(!a||!t.dom.contains(a.nodeType!=1?a.parentNode:a)){let h=t.dom.getBoundingClientRect();if(!cy(e,h)||(a=ZC(t.dom,e,h),!a))return null}if(Cn)for(let h=a;r&&h;h=ha(h))h.draggable&&(r=void 0);if(a=f3(a,e),r){if(dr&&r.nodeType==1&&(s=Math.min(s,r.childNodes.length),s<r.childNodes.length)){let p=r.childNodes[s],m;p.nodeName=="IMG"&&(m=p.getBoundingClientRect()).right<=e.left&&m.bottom>e.top&&s++}let h;lc&&s&&r.nodeType==1&&(h=r.childNodes[s-1]).nodeType==1&&h.contentEditable=="false"&&h.getBoundingClientRect().top>=e.top&&s--,r==t.dom&&s==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?c=t.state.doc.content.size:(s==0||r.nodeType!=1||r.childNodes[s-1].nodeName!="BR")&&(c=p3(t,r,s,e))}c==null&&(c=h3(t,a,e));let u=t.docView.nearestDesc(a,!0);return{pos:c,inside:u?u.posAtStart-u.border:-1}}function Q1(t){return t.top<t.bottom||t.left<t.right}function io(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(Q1(r))return r}return Array.prototype.find.call(n,Q1)||t.getBoundingClientRect()}const g3=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function eN(t,e,n){let{node:r,offset:s,atom:o}=t.docView.domFromPos(e,n<0?-1:1),a=lc||dr;if(r.nodeType==3)if(a&&(g3.test(r.nodeValue)||(n<0?!s:s==r.nodeValue.length))){let u=io(Ss(r,s,s),n);if(dr&&s&&/\s/.test(r.nodeValue[s-1])&&s<r.nodeValue.length){let h=io(Ss(r,s-1,s-1),-1);if(h.top==u.top){let p=io(Ss(r,s,s+1),-1);if(p.top!=u.top)return ul(p,p.left<h.left)}}return u}else{let u=s,h=s,p=n<0?1:-1;return n<0&&!s?(h++,p=-1):n>=0&&s==r.nodeValue.length?(u--,p=1):n<0?u--:h++,ul(io(Ss(r,u,h),p),p<0)}if(!t.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&s&&(n<0||s==ur(r))){let u=r.childNodes[s-1];if(u.nodeType==1)return Yp(u.getBoundingClientRect(),!1)}if(o==null&&s<ur(r)){let u=r.childNodes[s];if(u.nodeType==1)return Yp(u.getBoundingClientRect(),!0)}return Yp(r.getBoundingClientRect(),n>=0)}if(o==null&&s&&(n<0||s==ur(r))){let u=r.childNodes[s-1],h=u.nodeType==3?Ss(u,ur(u)-(a?0:1)):u.nodeType==1&&(u.nodeName!="BR"||!u.nextSibling)?u:null;if(h)return ul(io(h,1),!1)}if(o==null&&s<ur(r)){let u=r.childNodes[s];for(;u.pmViewDesc&&u.pmViewDesc.ignoreForCoords;)u=u.nextSibling;let h=u?u.nodeType==3?Ss(u,0,a?0:1):u.nodeType==1?u:null:null;if(h)return ul(io(h,-1),!0)}return ul(io(r.nodeType==3?Ss(r):r,-n),n>=0)}function ul(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Yp(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function tN(t,e,n){let r=t.state,s=t.root.activeElement;r!=e&&t.updateState(e),s!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),s!=t.dom&&s&&s.focus()}}function y3(t,e,n){let r=e.selection,s=n=="up"?r.$from:r.$to;return tN(t,e,()=>{let{node:o}=t.docView.domFromPos(s.pos,n=="up"?-1:1);for(;;){let c=t.docView.nearestDesc(o,!0);if(!c)break;if(c.node.isBlock){o=c.contentDOM||c.dom;break}o=c.dom.parentNode}let a=eN(t,s.pos,1);for(let c=o.firstChild;c;c=c.nextSibling){let u;if(c.nodeType==1)u=c.getClientRects();else if(c.nodeType==3)u=Ss(c,0,c.nodeValue.length).getClientRects();else continue;for(let h=0;h<u.length;h++){let p=u[h];if(p.bottom>p.top+1&&(n=="up"?a.top-p.top>(p.bottom-a.top)*2:p.bottom-a.bottom>(a.bottom-p.top)*2))return!1}}return!0})}const v3=/[\u0590-\u08ac]/;function x3(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let s=r.parentOffset,o=!s,a=s==r.parent.content.size,c=t.domSelection();return c?!v3.test(r.parent.textContent)||!c.modify?n=="left"||n=="backward"?o:a:tN(t,e,()=>{let{focusNode:u,focusOffset:h,anchorNode:p,anchorOffset:m}=t.domSelectionRange(),y=c.caretBidiLevel;c.modify("move",n,"character");let v=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:w,focusOffset:b}=t.domSelectionRange(),S=w&&!v.contains(w.nodeType==1?w:w.parentNode)||u==w&&h==b;try{c.collapse(p,m),u&&(u!=p||h!=m)&&c.extend&&c.extend(u,h)}catch{}return y!=null&&(c.caretBidiLevel=y),S}):r.pos==r.start()||r.pos==r.end()}let Z1=null,eb=null,tb=!1;function b3(t,e,n){return Z1==e&&eb==n?tb:(Z1=e,eb=n,tb=n=="up"||n=="down"?y3(t,e,n):x3(t,e,n))}const fr=0,nb=1,Zo=2,Qr=3;class cc{constructor(e,n,r,s){this.parent=e,this.children=n,this.dom=r,this.contentDOM=s,this.dirty=fr,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let s=this.children[n];if(s==e)return r;r+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,a;if(e==this.contentDOM)o=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((a=o.pmViewDesc)&&a.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(a)+a.size:this.posAtStart}else{let o,a;if(e==this.contentDOM)o=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((a=o.pmViewDesc)&&a.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(a):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=n>an(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=e;;o=o.parentNode){if(o==this.dom){s=!1;break}if(o.previousSibling)break}if(s==null&&n==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){s=!0;break}if(o.nextSibling)break}}return s??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,s=e;s;s=s.parentNode){let o=this.getDesc(s),a;if(o&&(!n||o.node))if(r&&(a=o.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))r=!1;else return o}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let s=e;s;s=s.parentNode){let o=this.getDesc(s);if(o)return o.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let s=this.children[n],o=r+s.size;if(r==e&&o!=r){for(;!s.border&&s.children.length;)for(let a=0;a<s.children.length;a++){let c=s.children[a];if(c.size){s=c;break}}return s}if(e<o)return s.descAt(e-r-s.border);r=o}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,s=0;for(let o=0;r<this.children.length;r++){let a=this.children[r],c=o+a.size;if(c>e||a instanceof rN){s=e-o;break}o=c}if(s)return this.children[r].domFromPos(s-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof nN&&o.side>=0;r--);if(n<=0){let o,a=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,a=!1);return o&&n&&a&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?an(o.dom)+1:0}}else{let o,a=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,a=!1);return o&&a&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?an(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,o=-1;for(let a=r,c=0;;c++){let u=this.children[c],h=a+u.size;if(s==-1&&e<=h){let p=a+u.border;if(e>=p&&n<=h-u.border&&u.node&&u.contentDOM&&this.contentDOM.contains(u.contentDOM))return u.parseRange(e,n,p);e=a;for(let m=c;m>0;m--){let y=this.children[m-1];if(y.size&&y.dom.parentNode==this.contentDOM&&!y.emptyChildAt(1)){s=an(y.dom)+1;break}e-=y.size}s==-1&&(s=0)}if(s>-1&&(h>n||c==this.children.length-1)){n=h;for(let p=c+1;p<this.children.length;p++){let m=this.children[p];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){o=an(m.dom);break}n+=m.size}o==-1&&(o=this.contentDOM.childNodes.length);break}a=h}return{node:this.contentDOM,from:e,to:n,fromOffset:s,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,s=!1){let o=Math.min(e,n),a=Math.max(e,n);for(let v=0,w=0;v<this.children.length;v++){let b=this.children[v],S=w+b.size;if(o>w&&a<S)return b.setSelection(e-w-b.border,n-w-b.border,r,s);w=S}let c=this.domFromPos(e,e?-1:1),u=n==e?c:this.domFromPos(n,n?-1:1),h=r.root.getSelection(),p=r.domSelectionRange(),m=!1;if((dr||Cn)&&e==n){let{node:v,offset:w}=c;if(v.nodeType==3){if(m=!!(w&&v.nodeValue[w-1]==`
`),m&&w==v.nodeValue.length)for(let b=v,S;b;b=b.parentNode){if(S=b.nextSibling){S.nodeName=="BR"&&(c=u={node:S.parentNode,offset:an(S)+1});break}let N=b.pmViewDesc;if(N&&N.node&&N.node.isBlock)break}}else{let b=v.childNodes[w-1];m=b&&(b.nodeName=="BR"||b.contentEditable=="false")}}if(dr&&p.focusNode&&p.focusNode!=u.node&&p.focusNode.nodeType==1){let v=p.focusNode.childNodes[p.focusOffset];v&&v.contentEditable=="false"&&(s=!0)}if(!(s||m&&Cn)&&hi(c.node,c.offset,p.anchorNode,p.anchorOffset)&&hi(u.node,u.offset,p.focusNode,p.focusOffset))return;let y=!1;if((h.extend||e==n)&&!(m&&dr)){h.collapse(c.node,c.offset);try{e!=n&&h.extend(u.node,u.offset),y=!0}catch{}}if(!y){if(e>n){let w=c;c=u,u=w}let v=document.createRange();v.setEnd(u.node,u.offset),v.setStart(c.node,c.offset),h.removeAllRanges(),h.addRange(v)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,s=0;s<this.children.length;s++){let o=this.children[s],a=r+o.size;if(r==a?e<=a&&n>=r:e<a&&n>r){let c=r+o.border,u=a-o.border;if(e>=c&&n<=u){this.dirty=e==r||n==a?Zo:nb,e==c&&n==u&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=Qr:o.markDirty(e-c,n-c);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?Zo:Qr}r=a}this.dirty=Zo}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Zo:nb;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class nN extends cc{constructor(e,n,r,s){let o,a=n.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!o)return s;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(a.nodeType!=1){let c=document.createElement("span");c.appendChild(a),a=c}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=n,this.widget=n,o=this}matchesWidget(e){return this.dirty==fr&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class w3 extends cc{constructor(e,n,r,s){super(e,[],n,null),this.textDOM=r,this.text=s}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class pi extends cc{constructor(e,n,r,s,o){super(e,[],r,s),this.mark=n,this.spec=o}static create(e,n,r,s){let o=s.nodeViews[n.type.name],a=o&&o(n,s,r);return(!a||!a.dom)&&(a=bi.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new pi(e,n,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&Qr||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Qr&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=fr){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=fr}}slice(e,n,r){let s=pi.create(this.parent,this.mark,!0,r),o=this.children,a=this.size;n<a&&(o=Um(o,n,a,r)),e>0&&(o=Um(o,0,e,r));for(let c=0;c<o.length;c++)o[c].parent=s;return s.children=o,s}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class ko extends cc{constructor(e,n,r,s,o,a,c,u,h){super(e,[],o,a),this.node=n,this.outerDeco=r,this.innerDeco=s,this.nodeDOM=c}static create(e,n,r,s,o,a){let c=o.nodeViews[n.type.name],u,h=c&&c(n,o,()=>{if(!u)return a;if(u.parent)return u.parent.posBeforeChild(u)},r,s),p=h&&h.dom,m=h&&h.contentDOM;if(n.isText){if(!p)p=document.createTextNode(n.text);else if(p.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else p||({dom:p,contentDOM:m}=bi.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!m&&!n.isText&&p.nodeName!="BR"&&(p.hasAttribute("contenteditable")||(p.contentEditable="false"),n.type.spec.draggable&&(p.draggable=!0));let y=p;return p=iN(p,r,n),h?u=new k3(e,n,r,s,p,m||null,y,h,o,a+1):n.isText?new xf(e,n,r,s,p,y,o):new ko(e,n,r,s,p,m||null,y,o,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>ne.empty)}return e}matchesNode(e,n,r){return this.dirty==fr&&e.eq(this.node)&&cd(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,s=n,o=e.composing?this.localCompositionInfo(e,n):null,a=o&&o.pos>-1?o:null,c=o&&o.pos<0,u=new C3(this,a&&a.node,e);T3(this.node,this.innerDeco,(h,p,m)=>{h.spec.marks?u.syncToMarks(h.spec.marks,r,e):h.type.side>=0&&!m&&u.syncToMarks(p==this.node.childCount?dt.none:this.node.child(p).marks,r,e),u.placeWidget(h,e,s)},(h,p,m,y)=>{u.syncToMarks(h.marks,r,e);let v;u.findNodeMatch(h,p,m,y)||c&&e.state.selection.from>s&&e.state.selection.to<s+h.nodeSize&&(v=u.findIndexWithChild(o.node))>-1&&u.updateNodeAt(h,p,m,v,e)||u.updateNextNode(h,p,m,e,y,s)||u.addNode(h,p,m,e,s),s+=h.nodeSize}),u.syncToMarks([],r,e),this.node.isTextblock&&u.addTextblockHacks(),u.destroyRest(),(u.changed||this.dirty==Zo)&&(a&&this.protectLocalComposition(e,a),sN(this.contentDOM,this.children,e),pa&&M3(this.dom))}localCompositionInfo(e,n){let{from:r,to:s}=e.state.selection;if(!(e.state.selection instanceof $e)||r<n||s>n+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let a=o.nodeValue,c=j3(this.node.content,a,r-n,s-n);return c<0?null:{node:o,pos:c,text:a}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:s}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let a=new w3(this,o,n,s);e.input.compositionNodes.push(a),this.children=Um(this.children,r,r+s.length,e,a)}update(e,n,r,s){return this.dirty==Qr||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,s),!0)}updateInner(e,n,r,s){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=fr}updateOuterDeco(e){if(cd(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=oN(this.dom,this.nodeDOM,Hm(this.outerDeco,this.node,n),Hm(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function rb(t,e,n,r,s){iN(r,e,t);let o=new ko(void 0,t,e,n,r,r,r,s,0);return o.contentDOM&&o.updateChildren(s,0),o}class xf extends ko{constructor(e,n,r,s,o,a,c){super(e,n,r,s,o,null,a,c,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,s){return this.dirty==Qr||this.dirty!=fr&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=fr||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=fr,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let s=this.node.cut(e,n),o=document.createTextNode(s.text);return new xf(this.parent,s,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Qr)}get domAtom(){return!1}isText(e){return this.node.text==e}}class rN extends cc{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==fr&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class k3 extends ko{constructor(e,n,r,s,o,a,c,u,h,p){super(e,n,r,s,o,a,c,h,p),this.spec=u}update(e,n,r,s){if(this.dirty==Qr)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let o=this.spec.update(e,n,r);return o&&this.updateInner(e,n,r,s),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,s){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function sN(t,e,n){let r=t.firstChild,s=!1;for(let o=0;o<e.length;o++){let a=e[o],c=a.dom;if(c.parentNode==t){for(;c!=r;)r=sb(r),s=!0;r=r.nextSibling}else s=!0,t.insertBefore(c,r);if(a instanceof pi){let u=r?r.previousSibling:t.lastChild;sN(a.contentDOM,a.children,n),r=u?u.nextSibling:t.firstChild}}for(;r;)r=sb(r),s=!0;s&&n.trackWrites==t&&(n.trackWrites=null)}const Tl=function(t){t&&(this.nodeName=t)};Tl.prototype=Object.create(null);const ei=[new Tl];function Hm(t,e,n){if(t.length==0)return ei;let r=n?ei[0]:new Tl,s=[r];for(let o=0;o<t.length;o++){let a=t[o].type.attrs;if(a){a.nodeName&&s.push(r=new Tl(a.nodeName));for(let c in a){let u=a[c];u!=null&&(n&&s.length==1&&s.push(r=new Tl(e.isInline?"span":"div")),c=="class"?r.class=(r.class?r.class+" ":"")+u:c=="style"?r.style=(r.style?r.style+";":"")+u:c!="nodeName"&&(r[c]=u))}}}return s}function oN(t,e,n,r){if(n==ei&&r==ei)return e;let s=e;for(let o=0;o<r.length;o++){let a=r[o],c=n[o];if(o){let u;c&&c.nodeName==a.nodeName&&s!=t&&(u=s.parentNode)&&u.nodeName.toLowerCase()==a.nodeName||(u=document.createElement(a.nodeName),u.pmIsDeco=!0,u.appendChild(s),c=ei[0]),s=u}S3(s,c||ei[0],a)}return s}function S3(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],s=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)s.indexOf(r[o])==-1&&t.classList.remove(r[o]);for(let o=0;o<s.length;o++)r.indexOf(s[o])==-1&&t.classList.add(s[o]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=r.exec(e.style);)t.style.removeProperty(s[1])}n.style&&(t.style.cssText+=n.style)}}function iN(t,e,n){return oN(t,t,ei,Hm(e,n,t.nodeType!=1))}function cd(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function sb(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class C3{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=N3(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let s=0,o=this.stack.length>>1,a=Math.min(o,e.length);for(;s<a&&(s==o-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<o;)this.destroyRest(),this.top.dirty=fr,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let c=-1;for(let u=this.index;u<Math.min(this.index+3,this.top.children.length);u++){let h=this.top.children[u];if(h.matchesMark(e[o])&&!this.isLocked(h.dom)){c=u;break}}if(c>-1)c>this.index&&(this.changed=!0,this.destroyBetween(this.index,c)),this.top=this.top.children[this.index];else{let u=pi.create(this.top,e[o],n,r);this.top.children.splice(this.index,0,u),this.top=u,this.changed=!0}this.index=0,o++}}findNodeMatch(e,n,r,s){let o=-1,a;if(s>=this.preMatch.index&&(a=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&a.matchesNode(e,n,r))o=this.top.children.indexOf(a,this.index);else for(let c=this.index,u=Math.min(this.top.children.length,c+5);c<u;c++){let h=this.top.children[c];if(h.matchesNode(e,n,r)&&!this.preMatch.matched.has(h)){o=c;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,n,r,s,o){let a=this.top.children[s];return a.dirty==Qr&&a.dom==a.contentDOM&&(a.dirty=Zo),a.update(e,n,r,o)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==r)return s}return-1}e=n}}updateNextNode(e,n,r,s,o,a){for(let c=this.index;c<this.top.children.length;c++){let u=this.top.children[c];if(u instanceof ko){let h=this.preMatch.matched.get(u);if(h!=null&&h!=o)return!1;let p=u.dom,m,y=this.isLocked(p)&&!(e.isText&&u.node&&u.node.isText&&u.nodeDOM.nodeValue==e.text&&u.dirty!=Qr&&cd(n,u.outerDeco));if(!y&&u.update(e,n,r,s))return this.destroyBetween(this.index,c),u.dom!=p&&(this.changed=!0),this.index++,!0;if(!y&&(m=this.recreateWrapper(u,e,n,r,s,a)))return this.destroyBetween(this.index,c),this.top.children[this.index]=m,m.contentDOM&&(m.dirty=Zo,m.updateChildren(s,a+1),m.dirty=fr),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,s,o,a){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!cd(r,e.outerDeco)||!s.eq(e.innerDeco))return null;let c=ko.create(this.top,n,r,s,o,a);if(c.contentDOM){c.children=e.children,e.children=[];for(let u of c.children)u.parent=c}return e.destroy(),c}addNode(e,n,r,s,o){let a=ko.create(this.top,e,n,r,s,o);a.contentDOM&&a.updateChildren(s,o+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,n,r){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let o=new nN(this.top,e,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof pi;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof xf)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Cn||mn)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let s=new rN(this.top,[],r,null);n!=this.top?n.children.push(s):n.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function N3(t,e){let n=e,r=n.children.length,s=t.childCount,o=new Map,a=[];e:for(;s>0;){let c;for(;;)if(r){let h=n.children[r-1];if(h instanceof pi)n=h,r=h.children.length;else{c=h,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let u=c.node;if(u){if(u!=t.child(s-1))break;--s,o.set(c,s),a.push(c)}}return{index:s,matched:o,matches:a.reverse()}}function E3(t,e){return t.type.side-e.type.side}function T3(t,e,n,r){let s=e.locals(t),o=0;if(s.length==0){for(let h=0;h<t.childCount;h++){let p=t.child(h);r(p,s,e.forChild(o,p),h),o+=p.nodeSize}return}let a=0,c=[],u=null;for(let h=0;;){let p,m;for(;a<s.length&&s[a].to==o;){let S=s[a++];S.widget&&(p?(m||(m=[p])).push(S):p=S)}if(p)if(m){m.sort(E3);for(let S=0;S<m.length;S++)n(m[S],h,!!u)}else n(p,h,!!u);let y,v;if(u)v=-1,y=u,u=null;else if(h<t.childCount)v=h,y=t.child(h++);else break;for(let S=0;S<c.length;S++)c[S].to<=o&&c.splice(S--,1);for(;a<s.length&&s[a].from<=o&&s[a].to>o;)c.push(s[a++]);let w=o+y.nodeSize;if(y.isText){let S=w;a<s.length&&s[a].from<S&&(S=s[a].from);for(let N=0;N<c.length;N++)c[N].to<S&&(S=c[N].to);S<w&&(u=y.cut(S-o),y=y.cut(0,S-o),w=S,v=-1)}else for(;a<s.length&&s[a].to<w;)a++;let b=y.isInline&&!y.isLeaf?c.filter(S=>!S.inline):c.slice();r(y,b,e.forChild(o,y),v),o=w}}function M3(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function j3(t,e,n,r){for(let s=0,o=0;s<t.childCount&&o<=r;){let a=t.child(s++),c=o;if(o+=a.nodeSize,!a.isText)continue;let u=a.text;for(;s<t.childCount;){let h=t.child(s++);if(o+=h.nodeSize,!h.isText)break;u+=h.text}if(o>=n){if(o>=r&&u.slice(r-e.length-c,r-c)==e)return r-e.length;let h=c<r?u.lastIndexOf(e,r-c-1):-1;if(h>=0&&h+e.length+c>=n)return c+h;if(n==r&&u.length>=r+e.length-c&&u.slice(r-c,r-c+e.length)==e)return r}}return-1}function Um(t,e,n,r,s){let o=[];for(let a=0,c=0;a<t.length;a++){let u=t[a],h=c,p=c+=u.size;h>=n||p<=e?o.push(u):(h<e&&o.push(u.slice(0,e-h,r)),s&&(o.push(s),s=void 0),p>n&&o.push(u.slice(n-h,u.size,r)))}return o}function uy(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let s=t.docView.nearestDesc(n.focusNode),o=s&&s.size==0,a=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let c=r.resolve(a),u,h;if(vf(n)){for(u=a;s&&!s.node;)s=s.parent;let m=s.node;if(s&&m.isAtom&&Re.isSelectable(m)&&s.parent&&!(m.isInline&&t3(n.focusNode,n.focusOffset,s.dom))){let y=s.posBefore;h=new Re(a==y?c:r.resolve(y))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let m=a,y=a;for(let v=0;v<n.rangeCount;v++){let w=n.getRangeAt(v);m=Math.min(m,t.docView.posFromDOM(w.startContainer,w.startOffset,1)),y=Math.max(y,t.docView.posFromDOM(w.endContainer,w.endOffset,-1))}if(m<0)return null;[u,a]=y==t.state.selection.anchor?[y,m]:[m,y],c=r.resolve(a)}else u=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(u<0)return null}let p=r.resolve(u);if(!h){let m=e=="pointer"||t.state.selection.head<c.pos&&!o?1:-1;h=dy(t,p,c,m)}return h}function aN(t){return t.editable?t.hasFocus():cN(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Ms(t,e=!1){let n=t.state.selection;if(lN(t,n),!!aN(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&mn){let r=t.domSelectionRange(),s=t.domObserver.currentSelection;if(r.anchorNode&&s.anchorNode&&hi(r.anchorNode,r.anchorOffset,s.anchorNode,s.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)D3(t);else{let{anchor:r,head:s}=n,o,a;ob&&!(n instanceof $e)&&(n.$from.parent.inlineContent||(o=ib(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(a=ib(t,n.to))),t.docView.setSelection(r,s,t,e),ob&&(o&&ab(o),a&&ab(a)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&A3(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const ob=Cn||mn&&YC<63;function ib(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),s=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(Cn&&s&&s.contentEditable=="false")return Jp(s);if((!s||s.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(s)return Jp(s);if(o)return Jp(o)}}function Jp(t){return t.contentEditable="true",Cn&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function ab(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function A3(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,s=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=s)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!aN(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function D3(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,r=n.nodeName=="IMG";r?e.collapse(n.parentNode,an(n)+1):e.collapse(n,0),!r&&!t.state.selection.visible&&$n&&wo<=11&&(n.disabled=!0,n.disabled=!1)}function lN(t,e){if(e instanceof Re){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(lb(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else lb(t)}function lb(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function dy(t,e,n,r){return t.someProp("createSelectionBetween",s=>s(t,e,n))||$e.between(e,n,r)}function cb(t){return t.editable&&!t.hasFocus()?!1:cN(t)}function cN(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function R3(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return hi(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Wm(t,e){let{$anchor:n,$head:r}=t.selection,s=e>0?n.max(r):n.min(r),o=s.parent.inlineContent?s.depth?t.doc.resolve(e>0?s.after():s.before()):null:s;return o&&Ve.findFrom(o,e)}function lo(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function ub(t,e,n){let r=t.state.selection;if(r instanceof $e)if(n.indexOf("s")>-1){let{$head:s}=r,o=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let a=t.state.doc.resolve(s.pos+o.nodeSize*(e<0?-1:1));return lo(t,new $e(r.$anchor,a))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let s=Wm(t.state,e);return s&&s instanceof Re?lo(t,s):!1}else if(!(cr&&n.indexOf("m")>-1)){let s=r.$head,o=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,a;if(!o||o.isText)return!1;let c=e<0?s.pos-o.nodeSize:s.pos;return o.isAtom||(a=t.docView.descAt(c))&&!a.contentDOM?Re.isSelectable(o)?lo(t,new Re(e<0?t.state.doc.resolve(s.pos-o.nodeSize):s)):lc?lo(t,new $e(t.state.doc.resolve(e<0?c:c+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Re&&r.node.isInline)return lo(t,new $e(e>0?r.$to:r.$from));{let s=Wm(t.state,e);return s?lo(t,s):!1}}}function ud(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Ml(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Gi(t,e){return e<0?O3(t):I3(t)}function O3(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s,o,a=!1;for(dr&&n.nodeType==1&&r<ud(n)&&Ml(n.childNodes[r],-1)&&(a=!0);;)if(r>0){if(n.nodeType!=1)break;{let c=n.childNodes[r-1];if(Ml(c,-1))s=n,o=--r;else if(c.nodeType==3)n=c,r=n.nodeValue.length;else break}}else{if(uN(n))break;{let c=n.previousSibling;for(;c&&Ml(c,-1);)s=n.parentNode,o=an(c),c=c.previousSibling;if(c)n=c,r=ud(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}a?Km(t,n,r):s&&Km(t,s,o)}function I3(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s=ud(n),o,a;for(;;)if(r<s){if(n.nodeType!=1)break;let c=n.childNodes[r];if(Ml(c,1))o=n,a=++r;else break}else{if(uN(n))break;{let c=n.nextSibling;for(;c&&Ml(c,1);)o=c.parentNode,a=an(c)+1,c=c.nextSibling;if(c)n=c,r=0,s=ud(n);else{if(n=n.parentNode,n==t.dom)break;r=s=0}}}o&&Km(t,o,a)}function uN(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function P3(t,e){for(;t&&e==t.childNodes.length&&!ac(t);)e=an(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function L3(t,e){for(;t&&!e&&!ac(t);)e=an(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function Km(t,e,n){if(e.nodeType!=3){let o,a;(a=P3(e,n))?(e=a,n=0):(o=L3(e,n))&&(e=o,n=o.nodeValue.length)}let r=t.domSelection();if(!r)return;if(vf(r)){let o=document.createRange();o.setEnd(e,n),o.setStart(e,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:s}=t;setTimeout(()=>{t.state==s&&Ms(t)},50)}function db(t,e){let n=t.state.doc.resolve(e);if(!(mn||s3)&&n.parent.inlineContent){let s=t.coordsAtPos(e);if(e>n.start()){let o=t.coordsAtPos(e-1),a=(o.top+o.bottom)/2;if(a>s.top&&a<s.bottom&&Math.abs(o.left-s.left)>1)return o.left<s.left?"ltr":"rtl"}if(e<n.end()){let o=t.coordsAtPos(e+1),a=(o.top+o.bottom)/2;if(a>s.top&&a<s.bottom&&Math.abs(o.left-s.left)>1)return o.left>s.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function fb(t,e,n){let r=t.state.selection;if(r instanceof $e&&!r.empty||n.indexOf("s")>-1||cr&&n.indexOf("m")>-1)return!1;let{$from:s,$to:o}=r;if(!s.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let a=Wm(t.state,e);if(a&&a instanceof Re)return lo(t,a)}if(!s.parent.inlineContent){let a=e<0?s:o,c=r instanceof Gn?Ve.near(a,e):Ve.findFrom(a,e);return c?lo(t,c):!1}return!1}function hb(t,e){if(!(t.state.selection instanceof $e))return!0;let{$head:n,$anchor:r,empty:s}=t.state.selection;if(!n.sameParent(r))return!0;if(!s)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let a=t.state.tr;return e<0?a.delete(n.pos-o.nodeSize,n.pos):a.delete(n.pos,n.pos+o.nodeSize),t.dispatch(a),!0}return!1}function pb(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function _3(t){if(!Cn||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;pb(t,r,"true"),setTimeout(()=>pb(t,r,"false"),20)}return!1}function z3(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function $3(t,e){let n=e.keyCode,r=z3(e);if(n==8||cr&&n==72&&r=="c")return hb(t,-1)||Gi(t,-1);if(n==46&&!e.shiftKey||cr&&n==68&&r=="c")return hb(t,1)||Gi(t,1);if(n==13||n==27)return!0;if(n==37||cr&&n==66&&r=="c"){let s=n==37?db(t,t.state.selection.from)=="ltr"?-1:1:-1;return ub(t,s,r)||Gi(t,s)}else if(n==39||cr&&n==70&&r=="c"){let s=n==39?db(t,t.state.selection.from)=="ltr"?1:-1:1;return ub(t,s,r)||Gi(t,s)}else{if(n==38||cr&&n==80&&r=="c")return fb(t,-1,r)||Gi(t,-1);if(n==40||cr&&n==78&&r=="c")return _3(t)||fb(t,1,r)||Gi(t,1);if(r==(cr?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function fy(t,e){t.someProp("transformCopied",v=>{e=v(e,t)});let n=[],{content:r,openStart:s,openEnd:o}=e;for(;s>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){s--,o--;let v=r.firstChild;n.push(v.type.name,v.attrs!=v.type.defaultAttrs?v.attrs:null),r=v.content}let a=t.someProp("clipboardSerializer")||bi.fromSchema(t.state.schema),c=gN(),u=c.createElement("div");u.appendChild(a.serializeFragment(r,{document:c}));let h=u.firstChild,p,m=0;for(;h&&h.nodeType==1&&(p=mN[h.nodeName.toLowerCase()]);){for(let v=p.length-1;v>=0;v--){let w=c.createElement(p[v]);for(;u.firstChild;)w.appendChild(u.firstChild);u.appendChild(w),m++}h=u.firstChild}h&&h.nodeType==1&&h.setAttribute("data-pm-slice",`${s} ${o}${m?` -${m}`:""} ${JSON.stringify(n)}`);let y=t.someProp("clipboardTextSerializer",v=>v(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:u,text:y,slice:e}}function dN(t,e,n,r,s){let o=s.parent.type.spec.code,a,c;if(!n&&!e)return null;let u=!!e&&(r||o||!n);if(u){if(t.someProp("transformPastedText",y=>{e=y(e,o||r,t)}),o)return c=new ye(ne.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",y=>{c=y(c,t,!0)}),c;let m=t.someProp("clipboardTextParser",y=>y(e,s,r,t));if(m)c=m;else{let y=s.marks(),{schema:v}=t.state,w=bi.fromSchema(v);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(b=>{let S=a.appendChild(document.createElement("p"));b&&S.appendChild(w.serializeNode(v.text(b,y)))})}}else t.someProp("transformPastedHTML",m=>{n=m(n,t)}),a=H3(n),lc&&U3(a);let h=a&&a.querySelector("[data-pm-slice]"),p=h&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(h.getAttribute("data-pm-slice")||"");if(p&&p[3])for(let m=+p[3];m>0;m--){let y=a.firstChild;for(;y&&y.nodeType!=1;)y=y.nextSibling;if(!y)break;a=y}if(c||(c=(t.someProp("clipboardParser")||t.someProp("domParser")||bo.fromSchema(t.state.schema)).parseSlice(a,{preserveWhitespace:!!(u||p),context:s,ruleFromNode(y){return y.nodeName=="BR"&&!y.nextSibling&&y.parentNode&&!F3.test(y.parentNode.nodeName)?{ignore:!0}:null}})),p)c=W3(mb(c,+p[1],+p[2]),p[4]);else if(c=ye.maxOpen(B3(c.content,s),!0),c.openStart||c.openEnd){let m=0,y=0;for(let v=c.content.firstChild;m<c.openStart&&!v.type.spec.isolating;m++,v=v.firstChild);for(let v=c.content.lastChild;y<c.openEnd&&!v.type.spec.isolating;y++,v=v.lastChild);c=mb(c,m,y)}return t.someProp("transformPasted",m=>{c=m(c,t,u)}),c}const F3=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function B3(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let s=e.node(n).contentMatchAt(e.index(n)),o,a=[];if(t.forEach(c=>{if(!a)return;let u=s.findWrapping(c.type),h;if(!u)return a=null;if(h=a.length&&o.length&&hN(u,o,c,a[a.length-1],0))a[a.length-1]=h;else{a.length&&(a[a.length-1]=pN(a[a.length-1],o.length));let p=fN(c,u);a.push(p),s=s.matchType(p.type),o=u}}),a)return ne.from(a)}return t}function fN(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,ne.from(t));return t}function hN(t,e,n,r,s){if(s<t.length&&s<e.length&&t[s]==e[s]){let o=hN(t,e,n,r.lastChild,s+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(s==t.length-1?n.type:t[s+1]))return r.copy(r.content.append(ne.from(fN(n,t,s+1))))}}function pN(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,pN(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(ne.empty,!0);return t.copy(n.append(r))}function qm(t,e,n,r,s,o){let a=e<0?t.firstChild:t.lastChild,c=a.content;return t.childCount>1&&(o=0),s<r-1&&(c=qm(c,e,n,r,s+1,o)),s>=n&&(c=e<0?a.contentMatchAt(0).fillBefore(c,o<=s).append(c):c.append(a.contentMatchAt(a.childCount).fillBefore(ne.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,a.copy(c))}function mb(t,e,n){return e<t.openStart&&(t=new ye(qm(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new ye(qm(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const mN={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let gb=null;function gN(){return gb||(gb=document.implementation.createHTMLDocument("title"))}let Xp=null;function V3(t){let e=window.trustedTypes;return e?(Xp||(Xp=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),Xp.createHTML(t)):t}function H3(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=gN().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),s;if((s=r&&mN[r[1].toLowerCase()])&&(t=s.map(o=>"<"+o+">").join("")+t+s.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=V3(t),s)for(let o=0;o<s.length;o++)n=n.querySelector(s[o])||n;return n}function U3(t){let e=t.querySelectorAll(mn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function W3(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:s,openStart:o,openEnd:a}=t;for(let c=r.length-2;c>=0;c-=2){let u=n.nodes[r[c]];if(!u||u.hasRequiredAttrs())break;s=ne.from(u.create(r[c+1],s)),o++,a++}return new ye(s,o,a)}const Nn={},En={},K3={touchstart:!0,touchmove:!0};class q3{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function G3(t){for(let e in Nn){let n=Nn[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{J3(t,r)&&!hy(t,r)&&(t.editable||!(r.type in En))&&n(t,r)},K3[e]?{passive:!0}:void 0)}Cn&&t.dom.addEventListener("input",()=>null),Gm(t)}function yo(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function Y3(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function Gm(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>hy(t,r))})}function hy(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function J3(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function X3(t,e){!hy(t,e)&&Nn[e.type]&&(t.editable||!(e.type in En))&&Nn[e.type](t,e)}En.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!vN(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Ns&&mn&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),pa&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",s=>s(t,Qo(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||$3(t,n)?n.preventDefault():yo(t,"key")};En.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};En.keypress=(t,e)=>{let n=e;if(vN(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||cr&&n.metaKey)return;if(t.someProp("handleKeyPress",s=>s(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof $e)||!r.$from.sameParent(r.$to)){let s=String.fromCharCode(n.charCode),o=()=>t.state.tr.insertText(s).scrollIntoView();!/[\r\n]/.test(s)&&!t.someProp("handleTextInput",a=>a(t,r.$from.pos,r.$to.pos,s,o))&&t.dispatch(o()),n.preventDefault()}};function bf(t){return{left:t.clientX,top:t.clientY}}function Q3(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function py(t,e,n,r,s){if(r==-1)return!1;let o=t.state.doc.resolve(r);for(let a=o.depth+1;a>0;a--)if(t.someProp(e,c=>a>o.depth?c(t,n,o.nodeAfter,o.before(a),s,!0):c(t,n,o.node(a),o.before(a),s,!1)))return!0;return!1}function ia(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function Z3(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&Re.isSelectable(r)?(ia(t,new Re(n)),!0):!1}function e5(t,e){if(e==-1)return!1;let n=t.state.selection,r,s;n instanceof Re&&(r=n.node);let o=t.state.doc.resolve(e);for(let a=o.depth+1;a>0;a--){let c=a>o.depth?o.nodeAfter:o.node(a);if(Re.isSelectable(c)){r&&n.$from.depth>0&&a>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?s=o.before(n.$from.depth):s=o.before(a);break}}return s!=null?(ia(t,Re.create(t.state.doc,s)),!0):!1}function t5(t,e,n,r,s){return py(t,"handleClickOn",e,n,r)||t.someProp("handleClick",o=>o(t,e,r))||(s?e5(t,n):Z3(t,n))}function n5(t,e,n,r){return py(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",s=>s(t,e,r))}function r5(t,e,n,r){return py(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",s=>s(t,e,r))||s5(t,n,r)}function s5(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(ia(t,$e.create(r,0,r.content.size)),!0):!1;let s=r.resolve(e);for(let o=s.depth+1;o>0;o--){let a=o>s.depth?s.nodeAfter:s.node(o),c=s.before(o);if(a.inlineContent)ia(t,$e.create(r,c+1,c+1+a.content.size));else if(Re.isSelectable(a))ia(t,Re.create(r,c));else continue;return!0}}function my(t){return dd(t)}const yN=cr?"metaKey":"ctrlKey";Nn.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=my(t),s=Date.now(),o="singleClick";s-t.input.lastClick.time<500&&Q3(n,t.input.lastClick)&&!n[yN]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:s,x:n.clientX,y:n.clientY,type:o,button:n.button};let a=t.posAtCoords(bf(n));a&&(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new o5(t,a,n,!!r)):(o=="doubleClick"?n5:r5)(t,a.pos,a.inside,n)?n.preventDefault():yo(t,"pointer"))};class o5{constructor(e,n,r,s){this.view=e,this.pos=n,this.event=r,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[yN],this.allowDefault=r.shiftKey;let o,a;if(n.inside>-1)o=e.state.doc.nodeAt(n.inside),a=n.inside;else{let p=e.state.doc.resolve(n.pos);o=p.parent,a=p.depth?p.before():0}const c=s?null:r.target,u=c?e.docView.nearestDesc(c,!0):null;this.target=u&&u.nodeDOM.nodeType==1?u.nodeDOM:null;let{selection:h}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||h instanceof Re&&h.from<=a&&h.to>a)&&(this.mightDrag={node:o,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&dr&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),yo(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Ms(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(bf(e))),this.updateAllowDefault(e),this.allowDefault||!n?yo(this.view,"pointer"):t5(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Cn&&this.mightDrag&&!this.mightDrag.node.isAtom||mn&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(ia(this.view,Ve.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):yo(this.view,"pointer")}move(e){this.updateAllowDefault(e),yo(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Nn.touchstart=t=>{t.input.lastTouch=Date.now(),my(t),yo(t,"pointer")};Nn.touchmove=t=>{t.input.lastTouch=Date.now(),yo(t,"pointer")};Nn.contextmenu=t=>my(t);function vN(t,e){return t.composing?!0:Cn&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const i5=Ns?5e3:-1;En.compositionstart=En.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof $e&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),dd(t,!0),t.markCursor=null;else if(dd(t,!e.selection.empty),dr&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let s=r.focusNode,o=r.focusOffset;s&&s.nodeType==1&&o!=0;){let a=o<0?s.lastChild:s.childNodes[o-1];if(!a)break;if(a.nodeType==3){let c=t.domSelection();c&&c.collapse(a,a.nodeValue.length);break}else s=a,o=-1}}t.input.composing=!0}xN(t,i5)};En.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,xN(t,20))};function xN(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>dd(t),e))}function bN(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=l5());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function a5(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=ZL(e.focusNode,e.focusOffset),r=e3(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let s=r.pmViewDesc,o=t.domObserver.lastChangedTextNode;if(n==o||r==o)return o;if(!s||!s.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let a=n.pmViewDesc;if(!(!a||!a.isText(n.nodeValue)))return r}}return n||r}function l5(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function dd(t,e=!1){if(!(Ns&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),bN(t),e||t.docView&&t.docView.dirty){let n=uy(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function c5(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),s=document.createRange();s.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(s),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Kl=$n&&wo<15||pa&&o3<604;Nn.copy=En.cut=(t,e)=>{let n=e,r=t.state.selection,s=n.type=="cut";if(r.empty)return;let o=Kl?null:n.clipboardData,a=r.content(),{dom:c,text:u}=fy(t,a);o?(n.preventDefault(),o.clearData(),o.setData("text/html",c.innerHTML),o.setData("text/plain",u)):c5(t,c),s&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function u5(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function d5(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let s=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?ql(t,r.value,null,s,e):ql(t,r.textContent,r.innerHTML,s,e)},50)}function ql(t,e,n,r,s){let o=dN(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",u=>u(t,s,o||ye.empty)))return!0;if(!o)return!1;let a=u5(o),c=a?t.state.tr.replaceSelectionWith(a,r):t.state.tr.replaceSelection(o);return t.dispatch(c.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function wN(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}En.paste=(t,e)=>{let n=e;if(t.composing&&!Ns)return;let r=Kl?null:n.clipboardData,s=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&ql(t,wN(r),r.getData("text/html"),s,n)?n.preventDefault():d5(t,n)};class kN{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const f5=cr?"altKey":"ctrlKey";function SN(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[f5]}Nn.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let s=t.state.selection,o=s.empty?null:t.posAtCoords(bf(n)),a;if(!(o&&o.pos>=s.from&&o.pos<=(s instanceof Re?s.to-1:s.to))){if(r&&r.mightDrag)a=Re.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let m=t.docView.nearestDesc(n.target,!0);m&&m.node.type.spec.draggable&&m!=t.docView&&(a=Re.create(t.state.doc,m.posBefore))}}let c=(a||t.state.selection).content(),{dom:u,text:h,slice:p}=fy(t,c);(!n.dataTransfer.files.length||!mn||YC>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Kl?"Text":"text/html",u.innerHTML),n.dataTransfer.effectAllowed="copyMove",Kl||n.dataTransfer.setData("text/plain",h),t.dragging=new kN(p,SN(t,n),a)};Nn.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};En.dragover=En.dragenter=(t,e)=>e.preventDefault();En.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let s=t.posAtCoords(bf(n));if(!s)return;let o=t.state.doc.resolve(s.pos),a=r&&r.slice;a?t.someProp("transformPasted",w=>{a=w(a,t,!1)}):a=dN(t,wN(n.dataTransfer),Kl?null:n.dataTransfer.getData("text/html"),!1,o);let c=!!(r&&SN(t,n));if(t.someProp("handleDrop",w=>w(t,n,a||ye.empty,c))){n.preventDefault();return}if(!a)return;n.preventDefault();let u=a?MC(t.state.doc,o.pos,a):o.pos;u==null&&(u=o.pos);let h=t.state.tr;if(c){let{node:w}=r;w?w.replace(h):h.deleteSelection()}let p=h.mapping.map(u),m=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,y=h.doc;if(m?h.replaceRangeWith(p,p,a.content.firstChild):h.replaceRange(p,p,a),h.doc.eq(y))return;let v=h.doc.resolve(p);if(m&&Re.isSelectable(a.content.firstChild)&&v.nodeAfter&&v.nodeAfter.sameMarkup(a.content.firstChild))h.setSelection(new Re(v));else{let w=h.mapping.map(u);h.mapping.maps[h.mapping.maps.length-1].forEach((b,S,N,j)=>w=j),h.setSelection(dy(t,v,h.doc.resolve(w)))}t.focus(),t.dispatch(h.setMeta("uiEvent","drop"))};Nn.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Ms(t)},20))};Nn.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Nn.beforeinput=(t,e)=>{if(mn&&Ns&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,Qo(8,"Backspace")))))return;let{$cursor:s}=t.state.selection;s&&s.pos>0&&t.dispatch(t.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let t in En)Nn[t]=En[t];function Gl(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class fd{constructor(e,n){this.toDOM=e,this.spec=n||ai,this.side=this.spec.side||0}map(e,n,r,s){let{pos:o,deleted:a}=e.mapResult(n.from+s,this.side<0?-1:1);return a?null:new kn(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof fd&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Gl(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class So{constructor(e,n){this.attrs=e,this.spec=n||ai}map(e,n,r,s){let o=e.map(n.from+s,this.spec.inclusiveStart?-1:1)-r,a=e.map(n.to+s,this.spec.inclusiveEnd?1:-1)-r;return o>=a?null:new kn(o,a,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof So&&Gl(this.attrs,e.attrs)&&Gl(this.spec,e.spec)}static is(e){return e.type instanceof So}destroy(){}}class gy{constructor(e,n){this.attrs=e,this.spec=n||ai}map(e,n,r,s){let o=e.mapResult(n.from+s,1);if(o.deleted)return null;let a=e.mapResult(n.to+s,-1);return a.deleted||a.pos<=o.pos?null:new kn(o.pos-r,a.pos-r,this)}valid(e,n){let{index:r,offset:s}=e.content.findIndex(n.from),o;return s==n.from&&!(o=e.child(r)).isText&&s+o.nodeSize==n.to}eq(e){return this==e||e instanceof gy&&Gl(this.attrs,e.attrs)&&Gl(this.spec,e.spec)}destroy(){}}class kn{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new kn(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new kn(e,e,new fd(n,r))}static inline(e,n,r,s){return new kn(e,n,new So(r,s))}static node(e,n,r,s){return new kn(e,n,new gy(r,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof So}get widget(){return this.type instanceof fd}}const Ji=[],ai={};class Ct{constructor(e,n){this.local=e.length?e:Ji,this.children=n.length?n:Ji}static create(e,n){return n.length?hd(n,e,0,ai):pn}find(e,n,r){let s=[];return this.findInner(e??0,n??1e9,s,0,r),s}findInner(e,n,r,s,o){for(let a=0;a<this.local.length;a++){let c=this.local[a];c.from<=n&&c.to>=e&&(!o||o(c.spec))&&r.push(c.copy(c.from+s,c.to+s))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<n&&this.children[a+1]>e){let c=this.children[a]+1;this.children[a+2].findInner(e-c,n-c,r,s+c,o)}}map(e,n,r){return this==pn||e.maps.length==0?this:this.mapInner(e,n,0,0,r||ai)}mapInner(e,n,r,s,o){let a;for(let c=0;c<this.local.length;c++){let u=this.local[c].map(e,r,s);u&&u.type.valid(n,u)?(a||(a=[])).push(u):o.onRemove&&o.onRemove(this.local[c].spec)}return this.children.length?h5(this.children,a||[],e,n,r,s,o):a?new Ct(a.sort(li),Ji):pn}add(e,n){return n.length?this==pn?Ct.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let s,o=0;e.forEach((c,u)=>{let h=u+r,p;if(p=NN(n,c,h)){for(s||(s=this.children.slice());o<s.length&&s[o]<u;)o+=3;s[o]==u?s[o+2]=s[o+2].addInner(c,p,h+1):s.splice(o,0,u,u+c.nodeSize,hd(p,c,h+1,ai)),o+=3}});let a=CN(o?EN(n):n,-r);for(let c=0;c<a.length;c++)a[c].type.valid(e,a[c])||a.splice(c--,1);return new Ct(a.length?this.local.concat(a).sort(li):this.local,s||this.children)}remove(e){return e.length==0||this==pn?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,s=this.local;for(let o=0;o<r.length;o+=3){let a,c=r[o]+n,u=r[o+1]+n;for(let p=0,m;p<e.length;p++)(m=e[p])&&m.from>c&&m.to<u&&(e[p]=null,(a||(a=[])).push(m));if(!a)continue;r==this.children&&(r=this.children.slice());let h=r[o+2].removeInner(a,c+1);h!=pn?r[o+2]=h:(r.splice(o,3),o-=3)}if(s.length){for(let o=0,a;o<e.length;o++)if(a=e[o])for(let c=0;c<s.length;c++)s[c].eq(a,n)&&(s==this.local&&(s=this.local.slice()),s.splice(c--,1))}return r==this.children&&s==this.local?this:s.length||r.length?new Ct(s,r):pn}forChild(e,n){if(this==pn)return this;if(n.isLeaf)return Ct.empty;let r,s;for(let c=0;c<this.children.length;c+=3)if(this.children[c]>=e){this.children[c]==e&&(r=this.children[c+2]);break}let o=e+1,a=o+n.content.size;for(let c=0;c<this.local.length;c++){let u=this.local[c];if(u.from<a&&u.to>o&&u.type instanceof So){let h=Math.max(o,u.from)-o,p=Math.min(a,u.to)-o;h<p&&(s||(s=[])).push(u.copy(h,p))}}if(s){let c=new Ct(s.sort(li),Ji);return r?new ho([c,r]):c}return r||pn}eq(e){if(this==e)return!0;if(!(e instanceof Ct)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return yy(this.localsInner(e))}localsInner(e){if(this==pn)return Ji;if(e.inlineContent||!this.local.some(So.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof So||n.push(this.local[r]);return n}forEachSet(e){e(this)}}Ct.empty=new Ct([],[]);Ct.removeOverlap=yy;const pn=Ct.empty;class ho{constructor(e){this.members=e}map(e,n){const r=this.members.map(s=>s.map(e,n,ai));return ho.from(r)}forChild(e,n){if(n.isLeaf)return Ct.empty;let r=[];for(let s=0;s<this.members.length;s++){let o=this.members[s].forChild(e,n);o!=pn&&(o instanceof ho?r=r.concat(o.members):r.push(o))}return ho.from(r)}eq(e){if(!(e instanceof ho)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let s=0;s<this.members.length;s++){let o=this.members[s].localsInner(e);if(o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let a=0;a<o.length;a++)n.push(o[a])}}return n?yy(r?n:n.sort(li)):Ji}static from(e){switch(e.length){case 0:return pn;case 1:return e[0];default:return new ho(e.every(n=>n instanceof Ct)?e:e.reduce((n,r)=>n.concat(r instanceof Ct?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function h5(t,e,n,r,s,o,a){let c=t.slice();for(let h=0,p=o;h<n.maps.length;h++){let m=0;n.maps[h].forEach((y,v,w,b)=>{let S=b-w-(v-y);for(let N=0;N<c.length;N+=3){let j=c[N+1];if(j<0||y>j+p-m)continue;let A=c[N]+p-m;v>=A?c[N+1]=y<=A?-2:-1:y>=p&&S&&(c[N]+=S,c[N+1]+=S)}m+=S}),p=n.maps[h].map(p,-1)}let u=!1;for(let h=0;h<c.length;h+=3)if(c[h+1]<0){if(c[h+1]==-2){u=!0,c[h+1]=-1;continue}let p=n.map(t[h]+o),m=p-s;if(m<0||m>=r.content.size){u=!0;continue}let y=n.map(t[h+1]+o,-1),v=y-s,{index:w,offset:b}=r.content.findIndex(m),S=r.maybeChild(w);if(S&&b==m&&b+S.nodeSize==v){let N=c[h+2].mapInner(n,S,p+1,t[h]+o+1,a);N!=pn?(c[h]=m,c[h+1]=v,c[h+2]=N):(c[h+1]=-2,u=!0)}else u=!0}if(u){let h=p5(c,t,e,n,s,o,a),p=hd(h,r,0,a);e=p.local;for(let m=0;m<c.length;m+=3)c[m+1]<0&&(c.splice(m,3),m-=3);for(let m=0,y=0;m<p.children.length;m+=3){let v=p.children[m];for(;y<c.length&&c[y]<v;)y+=3;c.splice(y,0,p.children[m],p.children[m+1],p.children[m+2])}}return new Ct(e.sort(li),c)}function CN(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let s=t[r];n.push(new kn(s.from+e,s.to+e,s.type))}return n}function p5(t,e,n,r,s,o,a){function c(u,h){for(let p=0;p<u.local.length;p++){let m=u.local[p].map(r,s,h);m?n.push(m):a.onRemove&&a.onRemove(u.local[p].spec)}for(let p=0;p<u.children.length;p+=3)c(u.children[p+2],u.children[p]+h+1)}for(let u=0;u<t.length;u+=3)t[u+1]==-1&&c(t[u+2],e[u]+o+1);return n}function NN(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,s=null;for(let o=0,a;o<t.length;o++)(a=t[o])&&a.from>n&&a.to<r&&((s||(s=[])).push(a),t[o]=null);return s}function EN(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function hd(t,e,n,r){let s=[],o=!1;e.forEach((c,u)=>{let h=NN(t,c,u+n);if(h){o=!0;let p=hd(h,c,n+u+1,r);p!=pn&&s.push(u,u+c.nodeSize,p)}});let a=CN(o?EN(t):t,-n).sort(li);for(let c=0;c<a.length;c++)a[c].type.valid(e,a[c])||(r.onRemove&&r.onRemove(a[c].spec),a.splice(c--,1));return a.length||s.length?new Ct(a,s):pn}function li(t,e){return t.from-e.from||t.to-e.to}function yy(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let s=n+1;s<e.length;s++){let o=e[s];if(o.from==r.from){o.to!=r.to&&(e==t&&(e=t.slice()),e[s]=o.copy(o.from,r.to),yb(e,s+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),yb(e,s,r.copy(o.from,r.to)));break}}}return e}function yb(t,e,n){for(;e<t.length&&li(n,t[e])>0;)e++;t.splice(e,0,n)}function Qp(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=pn&&e.push(r)}),t.cursorWrapper&&e.push(Ct.create(t.state.doc,[t.cursorWrapper.deco])),ho.from(e)}const m5={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},g5=$n&&wo<=11;class y5{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class v5{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new y5,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let s=0;s<r.length;s++)this.queue.push(r[s]);$n&&wo<=11&&r.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),g5&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,m5)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(cb(this.view)){if(this.suppressingSelectionUpdates)return Ms(this.view);if($n&&wo<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&hi(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let o=e.focusNode;o;o=ha(o))n.add(o);for(let o=e.anchorNode;o;o=ha(o))if(n.has(o)){r=o;break}let s=r&&this.view.docView.nearestDesc(r);if(s&&s.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&cb(e)&&!this.ignoreSelectionChange(r),o=-1,a=-1,c=!1,u=[];if(e.editable)for(let p=0;p<n.length;p++){let m=this.registerMutation(n[p],u);m&&(o=o<0?m.from:Math.min(m.from,o),a=a<0?m.to:Math.max(m.to,a),m.typeOver&&(c=!0))}if(dr&&u.length){let p=u.filter(m=>m.nodeName=="BR");if(p.length==2){let[m,y]=p;m.parentNode&&m.parentNode.parentNode==y.parentNode?y.remove():m.remove()}else{let{focusNode:m}=this.currentSelection;for(let y of p){let v=y.parentNode;v&&v.nodeName=="LI"&&(!m||w5(e,m)!=v)&&y.remove()}}}let h=null;o<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&vf(r)&&(h=uy(e))&&h.eq(Ve.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Ms(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||s)&&(o>-1&&(e.docView.markDirty(o,a),x5(e)),this.handleDOMChange(o,a,c,u),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Ms(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let p=0;p<e.addedNodes.length;p++){let m=e.addedNodes[p];n.push(m),m.nodeType==3&&(this.lastChangedTextNode=m)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let s=e.previousSibling,o=e.nextSibling;if($n&&wo<=11&&e.addedNodes.length)for(let p=0;p<e.addedNodes.length;p++){let{previousSibling:m,nextSibling:y}=e.addedNodes[p];(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(s=m),(!y||Array.prototype.indexOf.call(e.addedNodes,y)<0)&&(o=y)}let a=s&&s.parentNode==e.target?an(s)+1:0,c=r.localPosFromDOM(e.target,a,-1),u=o&&o.parentNode==e.target?an(o):e.target.childNodes.length,h=r.localPosFromDOM(e.target,u,1);return{from:c,to:h}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let vb=new WeakMap,xb=!1;function x5(t){if(!vb.has(t)&&(vb.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=dr,xb)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),xb=!0}}function bb(t,e){let n=e.startContainer,r=e.startOffset,s=e.endContainer,o=e.endOffset,a=t.domAtPos(t.state.selection.anchor);return hi(a.node,a.offset,s,o)&&([n,r,s,o]=[s,o,n,r]),{anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:o}}function b5(t,e){if(e.getComposedRanges){let s=e.getComposedRanges(t.root)[0];if(s)return bb(t,s)}let n;function r(s){s.preventDefault(),s.stopImmediatePropagation(),n=s.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?bb(t,n):null}function w5(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function k5(t,e,n){let{node:r,fromOffset:s,toOffset:o,from:a,to:c}=t.docView.parseRange(e,n),u=t.domSelectionRange(),h,p=u.anchorNode;if(p&&t.dom.contains(p.nodeType==1?p:p.parentNode)&&(h=[{node:p,offset:u.anchorOffset}],vf(u)||h.push({node:u.focusNode,offset:u.focusOffset})),mn&&t.input.lastKeyCode===8)for(let S=o;S>s;S--){let N=r.childNodes[S-1],j=N.pmViewDesc;if(N.nodeName=="BR"&&!j){o=S;break}if(!j||j.size)break}let m=t.state.doc,y=t.someProp("domParser")||bo.fromSchema(t.state.schema),v=m.resolve(a),w=null,b=y.parse(r,{topNode:v.parent,topMatch:v.parent.contentMatchAt(v.index()),topOpen:!0,from:s,to:o,preserveWhitespace:v.parent.type.whitespace=="pre"?"full":!0,findPositions:h,ruleFromNode:S5,context:v});if(h&&h[0].pos!=null){let S=h[0].pos,N=h[1]&&h[1].pos;N==null&&(N=S),w={anchor:S+a,head:N+a}}return{doc:b,sel:w,from:a,to:c}}function S5(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Cn&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Cn&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const C5=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function N5(t,e,n,r,s){let o=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let D=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,O=uy(t,D);if(O&&!t.state.selection.eq(O)){if(mn&&Ns&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",Q=>Q(t,Qo(13,"Enter"))))return;let H=t.state.tr.setSelection(O);D=="pointer"?H.setMeta("pointer",!0):D=="key"&&H.scrollIntoView(),o&&H.setMeta("composition",o),t.dispatch(H)}return}let a=t.state.doc.resolve(e),c=a.sharedDepth(n);e=a.before(c+1),n=t.state.doc.resolve(n).after(c+1);let u=t.state.selection,h=k5(t,e,n),p=t.state.doc,m=p.slice(h.from,h.to),y,v;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(y=t.state.selection.to,v="end"):(y=t.state.selection.from,v="start"),t.input.lastKeyCode=null;let w=M5(m.content,h.doc.content,h.from,y,v);if(w&&t.input.domChangeCount++,(pa&&t.input.lastIOSEnter>Date.now()-225||Ns)&&s.some(D=>D.nodeType==1&&!C5.test(D.nodeName))&&(!w||w.endA>=w.endB)&&t.someProp("handleKeyDown",D=>D(t,Qo(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!w)if(r&&u instanceof $e&&!u.empty&&u.$head.sameParent(u.$anchor)&&!t.composing&&!(h.sel&&h.sel.anchor!=h.sel.head))w={start:u.from,endA:u.to,endB:u.to};else{if(h.sel){let D=wb(t,t.state.doc,h.sel);if(D&&!D.eq(t.state.selection)){let O=t.state.tr.setSelection(D);o&&O.setMeta("composition",o),t.dispatch(O)}}return}t.state.selection.from<t.state.selection.to&&w.start==w.endB&&t.state.selection instanceof $e&&(w.start>t.state.selection.from&&w.start<=t.state.selection.from+2&&t.state.selection.from>=h.from?w.start=t.state.selection.from:w.endA<t.state.selection.to&&w.endA>=t.state.selection.to-2&&t.state.selection.to<=h.to&&(w.endB+=t.state.selection.to-w.endA,w.endA=t.state.selection.to)),$n&&wo<=11&&w.endB==w.start+1&&w.endA==w.start&&w.start>h.from&&h.doc.textBetween(w.start-h.from-1,w.start-h.from+1)==" "&&(w.start--,w.endA--,w.endB--);let b=h.doc.resolveNoCache(w.start-h.from),S=h.doc.resolveNoCache(w.endB-h.from),N=p.resolve(w.start),j=b.sameParent(S)&&b.parent.inlineContent&&N.end()>=w.endA;if((pa&&t.input.lastIOSEnter>Date.now()-225&&(!j||s.some(D=>D.nodeName=="DIV"||D.nodeName=="P"))||!j&&b.pos<h.doc.content.size&&(!b.sameParent(S)||!b.parent.inlineContent)&&b.pos<S.pos&&!/\S/.test(h.doc.textBetween(b.pos,S.pos,"","")))&&t.someProp("handleKeyDown",D=>D(t,Qo(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>w.start&&T5(p,w.start,w.endA,b,S)&&t.someProp("handleKeyDown",D=>D(t,Qo(8,"Backspace")))){Ns&&mn&&t.domObserver.suppressSelectionUpdates();return}mn&&w.endB==w.start&&(t.input.lastChromeDelete=Date.now()),Ns&&!j&&b.start()!=S.start()&&S.parentOffset==0&&b.depth==S.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==w.endA&&(w.endB-=2,S=h.doc.resolveNoCache(w.endB-h.from),setTimeout(()=>{t.someProp("handleKeyDown",function(D){return D(t,Qo(13,"Enter"))})},20));let A=w.start,E=w.endA,T=D=>{let O=D||t.state.tr.replace(A,E,h.doc.slice(w.start-h.from,w.endB-h.from));if(h.sel){let H=wb(t,O.doc,h.sel);H&&!(mn&&t.composing&&H.empty&&(w.start!=w.endB||t.input.lastChromeDelete<Date.now()-100)&&(H.head==A||H.head==O.mapping.map(E)-1)||$n&&H.empty&&H.head==A)&&O.setSelection(H)}return o&&O.setMeta("composition",o),O.scrollIntoView()},R;if(j)if(b.pos==S.pos){$n&&wo<=11&&b.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Ms(t),20));let D=T(t.state.tr.delete(A,E)),O=p.resolve(w.start).marksAcross(p.resolve(w.endA));O&&D.ensureMarks(O),t.dispatch(D)}else if(w.endA==w.endB&&(R=E5(b.parent.content.cut(b.parentOffset,S.parentOffset),N.parent.content.cut(N.parentOffset,w.endA-N.start())))){let D=T(t.state.tr);R.type=="add"?D.addMark(A,E,R.mark):D.removeMark(A,E,R.mark),t.dispatch(D)}else if(b.parent.child(b.index()).isText&&b.index()==S.index()-(S.textOffset?0:1)){let D=b.parent.textBetween(b.parentOffset,S.parentOffset),O=()=>T(t.state.tr.insertText(D,A,E));t.someProp("handleTextInput",H=>H(t,A,E,D,O))||t.dispatch(O())}else t.dispatch(T());else t.dispatch(T())}function wb(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:dy(t,e.resolve(n.anchor),e.resolve(n.head))}function E5(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,s=n,o=r,a,c,u;for(let p=0;p<r.length;p++)s=r[p].removeFromSet(s);for(let p=0;p<n.length;p++)o=n[p].removeFromSet(o);if(s.length==1&&o.length==0)c=s[0],a="add",u=p=>p.mark(c.addToSet(p.marks));else if(s.length==0&&o.length==1)c=o[0],a="remove",u=p=>p.mark(c.removeFromSet(p.marks));else return null;let h=[];for(let p=0;p<e.childCount;p++)h.push(u(e.child(p)));if(ne.from(h).eq(t))return{mark:c,type:a}}function T5(t,e,n,r,s){if(n-e<=s.pos-r.pos||Zp(r,!0,!1)<s.pos)return!1;let o=t.resolve(e);if(!r.parent.isTextblock){let c=o.nodeAfter;return c!=null&&n==e+c.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let a=t.resolve(Zp(o,!0,!0));return!a.parent.isTextblock||a.pos>n||Zp(a,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function Zp(t,e,n){let r=t.depth,s=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,s++,e=!1;if(n){let o=t.node(r).maybeChild(t.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,s++}return s}function M5(t,e,n,r,s){let o=t.findDiffStart(e,n);if(o==null)return null;let{a,b:c}=t.findDiffEnd(e,n+t.size,n+e.size);if(s=="end"){let u=Math.max(0,o-Math.min(a,c));r-=a+u-o}if(a<o&&t.size<e.size){let u=r<=o&&r>=a?o-r:0;o-=u,o&&o<e.size&&kb(e.textBetween(o-1,o+1))&&(o+=u?1:-1),c=o+(c-a),a=o}else if(c<o){let u=r<=o&&r>=c?o-r:0;o-=u,o&&o<t.size&&kb(t.textBetween(o-1,o+1))&&(o+=u?1:-1),a=o+(a-c),c=o}return{start:o,endA:a,endB:c}}function kb(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class TN{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new q3,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(Tb),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Nb(this),Cb(this),this.nodeViews=Eb(this),this.docView=rb(this.state.doc,Sb(this),Qp(this),this.dom,this),this.domObserver=new v5(this,(r,s,o,a)=>N5(this,r,s,o,a)),this.domObserver.start(),G3(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Gm(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Tb),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let s=this.state,o=!1,a=!1;e.storedMarks&&this.composing&&(bN(this),a=!0),this.state=e;let c=s.plugins!=e.plugins||this._props.plugins!=n.plugins;if(c||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let v=Eb(this);A5(v,this.nodeViews)&&(this.nodeViews=v,o=!0)}(c||n.handleDOMEvents!=this._props.handleDOMEvents)&&Gm(this),this.editable=Nb(this),Cb(this);let u=Qp(this),h=Sb(this),p=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",m=o||!this.docView.matchesNode(e.doc,h,u);(m||!e.selection.eq(s.selection))&&(a=!0);let y=p=="preserve"&&a&&this.dom.style.overflowAnchor==null&&l3(this);if(a){this.domObserver.stop();let v=m&&($n||mn)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&j5(s.selection,e.selection);if(m){let w=mn?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=a5(this)),(o||!this.docView.update(e.doc,h,u,this))&&(this.docView.updateOuterDeco(h),this.docView.destroy(),this.docView=rb(e.doc,h,u,this.dom,this)),w&&!this.trackWrites&&(v=!0)}v||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&R3(this))?Ms(this,v):(lN(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((r=this.dragging)===null||r===void 0)&&r.node&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),p=="reset"?this.dom.scrollTop=0:p=="to selection"?this.scrollToSelection():y&&c3(y)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Re){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&X1(this,n.getBoundingClientRect(),e)}else X1(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,s=-1;if(this.state.doc.nodeAt(r.from)==r.node)s=r.from;else{let o=r.from+(this.state.doc.content.size-n.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==r.node&&(s=o)}this.dragging=new kN(e.slice,e.move,s<0?void 0:Re.create(this.state.doc,s))}someProp(e,n){let r=this._props&&this._props[e],s;if(r!=null&&(s=n?n(r):r))return s;for(let a=0;a<this.directPlugins.length;a++){let c=this.directPlugins[a].props[e];if(c!=null&&(s=n?n(c):c))return s}let o=this.state.plugins;if(o)for(let a=0;a<o.length;a++){let c=o[a].props[e];if(c!=null&&(s=n?n(c):c))return s}}hasFocus(){if($n){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&u3(this.dom),Ms(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return m3(this,e)}coordsAtPos(e,n=1){return eN(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let s=this.docView.posFromDOM(e,n,r);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,n){return b3(this,n||this.state,e)}pasteHTML(e,n){return ql(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return ql(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return fy(this,e)}destroy(){this.docView&&(Y3(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Qp(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,XL())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return X3(this,e)}domSelectionRange(){let e=this.domSelection();return e?Cn&&this.root.nodeType===11&&n3(this.dom.ownerDocument)==this.dom&&b5(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}TN.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function Sb(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[kn.node(0,t.state.doc.content.size,e)]}function Cb(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:kn.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function Nb(t){return!t.someProp("editable",e=>e(t.state)===!1)}function j5(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function Eb(t){let e=Object.create(null);function n(r){for(let s in r)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=r[s])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function A5(t,e){let n=0,r=0;for(let s in t){if(t[s]!=e[s])return!0;n++}for(let s in e)r++;return n!=r}function Tb(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var To={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},pd={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},D5=typeof navigator<"u"&&/Mac/.test(navigator.platform),R5=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var ln=0;ln<10;ln++)To[48+ln]=To[96+ln]=String(ln);for(var ln=1;ln<=24;ln++)To[ln+111]="F"+ln;for(var ln=65;ln<=90;ln++)To[ln]=String.fromCharCode(ln+32),pd[ln]=String.fromCharCode(ln);for(var em in To)pd.hasOwnProperty(em)||(pd[em]=To[em]);function O5(t){var e=D5&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||R5&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?pd:To)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const I5=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),P5=typeof navigator<"u"&&/Win/.test(navigator.platform);function L5(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,s,o,a;for(let c=0;c<e.length-1;c++){let u=e[c];if(/^(cmd|meta|m)$/i.test(u))a=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))s=!0;else if(/^s(hift)?$/i.test(u))o=!0;else if(/^mod$/i.test(u))I5?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+u)}return r&&(n="Alt-"+n),s&&(n="Ctrl-"+n),a&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function _5(t){let e=Object.create(null);for(let n in t)e[L5(n)]=t[n];return e}function tm(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function z5(t){return new jt({props:{handleKeyDown:MN(t)}})}function MN(t){let e=_5(t);return function(n,r){let s=O5(r),o,a=e[tm(s,r)];if(a&&a(n.state,n.dispatch,n))return!0;if(s.length==1&&s!=" "){if(r.shiftKey){let c=e[tm(s,r,!1)];if(c&&c(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(P5&&r.ctrlKey&&r.altKey)&&(o=To[r.keyCode])&&o!=s){let c=e[tm(o,r)];if(c&&c(n.state,n.dispatch,n))return!0}}return!1}}var $5=Object.defineProperty,vy=(t,e)=>{for(var n in e)$5(t,n,{get:e[n],enumerable:!0})};function wf(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:s}=n,{storedMarks:o}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return r},get doc(){return s},get tr(){return r=n.selection,s=n.doc,o=n.storedMarks,n}}}var kf=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:s}=n,o=this.buildProps(s);return Object.fromEntries(Object.entries(t).map(([a,c])=>[a,(...h)=>{const p=c(...h)(o);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(s),p}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:s}=this,{view:o}=r,a=[],c=!!t,u=t||s.tr,h=()=>(!c&&e&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(u),a.every(m=>m===!0)),p={...Object.fromEntries(Object.entries(n).map(([m,y])=>[m,(...w)=>{const b=this.buildProps(u,e),S=y(...w)(b);return a.push(S),p}])),run:h};return p}createCan(t){const{rawCommands:e,state:n}=this,r=!1,s=t||n.tr,o=this.buildProps(s,r);return{...Object.fromEntries(Object.entries(e).map(([c,u])=>[c,(...h)=>u(...h)({...o,dispatch:void 0})])),chain:()=>this.createChain(s,r)}}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:s}=this,{view:o}=r,a={tr:t,editor:r,view:o,state:wf({state:s,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([c,u])=>[c,(...h)=>u(...h)(a)]))}};return a}},jN={};vy(jN,{blur:()=>F5,clearContent:()=>B5,clearNodes:()=>V5,command:()=>H5,createParagraphNear:()=>U5,cut:()=>W5,deleteCurrentNode:()=>K5,deleteNode:()=>q5,deleteRange:()=>G5,deleteSelection:()=>Y5,enter:()=>J5,exitCode:()=>X5,extendMarkRange:()=>Q5,first:()=>Z5,focus:()=>t_,forEach:()=>n_,insertContent:()=>r_,insertContentAt:()=>i_,joinBackward:()=>c_,joinDown:()=>l_,joinForward:()=>u_,joinItemBackward:()=>d_,joinItemForward:()=>f_,joinTextblockBackward:()=>h_,joinTextblockForward:()=>p_,joinUp:()=>a_,keyboardShortcut:()=>g_,lift:()=>y_,liftEmptyBlock:()=>v_,liftListItem:()=>x_,newlineInCode:()=>b_,resetAttributes:()=>w_,scrollIntoView:()=>k_,selectAll:()=>S_,selectNodeBackward:()=>C_,selectNodeForward:()=>N_,selectParentNode:()=>E_,selectTextblockEnd:()=>T_,selectTextblockStart:()=>M_,setContent:()=>j_,setMark:()=>q_,setMeta:()=>G_,setNode:()=>Y_,setNodeSelection:()=>J_,setTextSelection:()=>X_,sinkListItem:()=>Q_,splitBlock:()=>Z_,splitListItem:()=>ez,toggleList:()=>tz,toggleMark:()=>nz,toggleNode:()=>rz,toggleWrap:()=>sz,undoInputRule:()=>oz,unsetAllMarks:()=>iz,unsetMark:()=>az,updateAttributes:()=>lz,wrapIn:()=>cz,wrapInList:()=>uz});var F5=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),B5=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),V5=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:s}=r;return n&&s.forEach(({$from:o,$to:a})=>{t.doc.nodesBetween(o.pos,a.pos,(c,u)=>{if(c.type.isText)return;const{doc:h,mapping:p}=e,m=h.resolve(p.map(u)),y=h.resolve(p.map(u+c.nodeSize)),v=m.blockRange(y);if(!v)return;const w=Ca(v);if(c.type.isTextblock){const{defaultType:b}=m.parent.contentMatchAt(m.index());e.setNodeMarkup(v.start,b)}(w||w===0)&&e.lift(v,w)})}),!0},H5=t=>e=>t(e),U5=()=>({state:t,dispatch:e})=>UC(t,e),W5=(t,e)=>({editor:n,tr:r})=>{const{state:s}=n,o=s.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const a=r.mapping.map(e);return r.insert(a,o.content),r.setSelection(new $e(r.doc.resolve(Math.max(a-1,0)))),!0},K5=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const s=t.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===r.type){if(e){const c=s.before(o),u=s.after(o);t.delete(c,u).scrollIntoView()}return!0}return!1};function Pt(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var q5=t=>({tr:e,state:n,dispatch:r})=>{const s=Pt(t,n.schema),o=e.selection.$anchor;for(let a=o.depth;a>0;a-=1)if(o.node(a).type===s){if(r){const u=o.before(a),h=o.after(a);e.delete(u,h).scrollIntoView()}return!0}return!1},G5=t=>({tr:e,dispatch:n})=>{const{from:r,to:s}=t;return n&&e.delete(r,s),!0},Y5=()=>({state:t,dispatch:e})=>sy(t,e),J5=()=>({commands:t})=>t.keyboardShortcut("Enter"),X5=()=>({state:t,dispatch:e})=>LL(t,e);function xy(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function md(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(s=>n.strict?e[s]===t[s]:xy(e[s])?e[s].test(t[s]):e[s]===t[s]):!0}function AN(t,e,n={}){return t.find(r=>r.type===e&&md(Object.fromEntries(Object.keys(n).map(s=>[s,r.attrs[s]])),n))}function Mb(t,e,n={}){return!!AN(t,e,n)}function by(t,e,n){var r;if(!t||!e)return;let s=t.parent.childAfter(t.parentOffset);if((!s.node||!s.node.marks.some(p=>p.type===e))&&(s=t.parent.childBefore(t.parentOffset)),!s.node||!s.node.marks.some(p=>p.type===e)||(n=n||((r=s.node.marks[0])==null?void 0:r.attrs),!AN([...s.node.marks],e,n)))return;let a=s.index,c=t.start()+s.offset,u=a+1,h=c+s.node.nodeSize;for(;a>0&&Mb([...t.parent.child(a-1).marks],e,n);)a-=1,c-=t.parent.child(a).nodeSize;for(;u<t.parent.childCount&&Mb([...t.parent.child(u).marks],e,n);)h+=t.parent.child(u).nodeSize,u+=1;return{from:c,to:h}}function Is(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var Q5=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const o=Is(t,r.schema),{doc:a,selection:c}=n,{$from:u,from:h,to:p}=c;if(s){const m=by(u,o,e);if(m&&m.from<=h&&m.to>=p){const y=$e.create(a,m.from,m.to);n.setSelection(y)}}return!0},Z5=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function DN(t){return t instanceof $e}function ti(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function RN(t,e=null){if(!e)return null;const n=Ve.atStart(t),r=Ve.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const s=n.from,o=r.to;return e==="all"?$e.create(t,ti(0,s,o),ti(t.content.size,s,o)):$e.create(t,ti(e,s,o),ti(e,s,o))}function e_(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function wy(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var t_=(t=null,e={})=>({editor:n,view:r,tr:s,dispatch:o})=>{e={scrollIntoView:!0,...e};const a=()=>{(wy()||e_())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(o&&t===null&&!DN(n.state.selection))return a(),!0;const c=RN(s.doc,t)||n.state.selection,u=n.state.selection.eq(c);return o&&(u||s.setSelection(c),u&&s.storedMarks&&s.setStoredMarks(s.storedMarks),a()),!0},n_=(t,e)=>n=>t.every((r,s)=>e(r,{...n,index:s})),r_=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),ON=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&ON(r)}return t};function Du(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return ON(n)}function Yl(t,e,n){if(t instanceof xo||t instanceof ne)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,s=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return ne.fromArray(t.map(c=>e.nodeFromJSON(c)));const a=e.nodeFromJSON(t);return n.errorOnInvalidContent&&a.check(),a}catch(o){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",o),Yl("",e,n)}if(s){if(n.errorOnInvalidContent){let a=!1,c="";const u=new yC({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:h=>(a=!0,c=typeof h=="string"?h:h.outerHTML,null)}]}})});if(n.slice?bo.fromSchema(u).parseSlice(Du(t),n.parseOptions):bo.fromSchema(u).parse(Du(t),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${c}`)})}const o=bo.fromSchema(e);return n.slice?o.parseSlice(Du(t),n.parseOptions).content:o.parse(Du(t),n.parseOptions)}return Yl("",e,n)}function s_(t,e,n){const r=t.steps.length-1;if(r<e)return;const s=t.steps[r];if(!(s instanceof Qt||s instanceof Zt))return;const o=t.mapping.maps[r];let a=0;o.forEach((c,u,h,p)=>{a===0&&(a=p)}),t.setSelection(Ve.near(t.doc.resolve(a),n))}var o_=t=>!("type"in t),i_=(t,e,n)=>({tr:r,dispatch:s,editor:o})=>{var a;if(s){n={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let c;const u=S=>{o.emit("contentError",{editor:o,error:S,disableCollaboration:()=>{"collaboration"in o.storage&&typeof o.storage.collaboration=="object"&&o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}})},h={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!o.options.enableContentCheck&&o.options.emitContentError)try{Yl(e,o.schema,{parseOptions:h,errorOnInvalidContent:!0})}catch(S){u(S)}try{c=Yl(e,o.schema,{parseOptions:h,errorOnInvalidContent:(a=n.errorOnInvalidContent)!=null?a:o.options.enableContentCheck})}catch(S){return u(S),!1}let{from:p,to:m}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},y=!0,v=!0;if((o_(c)?c:[c]).forEach(S=>{S.check(),y=y?S.isText&&S.marks.length===0:!1,v=v?S.isBlock:!1}),p===m&&v){const{parent:S}=r.doc.resolve(p);S.isTextblock&&!S.type.spec.code&&!S.childCount&&(p-=1,m+=1)}let b;if(y){if(Array.isArray(e))b=e.map(S=>S.text||"").join("");else if(e instanceof ne){let S="";e.forEach(N=>{N.text&&(S+=N.text)}),b=S}else typeof e=="object"&&e&&e.text?b=e.text:b=e;r.insertText(b,p,m)}else{b=c;const S=r.doc.resolve(p),N=S.node(),j=S.parentOffset===0,A=N.isText||N.isTextblock,E=N.content.size>0;j&&A&&E&&(p=Math.max(0,p-1)),r.replaceWith(p,m,b)}n.updateSelection&&s_(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:p,text:b}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:p,text:b})}return!0},a_=()=>({state:t,dispatch:e})=>OL(t,e),l_=()=>({state:t,dispatch:e})=>IL(t,e),c_=()=>({state:t,dispatch:e})=>_C(t,e),u_=()=>({state:t,dispatch:e})=>BC(t,e),d_=()=>({state:t,dispatch:e,tr:n})=>{try{const r=mf(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},f_=()=>({state:t,dispatch:e,tr:n})=>{try{const r=mf(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},h_=()=>({state:t,dispatch:e})=>DL(t,e),p_=()=>({state:t,dispatch:e})=>RL(t,e);function IN(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function m_(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,s,o,a;for(let c=0;c<e.length-1;c+=1){const u=e[c];if(/^(cmd|meta|m)$/i.test(u))a=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))s=!0;else if(/^s(hift)?$/i.test(u))o=!0;else if(/^mod$/i.test(u))wy()||IN()?a=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${u}`)}return r&&(n=`Alt-${n}`),s&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),o&&(n=`Shift-${n}`),n}var g_=t=>({editor:e,view:n,tr:r,dispatch:s})=>{const o=m_(t).split(/-(?!$)/),a=o.find(h=>!["Alt","Ctrl","Meta","Shift"].includes(h)),c=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),u=e.captureTransaction(()=>{n.someProp("handleKeyDown",h=>h(n,c))});return u?.steps.forEach(h=>{const p=h.map(r.mapping);p&&s&&r.maybeStep(p)}),!0};function Mo(t,e,n={}){const{from:r,to:s,empty:o}=t.selection,a=e?Pt(e,t.schema):null,c=[];t.doc.nodesBetween(r,s,(m,y)=>{if(m.isText)return;const v=Math.max(r,y),w=Math.min(s,y+m.nodeSize);c.push({node:m,from:v,to:w})});const u=s-r,h=c.filter(m=>a?a.name===m.node.type.name:!0).filter(m=>md(m.node.attrs,n,{strict:!1}));return o?!!h.length:h.reduce((m,y)=>m+y.to-y.from,0)>=u}var y_=(t,e={})=>({state:n,dispatch:r})=>{const s=Pt(t,n.schema);return Mo(n,s,e)?PL(n,r):!1},v_=()=>({state:t,dispatch:e})=>WC(t,e),x_=t=>({state:e,dispatch:n})=>{const r=Pt(t,e.schema);return qL(r)(e,n)},b_=()=>({state:t,dispatch:e})=>HC(t,e);function Sf(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function jb(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,s)=>(n.includes(s)||(r[s]=t[s]),r),{})}var w_=(t,e)=>({tr:n,state:r,dispatch:s})=>{let o=null,a=null;const c=Sf(typeof t=="string"?t:t.name,r.schema);return c?(c==="node"&&(o=Pt(t,r.schema)),c==="mark"&&(a=Is(t,r.schema)),s&&n.selection.ranges.forEach(u=>{r.doc.nodesBetween(u.$from.pos,u.$to.pos,(h,p)=>{o&&o===h.type&&n.setNodeMarkup(p,void 0,jb(h.attrs,e)),a&&h.marks.length&&h.marks.forEach(m=>{a===m.type&&n.addMark(p,p+h.nodeSize,a.create(jb(m.attrs,e)))})})}),!0):!1},k_=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),S_=()=>({tr:t,dispatch:e})=>{if(e){const n=new Gn(t.doc);t.setSelection(n)}return!0},C_=()=>({state:t,dispatch:e})=>$C(t,e),N_=()=>({state:t,dispatch:e})=>VC(t,e),E_=()=>({state:t,dispatch:e})=>$L(t,e),T_=()=>({state:t,dispatch:e})=>VL(t,e),M_=()=>({state:t,dispatch:e})=>BL(t,e);function Ym(t,e,n={},r={}){return Yl(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var j_=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:s,tr:o,dispatch:a,commands:c})=>{const{doc:u}=o;if(r.preserveWhitespace!=="full"){const h=Ym(t,s.schema,r,{errorOnInvalidContent:e??s.options.enableContentCheck});return a&&o.replaceWith(0,u.content.size,h).setMeta("preventUpdate",!n),!0}return a&&o.setMeta("preventUpdate",!n),c.insertContentAt({from:0,to:u.content.size},t,{parseOptions:r,errorOnInvalidContent:e??s.options.enableContentCheck})};function PN(t,e){const n=Is(e,t.schema),{from:r,to:s,empty:o}=t.selection,a=[];o?(t.storedMarks&&a.push(...t.storedMarks),a.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,s,u=>{a.push(...u.marks)});const c=a.find(u=>u.type.name===n.name);return c?{...c.attrs}:{}}function LN(t,e){const n=new OC(t);return e.forEach(r=>{r.steps.forEach(s=>{n.step(s)})}),n}function A_(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function D_(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(s,o)=>{n(s)&&r.push({node:s,pos:o})}),r}function R_(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function Cf(t){return e=>R_(e.$from,t)}function De(t,e,n){return t.config[e]===void 0&&t.parent?De(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?De(t.parent,e,n):null}):t.config[e]}function ky(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=De(e,"addExtensions",n);return r?[e,...ky(r())]:e}).flat(10)}function Sy(t,e){const n=bi.fromSchema(e).serializeFragment(t),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(n),s.innerHTML}function _N(t){return typeof t=="function"}function nt(t,e=void 0,...n){return _N(t)?e?t.bind(e)(...n):t(...n):t}function O_(t={}){return Object.keys(t).length===0&&t.constructor===Object}function Jl(t){const e=t.filter(s=>s.type==="extension"),n=t.filter(s=>s.type==="node"),r=t.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function zN(t){const e=[],{nodeExtensions:n,markExtensions:r}=Jl(t),s=[...n,...r],o={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(a=>{const c={name:a.name,options:a.options,storage:a.storage,extensions:s},u=De(a,"addGlobalAttributes",c);if(!u)return;u().forEach(p=>{p.types.forEach(m=>{Object.entries(p.attributes).forEach(([y,v])=>{e.push({type:m,name:y,attribute:{...o,...v}})})})})}),s.forEach(a=>{const c={name:a.name,options:a.options,storage:a.storage},u=De(a,"addAttributes",c);if(!u)return;const h=u();Object.entries(h).forEach(([p,m])=>{const y={...o,...m};typeof y?.default=="function"&&(y.default=y.default()),y?.isRequired&&y?.default===void 0&&delete y.default,e.push({type:a.name,name:p,attribute:y})})}),e}function Mt(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([s,o])=>{if(!r[s]){r[s]=o;return}if(s==="class"){const c=o?String(o).split(" "):[],u=r[s]?r[s].split(" "):[],h=c.filter(p=>!u.includes(p));r[s]=[...u,...h].join(" ")}else if(s==="style"){const c=o?o.split(";").map(p=>p.trim()).filter(Boolean):[],u=r[s]?r[s].split(";").map(p=>p.trim()).filter(Boolean):[],h=new Map;u.forEach(p=>{const[m,y]=p.split(":").map(v=>v.trim());h.set(m,y)}),c.forEach(p=>{const[m,y]=p.split(":").map(v=>v.trim());h.set(m,y)}),r[s]=Array.from(h.entries()).map(([p,m])=>`${p}: ${m}`).join("; ")}else r[s]=o}),r},{})}function gd(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>Mt(n,r),{})}function I_(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function Ab(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const s=e.reduce((o,a)=>{const c=a.attribute.parseHTML?a.attribute.parseHTML(n):I_(n.getAttribute(a.name));return c==null?o:{...o,[a.name]:c}},{});return{...r,...s}}}}function Db(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&O_(n)?!1:n!=null))}function P_(t,e){var n;const r=zN(t),{nodeExtensions:s,markExtensions:o}=Jl(t),a=(n=s.find(h=>De(h,"topNode")))==null?void 0:n.name,c=Object.fromEntries(s.map(h=>{const p=r.filter(N=>N.type===h.name),m={name:h.name,options:h.options,storage:h.storage,editor:e},y=t.reduce((N,j)=>{const A=De(j,"extendNodeSchema",m);return{...N,...A?A(h):{}}},{}),v=Db({...y,content:nt(De(h,"content",m)),marks:nt(De(h,"marks",m)),group:nt(De(h,"group",m)),inline:nt(De(h,"inline",m)),atom:nt(De(h,"atom",m)),selectable:nt(De(h,"selectable",m)),draggable:nt(De(h,"draggable",m)),code:nt(De(h,"code",m)),whitespace:nt(De(h,"whitespace",m)),linebreakReplacement:nt(De(h,"linebreakReplacement",m)),defining:nt(De(h,"defining",m)),isolating:nt(De(h,"isolating",m)),attrs:Object.fromEntries(p.map(N=>{var j,A;return[N.name,{default:(j=N?.attribute)==null?void 0:j.default,validate:(A=N?.attribute)==null?void 0:A.validate}]}))}),w=nt(De(h,"parseHTML",m));w&&(v.parseDOM=w.map(N=>Ab(N,p)));const b=De(h,"renderHTML",m);b&&(v.toDOM=N=>b({node:N,HTMLAttributes:gd(N,p)}));const S=De(h,"renderText",m);return S&&(v.toText=S),[h.name,v]})),u=Object.fromEntries(o.map(h=>{const p=r.filter(S=>S.type===h.name),m={name:h.name,options:h.options,storage:h.storage,editor:e},y=t.reduce((S,N)=>{const j=De(N,"extendMarkSchema",m);return{...S,...j?j(h):{}}},{}),v=Db({...y,inclusive:nt(De(h,"inclusive",m)),excludes:nt(De(h,"excludes",m)),group:nt(De(h,"group",m)),spanning:nt(De(h,"spanning",m)),code:nt(De(h,"code",m)),attrs:Object.fromEntries(p.map(S=>{var N,j;return[S.name,{default:(N=S?.attribute)==null?void 0:N.default,validate:(j=S?.attribute)==null?void 0:j.validate}]}))}),w=nt(De(h,"parseHTML",m));w&&(v.parseDOM=w.map(S=>Ab(S,p)));const b=De(h,"renderHTML",m);return b&&(v.toDOM=S=>b({mark:S,HTMLAttributes:gd(S,p)})),[h.name,v]}));return new yC({topNode:a,nodes:c,marks:u})}function L_(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}function Cy(t){return t.sort((n,r)=>{const s=De(n,"priority")||100,o=De(r,"priority")||100;return s>o?-1:s<o?1:0})}function $N(t){const e=Cy(ky(t)),n=L_(e.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function FN(t,e,n){const{from:r,to:s}=e,{blockSeparator:o=`

`,textSerializers:a={}}=n||{};let c="";return t.nodesBetween(r,s,(u,h,p,m)=>{var y;u.isBlock&&h>r&&(c+=o);const v=a?.[u.type.name];if(v)return p&&(c+=v({node:u,pos:h,parent:p,index:m,range:e})),!1;u.isText&&(c+=(y=u?.text)==null?void 0:y.slice(Math.max(r,h)-h,s-h))}),c}function __(t,e){const n={from:0,to:t.content.size};return FN(t,n,e)}function BN(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function z_(t,e){const n=Pt(e,t.schema),{from:r,to:s}=t.selection,o=[];t.doc.nodesBetween(r,s,c=>{o.push(c)});const a=o.reverse().find(c=>c.type.name===n.name);return a?{...a.attrs}:{}}function VN(t,e){const n=Sf(typeof e=="string"?e:e.name,t.schema);return n==="node"?z_(t,e):n==="mark"?PN(t,e):{}}function $_(t,e=JSON.stringify){const n={};return t.filter(r=>{const s=e(r);return Object.prototype.hasOwnProperty.call(n,s)?!1:n[s]=!0})}function F_(t){const e=$_(t);return e.length===1?e:e.filter((n,r)=>!e.filter((o,a)=>a!==r).some(o=>n.oldRange.from>=o.oldRange.from&&n.oldRange.to<=o.oldRange.to&&n.newRange.from>=o.newRange.from&&n.newRange.to<=o.newRange.to))}function HN(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((s,o)=>{const a=[];if(s.ranges.length)s.forEach((c,u)=>{a.push({from:c,to:u})});else{const{from:c,to:u}=n[o];if(c===void 0||u===void 0)return;a.push({from:c,to:u})}a.forEach(({from:c,to:u})=>{const h=e.slice(o).map(c,-1),p=e.slice(o).map(u),m=e.invert().map(h,-1),y=e.invert().map(p);r.push({oldRange:{from:m,to:y},newRange:{from:h,to:p}})})}),F_(r)}function Ny(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(s=>{const o=n.resolve(t),a=by(o,s.type);a&&r.push({mark:s,...a})}):n.nodesBetween(t,e,(s,o)=>{!s||s?.nodeSize===void 0||r.push(...s.marks.map(a=>({from:o,to:o+s.nodeSize,mark:a})))}),r}var B_=(t,e,n,r=20)=>{const s=t.doc.resolve(n);let o=r,a=null;for(;o>0&&a===null;){const c=s.node(o);c?.type.name===e?a=c:o-=1}return[a,o]};function nm(t,e){return e.nodes[t]||e.marks[t]||null}function Wu(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const s=t.find(o=>o.type===e&&o.name===r);return s?s.attribute.keepOnSplit:!1}))}var V_=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(s,o,a,c)=>{var u,h;const p=((h=(u=s.type.spec).toText)==null?void 0:h.call(u,{node:s,pos:o,parent:a,index:c}))||s.textContent||"%leaf%";n+=s.isAtom&&!s.isText?p:p.slice(0,Math.max(0,r-o))}),n};function Jm(t,e,n={}){const{empty:r,ranges:s}=t.selection,o=e?Is(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(m=>o?o.name===m.type.name:!0).find(m=>md(m.attrs,n,{strict:!1}));let a=0;const c=[];if(s.forEach(({$from:m,$to:y})=>{const v=m.pos,w=y.pos;t.doc.nodesBetween(v,w,(b,S)=>{if(!b.isText&&!b.marks.length)return;const N=Math.max(v,S),j=Math.min(w,S+b.nodeSize),A=j-N;a+=A,c.push(...b.marks.map(E=>({mark:E,from:N,to:j})))})}),a===0)return!1;const u=c.filter(m=>o?o.name===m.mark.type.name:!0).filter(m=>md(m.mark.attrs,n,{strict:!1})).reduce((m,y)=>m+y.to-y.from,0),h=c.filter(m=>o?m.mark.type!==o&&m.mark.type.excludes(o):!0).reduce((m,y)=>m+y.to-y.from,0);return(u>0?u+h:u)>=a}function H_(t,e,n={}){if(!e)return Mo(t,null,n)||Jm(t,null,n);const r=Sf(e,t.schema);return r==="node"?Mo(t,e,n):r==="mark"?Jm(t,e,n):!1}var U_=(t,e)=>{const{$from:n,$to:r,$anchor:s}=t.selection;if(e){const o=Cf(c=>c.type.name===e)(t.selection);if(!o)return!1;const a=t.doc.resolve(o.pos+1);return s.pos+1===a.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},W_=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function Rb(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function Ob(t,e){const{nodeExtensions:n}=Jl(e),r=n.find(a=>a.name===t);if(!r)return!1;const s={name:r.name,options:r.options,storage:r.storage},o=nt(De(r,"group",s));return typeof o!="string"?!1:o.split(" ").includes("list")}function Nf(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!=null?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let s=!0;return t.content.forEach(o=>{s!==!1&&(Nf(o,{ignoreWhitespace:n,checkChildren:e})||(s=!1))}),s}return!1}function UN(t){return t instanceof Re}function K_(t,e,n){var r;const{selection:s}=e;let o=null;if(DN(s)&&(o=s.$cursor),o){const c=(r=t.storedMarks)!=null?r:o.marks();return o.parent.type.allowsMarkType(n)&&(!!n.isInSet(c)||!c.some(h=>h.type.excludes(n)))}const{ranges:a}=s;return a.some(({$from:c,$to:u})=>{let h=c.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(c.pos,u.pos,(p,m,y)=>{if(h)return!1;if(p.isInline){const v=!y||y.type.allowsMarkType(n),w=!!n.isInSet(p.marks)||!p.marks.some(b=>b.type.excludes(n));h=v&&w}return!h}),h})}var q_=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const{selection:o}=n,{empty:a,ranges:c}=o,u=Is(t,r.schema);if(s)if(a){const h=PN(r,u);n.addStoredMark(u.create({...h,...e}))}else c.forEach(h=>{const p=h.$from.pos,m=h.$to.pos;r.doc.nodesBetween(p,m,(y,v)=>{const w=Math.max(v,p),b=Math.min(v+y.nodeSize,m);y.marks.find(N=>N.type===u)?y.marks.forEach(N=>{u===N.type&&n.addMark(w,b,u.create({...N.attrs,...e}))}):n.addMark(w,b,u.create(e))})});return K_(r,n,u)},G_=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),Y_=(t,e={})=>({state:n,dispatch:r,chain:s})=>{const o=Pt(t,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),o.isTextblock?s().command(({commands:c})=>G1(o,{...a,...e})(n)?!0:c.clearNodes()).command(({state:c})=>G1(o,{...a,...e})(c,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},J_=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,s=ti(t,0,r.content.size),o=Re.create(r,s);e.setSelection(o)}return!0},X_=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:s,to:o}=typeof t=="number"?{from:t,to:t}:t,a=$e.atStart(r).from,c=$e.atEnd(r).to,u=ti(s,a,c),h=ti(o,a,c),p=$e.create(r,u,h);e.setSelection(p)}return!0},Q_=t=>({state:e,dispatch:n})=>{const r=Pt(t,e.schema);return JL(r)(e,n)};function Ib(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(s=>e?.includes(s.type.name));t.tr.ensureMarks(r)}}var Z_=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:s})=>{const{selection:o,doc:a}=e,{$from:c,$to:u}=o,h=s.extensionManager.attributes,p=Wu(h,c.node().type.name,c.node().attrs);if(o instanceof Re&&o.node.isBlock)return!c.parentOffset||!Ts(a,c.pos)?!1:(r&&(t&&Ib(n,s.extensionManager.splittableMarks),e.split(c.pos).scrollIntoView()),!0);if(!c.parent.isBlock)return!1;const m=u.parentOffset===u.parent.content.size,y=c.depth===0?void 0:A_(c.node(-1).contentMatchAt(c.indexAfter(-1)));let v=m&&y?[{type:y,attrs:p}]:void 0,w=Ts(e.doc,e.mapping.map(c.pos),1,v);if(!v&&!w&&Ts(e.doc,e.mapping.map(c.pos),1,y?[{type:y}]:void 0)&&(w=!0,v=y?[{type:y,attrs:p}]:void 0),r){if(w&&(o instanceof $e&&e.deleteSelection(),e.split(e.mapping.map(c.pos),1,v),y&&!m&&!c.parentOffset&&c.parent.type!==y)){const b=e.mapping.map(c.before()),S=e.doc.resolve(b);c.node(-1).canReplaceWith(S.index(),S.index()+1,y)&&e.setNodeMarkup(e.mapping.map(c.before()),y)}t&&Ib(n,s.extensionManager.splittableMarks),e.scrollIntoView()}return w},ez=(t,e={})=>({tr:n,state:r,dispatch:s,editor:o})=>{var a;const c=Pt(t,r.schema),{$from:u,$to:h}=r.selection,p=r.selection.node;if(p&&p.isBlock||u.depth<2||!u.sameParent(h))return!1;const m=u.node(-1);if(m.type!==c)return!1;const y=o.extensionManager.attributes;if(u.parent.content.size===0&&u.node(-1).childCount===u.indexAfter(-1)){if(u.depth===2||u.node(-3).type!==c||u.index(-2)!==u.node(-2).childCount-1)return!1;if(s){let N=ne.empty;const j=u.index(-1)?1:u.index(-2)?2:3;for(let O=u.depth-j;O>=u.depth-3;O-=1)N=ne.from(u.node(O).copy(N));const A=u.indexAfter(-1)<u.node(-2).childCount?1:u.indexAfter(-2)<u.node(-3).childCount?2:3,E={...Wu(y,u.node().type.name,u.node().attrs),...e},T=((a=c.contentMatch.defaultType)==null?void 0:a.createAndFill(E))||void 0;N=N.append(ne.from(c.createAndFill(null,T)||void 0));const R=u.before(u.depth-(j-1));n.replace(R,u.after(-A),new ye(N,4-j,0));let D=-1;n.doc.nodesBetween(R,n.doc.content.size,(O,H)=>{if(D>-1)return!1;O.isTextblock&&O.content.size===0&&(D=H+1)}),D>-1&&n.setSelection($e.near(n.doc.resolve(D))),n.scrollIntoView()}return!0}const v=h.pos===u.end()?m.contentMatchAt(0).defaultType:null,w={...Wu(y,m.type.name,m.attrs),...e},b={...Wu(y,u.node().type.name,u.node().attrs),...e};n.delete(u.pos,h.pos);const S=v?[{type:c,attrs:w},{type:v,attrs:b}]:[{type:c,attrs:w}];if(!Ts(n.doc,u.pos,2))return!1;if(s){const{selection:N,storedMarks:j}=r,{splittableMarks:A}=o.extensionManager,E=j||N.$to.parentOffset&&N.$from.marks();if(n.split(u.pos,2,S).scrollIntoView(),!E||!s)return!0;const T=E.filter(R=>A.includes(R.type.name));n.ensureMarks(T)}return!0},rm=(t,e)=>{const n=Cf(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===s?.type&&Oo(t.doc,n.pos)&&t.join(n.pos),!0},sm=(t,e)=>{const n=Cf(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===s?.type&&Oo(t.doc,r)&&t.join(r),!0},tz=(t,e,n,r={})=>({editor:s,tr:o,state:a,dispatch:c,chain:u,commands:h,can:p})=>{const{extensions:m,splittableMarks:y}=s.extensionManager,v=Pt(t,a.schema),w=Pt(e,a.schema),{selection:b,storedMarks:S}=a,{$from:N,$to:j}=b,A=N.blockRange(j),E=S||b.$to.parentOffset&&b.$from.marks();if(!A)return!1;const T=Cf(R=>Ob(R.type.name,m))(b);if(A.depth>=1&&T&&A.depth-T.depth<=1){if(T.node.type===v)return h.liftListItem(w);if(Ob(T.node.type.name,m)&&v.validContent(T.node.content)&&c)return u().command(()=>(o.setNodeMarkup(T.pos,v),!0)).command(()=>rm(o,v)).command(()=>sm(o,v)).run()}return!n||!E||!c?u().command(()=>p().wrapInList(v,r)?!0:h.clearNodes()).wrapInList(v,r).command(()=>rm(o,v)).command(()=>sm(o,v)).run():u().command(()=>{const R=p().wrapInList(v,r),D=E.filter(O=>y.includes(O.type.name));return o.ensureMarks(D),R?!0:h.clearNodes()}).wrapInList(v,r).command(()=>rm(o,v)).command(()=>sm(o,v)).run()},nz=(t,e={},n={})=>({state:r,commands:s})=>{const{extendEmptyMarkRange:o=!1}=n,a=Is(t,r.schema);return Jm(r,a,e)?s.unsetMark(a,{extendEmptyMarkRange:o}):s.setMark(a,e)},rz=(t,e,n={})=>({state:r,commands:s})=>{const o=Pt(t,r.schema),a=Pt(e,r.schema),c=Mo(r,o,n);let u;return r.selection.$anchor.sameParent(r.selection.$head)&&(u=r.selection.$anchor.parent.attrs),c?s.setNode(a,u):s.setNode(o,{...u,...n})},sz=(t,e={})=>({state:n,commands:r})=>{const s=Pt(t,n.schema);return Mo(n,s,e)?r.lift(s):r.wrapIn(s,e)},oz=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const s=n[r];let o;if(s.spec.isInputRules&&(o=s.getState(t))){if(e){const a=t.tr,c=o.transform;for(let u=c.steps.length-1;u>=0;u-=1)a.step(c.steps[u].invert(c.docs[u]));if(o.text){const u=a.doc.resolve(o.from).marks();a.replaceWith(o.from,o.to,t.schema.text(o.text,u))}else a.delete(o.from,o.to)}return!0}}return!1},iz=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:s}=n;return r||e&&s.forEach(o=>{t.removeMark(o.$from.pos,o.$to.pos)}),!0},az=(t,e={})=>({tr:n,state:r,dispatch:s})=>{var o;const{extendEmptyMarkRange:a=!1}=e,{selection:c}=n,u=Is(t,r.schema),{$from:h,empty:p,ranges:m}=c;if(!s)return!0;if(p&&a){let{from:y,to:v}=c;const w=(o=h.marks().find(S=>S.type===u))==null?void 0:o.attrs,b=by(h,u,w);b&&(y=b.from,v=b.to),n.removeMark(y,v,u)}else m.forEach(y=>{n.removeMark(y.$from.pos,y.$to.pos,u)});return n.removeStoredMark(u),!0},lz=(t,e={})=>({tr:n,state:r,dispatch:s})=>{let o=null,a=null;const c=Sf(typeof t=="string"?t:t.name,r.schema);return c?(c==="node"&&(o=Pt(t,r.schema)),c==="mark"&&(a=Is(t,r.schema)),s&&n.selection.ranges.forEach(u=>{const h=u.$from.pos,p=u.$to.pos;let m,y,v,w;n.selection.empty?r.doc.nodesBetween(h,p,(b,S)=>{o&&o===b.type&&(v=Math.max(S,h),w=Math.min(S+b.nodeSize,p),m=S,y=b)}):r.doc.nodesBetween(h,p,(b,S)=>{S<h&&o&&o===b.type&&(v=Math.max(S,h),w=Math.min(S+b.nodeSize,p),m=S,y=b),S>=h&&S<=p&&(o&&o===b.type&&n.setNodeMarkup(S,void 0,{...b.attrs,...e}),a&&b.marks.length&&b.marks.forEach(N=>{if(a===N.type){const j=Math.max(S,h),A=Math.min(S+b.nodeSize,p);n.addMark(j,A,a.create({...N.attrs,...e}))}}))}),y&&(m!==void 0&&n.setNodeMarkup(m,void 0,{...y.attrs,...e}),a&&y.marks.length&&y.marks.forEach(b=>{a===b.type&&n.addMark(v,w,a.create({...b.attrs,...e}))}))}),!0):!1},cz=(t,e={})=>({state:n,dispatch:r})=>{const s=Pt(t,n.schema);return HL(s,e)(n,r)},uz=(t,e={})=>({state:n,dispatch:r})=>{const s=Pt(t,n.schema);return UL(s,e)(n,r)},dz=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(r=>r.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(r=>r!==e):delete this.callbacks[t]),this}once(t,e){const n=(...r)=>{this.off(t,n),e.apply(this,r)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}},Ef=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},fz=(t,e)=>{if(xy(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function Ru(t){var e;const{editor:n,from:r,to:s,text:o,rules:a,plugin:c}=t,{view:u}=n;if(u.composing)return!1;const h=u.state.doc.resolve(r);if(h.parent.type.spec.code||(e=h.nodeBefore||h.nodeAfter)!=null&&e.marks.find(y=>y.type.spec.code))return!1;let p=!1;const m=V_(h)+o;return a.forEach(y=>{if(p)return;const v=fz(m,y.find);if(!v)return;const w=u.state.tr,b=wf({state:u.state,transaction:w}),S={from:r-(v[0].length-o.length),to:s},{commands:N,chain:j,can:A}=new kf({editor:n,state:b});y.handler({state:b,range:S,match:v,commands:N,chain:j,can:A})===null||!w.steps.length||(y.undoable&&w.setMeta(c,{transform:w,from:r,to:s,text:o}),u.dispatch(w),p=!0)}),p}function hz(t){const{editor:e,rules:n}=t,r=new jt({state:{init(){return null},apply(s,o,a){const c=s.getMeta(r);if(c)return c;const u=s.getMeta("applyInputRules");return!!u&&setTimeout(()=>{let{text:p}=u;typeof p=="string"?p=p:p=Sy(ne.from(p),a.schema);const{from:m}=u,y=m+p.length;Ru({editor:e,from:m,to:y,text:p,rules:n,plugin:r})}),s.selectionSet||s.docChanged?null:o}},props:{handleTextInput(s,o,a,c){return Ru({editor:e,from:o,to:a,text:c,rules:n,plugin:r})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:o}=s.state.selection;o&&Ru({editor:e,from:o.pos,to:o.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(s,o){if(o.key!=="Enter")return!1;const{$cursor:a}=s.state.selection;return a?Ru({editor:e,from:a.pos,to:a.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function pz(t){return Object.prototype.toString.call(t).slice(8,-1)}function Ou(t){return pz(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function WN(t,e){const n={...t};return Ou(t)&&Ou(e)&&Object.keys(e).forEach(r=>{Ou(e[r])&&Ou(t[r])?n[r]=WN(t[r],e[r]):n[r]=e[r]}),n}var Ey=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...nt(De(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...nt(De(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>WN(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},Ps=class KN extends Ey{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new KN(n)}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const a=s.marks();if(!!!a.find(h=>h?.type.name===n.name))return!1;const u=a.find(h=>h?.type.name===n.name);return u&&r.removeStoredMark(u),r.insertText(" ",s.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function mz(t){return typeof t=="number"}var gz=class{constructor(t){this.find=t.find,this.handler=t.handler}},yz=(t,e,n)=>{if(xy(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(s=>{const o=[s.text];return o.index=s.index,o.input=t,o.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(s.replaceWith)),o}):[]};function vz(t){const{editor:e,state:n,from:r,to:s,rule:o,pasteEvent:a,dropEvent:c}=t,{commands:u,chain:h,can:p}=new kf({editor:e,state:n}),m=[];return n.doc.nodesBetween(r,s,(v,w)=>{var b,S,N,j,A;if((S=(b=v.type)==null?void 0:b.spec)!=null&&S.code||!(v.isText||v.isTextblock||v.isInline))return;const E=(A=(j=(N=v.content)==null?void 0:N.size)!=null?j:v.nodeSize)!=null?A:0,T=Math.max(r,w),R=Math.min(s,w+E);if(T>=R)return;const D=v.isText?v.text||"":v.textBetween(T-w,R-w,void 0,"");yz(D,o.find,a).forEach(H=>{if(H.index===void 0)return;const Q=T+H.index+1,ce=Q+H[0].length,de={from:n.tr.mapping.map(Q),to:n.tr.mapping.map(ce)},le=o.handler({state:n,range:de,match:H,commands:u,chain:h,can:p,pasteEvent:a,dropEvent:c});m.push(le)})}),m.every(v=>v!==null)}var Iu=null,xz=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function bz(t){const{editor:e,rules:n}=t;let r=null,s=!1,o=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,c;try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}const u=({state:p,from:m,to:y,rule:v,pasteEvt:w})=>{const b=p.tr,S=wf({state:p,transaction:b});if(!(!vz({editor:e,state:S,from:Math.max(m-1,0),to:y.b-1,rule:v,pasteEvent:w,dropEvent:c})||!b.steps.length)){try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,b}};return n.map(p=>new jt({view(m){const y=w=>{var b;r=(b=m.dom.parentElement)!=null&&b.contains(w.target)?m.dom.parentElement:null,r&&(Iu=e)},v=()=>{Iu&&(Iu=null)};return window.addEventListener("dragstart",y),window.addEventListener("dragend",v),{destroy(){window.removeEventListener("dragstart",y),window.removeEventListener("dragend",v)}}},props:{handleDOMEvents:{drop:(m,y)=>{if(o=r===m.dom.parentElement,c=y,!o){const v=Iu;v?.isEditable&&setTimeout(()=>{const w=v.state.selection;w&&v.commands.deleteRange({from:w.from,to:w.to})},10)}return!1},paste:(m,y)=>{var v;const w=(v=y.clipboardData)==null?void 0:v.getData("text/html");return a=y,s=!!w?.includes("data-pm-slice"),!1}}},appendTransaction:(m,y,v)=>{const w=m[0],b=w.getMeta("uiEvent")==="paste"&&!s,S=w.getMeta("uiEvent")==="drop"&&!o,N=w.getMeta("applyPasteRules"),j=!!N;if(!b&&!S&&!j)return;if(j){let{text:T}=N;typeof T=="string"?T=T:T=Sy(ne.from(T),v.schema);const{from:R}=N,D=R+T.length,O=xz(T);return u({rule:p,state:v,from:R,to:{b:D},pasteEvt:O})}const A=y.doc.content.findDiffStart(v.doc.content),E=y.doc.content.findDiffEnd(v.doc.content);if(!(!mz(A)||!E||A===E.b))return u({rule:p,state:v,from:A,to:E,pasteEvt:a})}}))}var Tf=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=$N(t),this.schema=P_(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:nm(e.name,this.schema)},r=De(e,"addCommands",n);return r?{...t,...r()}:t},{})}get plugins(){const{editor:t}=this;return Cy([...this.extensions].reverse()).flatMap(r=>{const s={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:nm(r.name,this.schema)},o=[],a=De(r,"addKeyboardShortcuts",s);let c={};if(r.type==="mark"&&De(r,"exitable",s)&&(c.ArrowRight=()=>Ps.handleExit({editor:t,mark:r})),a){const y=Object.fromEntries(Object.entries(a()).map(([v,w])=>[v,()=>w({editor:t})]));c={...c,...y}}const u=z5(c);o.push(u);const h=De(r,"addInputRules",s);if(Rb(r,t.options.enableInputRules)&&h){const y=h();if(y&&y.length){const v=hz({editor:t,rules:y}),w=Array.isArray(v)?v:[v];o.push(...w)}}const p=De(r,"addPasteRules",s);if(Rb(r,t.options.enablePasteRules)&&p){const y=p();if(y&&y.length){const v=bz({editor:t,rules:y});o.push(...v)}}const m=De(r,"addProseMirrorPlugins",s);if(m){const y=m();o.push(...y)}return o})}get attributes(){return zN(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=Jl(this.extensions);return Object.fromEntries(e.filter(n=>!!De(n,"addNodeView")).map(n=>{const r=this.attributes.filter(u=>u.type===n.name),s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Pt(n.name,this.schema)},o=De(n,"addNodeView",s);if(!o)return[];const a=o();if(!a)return[];const c=(u,h,p,m,y)=>{const v=gd(u,r);return a({node:u,view:h,getPos:p,decorations:m,innerDecorations:y,editor:t,extension:n,HTMLAttributes:v})};return[n.name,c]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=Jl(this.extensions);return Object.fromEntries(e.filter(n=>!!De(n,"addMarkView")).map(n=>{const r=this.attributes.filter(c=>c.type===n.name),s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Is(n.name,this.schema)},o=De(n,"addMarkView",s);if(!o)return[];const a=(c,u,h)=>{const p=gd(c,r);return o()({mark:c,view:u,inline:h,editor:t,extension:n,HTMLAttributes:p,updateAttributes:m=>{Iz(c,t,m)}})};return[n.name,a]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:nm(e.name,this.schema)};e.type==="mark"&&((n=nt(De(e,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(e.name);const s=De(e,"onBeforeCreate",r),o=De(e,"onCreate",r),a=De(e,"onUpdate",r),c=De(e,"onSelectionUpdate",r),u=De(e,"onTransaction",r),h=De(e,"onFocus",r),p=De(e,"onBlur",r),m=De(e,"onDestroy",r);s&&this.editor.on("beforeCreate",s),o&&this.editor.on("create",o),a&&this.editor.on("update",a),c&&this.editor.on("selectionUpdate",c),u&&this.editor.on("transaction",u),h&&this.editor.on("focus",h),p&&this.editor.on("blur",p),m&&this.editor.on("destroy",m)})}};Tf.resolve=$N;Tf.sort=Cy;Tf.flatten=ky;var wz={};vy(wz,{ClipboardTextSerializer:()=>GN,Commands:()=>YN,Delete:()=>JN,Drop:()=>XN,Editable:()=>QN,FocusEvents:()=>eE,Keymap:()=>tE,Paste:()=>nE,Tabindex:()=>rE,focusEventsPluginKey:()=>ZN});var ht=class qN extends Ey{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new qN(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},GN=ht.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new jt({key:new tn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:s}=e,{ranges:o}=s,a=Math.min(...o.map(p=>p.$from.pos)),c=Math.max(...o.map(p=>p.$to.pos)),u=BN(n);return FN(r,{from:a,to:c},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:u})}}})]}}),YN=ht.create({name:"commands",addCommands(){return{...jN}}}),JN=ht.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,r,s;const o=()=>{var a,c,u,h;if((h=(u=(c=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:c.filterTransaction)==null?void 0:u.call(c,t))!=null?h:t.getMeta("y-sync$"))return;const p=LN(t.before,[t,...e]);HN(p).forEach(v=>{p.mapping.mapResult(v.oldRange.from).deletedAfter&&p.mapping.mapResult(v.oldRange.to).deletedBefore&&p.before.nodesBetween(v.oldRange.from,v.oldRange.to,(w,b)=>{const S=b+w.nodeSize-2,N=v.oldRange.from<=b&&S<=v.oldRange.to;this.editor.emit("delete",{type:"node",node:w,from:b,to:S,newFrom:p.mapping.map(b),newTo:p.mapping.map(S),deletedRange:v.oldRange,newRange:v.newRange,partial:!N,editor:this.editor,transaction:t,combinedTransform:p})})});const y=p.mapping;p.steps.forEach((v,w)=>{var b,S;if(v instanceof Sr){const N=y.slice(w).map(v.from,-1),j=y.slice(w).map(v.to),A=y.invert().map(N,-1),E=y.invert().map(j),T=(b=p.doc.nodeAt(N-1))==null?void 0:b.marks.some(D=>D.eq(v.mark)),R=(S=p.doc.nodeAt(j))==null?void 0:S.marks.some(D=>D.eq(v.mark));this.editor.emit("delete",{type:"mark",mark:v.mark,from:v.from,to:v.to,deletedRange:{from:A,to:E},newRange:{from:N,to:j},partial:!!(R||T),editor:this.editor,transaction:t,combinedTransform:p})}})};(s=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||s?setTimeout(o,0):o()}}),XN=ht.create({name:"drop",addProseMirrorPlugins(){return[new jt({key:new tn("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),QN=ht.create({name:"editable",addProseMirrorPlugins(){return[new jt({key:new tn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),ZN=new tn("focusEvents"),eE=ht.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new jt({key:ZN,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),tE=ht.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:c})=>{const{selection:u,doc:h}=c,{empty:p,$anchor:m}=u,{pos:y,parent:v}=m,w=m.parent.isTextblock&&y>0?c.doc.resolve(y-1):m,b=w.parent.type.spec.isolating,S=m.pos-m.parentOffset,N=b&&w.parent.childCount===1?S===m.pos:Ve.atStart(h).from===y;return!p||!v.type.isTextblock||v.textContent.length||!N||N&&m.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...r},o={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return wy()||IN()?o:s},addProseMirrorPlugins(){return[new jt({key:new tn("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(b=>b.getMeta("composition")))return;const r=t.some(b=>b.docChanged)&&!e.doc.eq(n.doc),s=t.some(b=>b.getMeta("preventClearDocument"));if(!r||s)return;const{empty:o,from:a,to:c}=e.selection,u=Ve.atStart(e.doc).from,h=Ve.atEnd(e.doc).to;if(o||!(a===u&&c===h)||!Nf(n.doc))return;const y=n.tr,v=wf({state:n,transaction:y}),{commands:w}=new kf({editor:this.editor,state:v});if(w.clearNodes(),!!y.steps.length)return y}})]}}),nE=ht.create({name:"paste",addProseMirrorPlugins(){return[new jt({key:new tn("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),rE=ht.create({name:"tabindex",addProseMirrorPlugins(){return[new jt({key:new tn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),kz=class Xi{constructor(e,n,r=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=s}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new Xi(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Xi(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Xi(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const s=n.isBlock&&!n.isTextblock,o=n.isAtom&&!n.isText,a=this.pos+r+(o?0:1);if(a<0||a>this.resolvedPos.doc.nodeSize-2)return;const c=this.resolvedPos.doc.resolve(a);if(!s&&c.depth<=this.depth)return;const u=new Xi(c,this.editor,s,s?n:null);s&&(u.actualDepth=this.depth+1),e.push(new Xi(c,this.editor,s,s?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,s=this.parent;for(;s&&!r;){if(s.node.type.name===e)if(Object.keys(n).length>0){const o=s.node.attrs,a=Object.keys(n);for(let c=0;c<a.length;c+=1){const u=a[c];if(o[u]!==n[u])break}}else r=s;s=s.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let s=[];if(!this.children||this.children.length===0)return s;const o=Object.keys(n);return this.children.forEach(a=>{r&&s.length>0||(a.node.type.name===e&&o.every(u=>n[u]===a.node.attrs[u])&&s.push(a),!(r&&s.length>0)&&(s=s.concat(a.querySelectorAll(e,n,r))))}),s}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},Sz=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function Cz(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute("data-tiptap-style",""),s.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(s),s}var Nz=class extends dz{constructor(t={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:s,moved:o})=>this.options.onDrop(r,s,o)),this.on("paste",({event:r,slice:s})=>this.options.onPaste(r,s)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=RN(e,this.options.autofocus);this.editorState=ea.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t?.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=Cz(Sz,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=_N(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(s=>{const o=typeof s=="string"?`${s}$`:s.key;n=n.filter(a=>!a.key.startsWith(o))}),e.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var t,e;const r=[...this.options.enableCoreExtensions?[QN,GN.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),YN,eE,tE,rE,XN,nE,JN].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s?.type));this.extensionManager=new Tf(r,this)}createCommandManager(){this.commandManager=new kf({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=Ym(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=Ym(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var e;this.editorView=new TN(t,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(h=>{var p;return(p=this.capturedTransaction)==null?void 0:p.step(h)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),r=!this.state.selection.eq(e.selection),s=n.includes(t),o=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!s)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const a=n.findLast(h=>h.getMeta("focus")||h.getMeta("blur")),c=a?.getMeta("focus"),u=a?.getMeta("blur");c&&this.emit("focus",{editor:this,event:c.event,transaction:a}),u&&this.emit("blur",{editor:this,event:u.event,transaction:a}),!(t.getMeta("preventUpdate")||!n.some(h=>h.docChanged)||o.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return VN(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,r=typeof t=="string"?e:t;return H_(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Sy(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return __(this.state.doc,{blockSeparator:e,textSerializers:{...BN(this.schema),...n}})}get isEmpty(){return Nf(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new kz(e,this)}get $doc(){return this.$pos(0)}};function mi(t){return new Ef({find:t.find,handler:({state:e,range:n,match:r})=>{const s=nt(t.getAttributes,void 0,r);if(s===!1||s===null)return null;const{tr:o}=e,a=r[r.length-1],c=r[0];if(a){const u=c.search(/\S/),h=n.from+c.indexOf(a),p=h+a.length;if(Ny(n.from,n.to,e.doc).filter(v=>v.mark.type.excluded.find(b=>b===t.type&&b!==v.mark.type)).filter(v=>v.to>h).length)return null;p<n.to&&o.delete(p,n.to),h>n.from&&o.delete(n.from+u,h);const y=n.from+u+a.length;o.addMark(n.from+u,y,t.type.create(s||{})),o.removeStoredMark(t.type)}},undoable:t.undoable})}function Ez(t){return new Ef({find:t.find,handler:({state:e,range:n,match:r})=>{const s=nt(t.getAttributes,void 0,r)||{},{tr:o}=e,a=n.from;let c=n.to;const u=t.type.create(s);if(r[1]){const h=r[0].lastIndexOf(r[1]);let p=a+h;p>c?p=c:c=p+r[1].length;const m=r[0][r[0].length-1];o.insertText(m,a+r[0].length-1),o.replaceWith(p,c,u)}else if(r[0]){const h=t.type.isInline?a:a-1;o.insert(h,t.type.create(s)).delete(o.mapping.map(a),o.mapping.map(c))}o.scrollIntoView()},undoable:t.undoable})}function Xm(t){return new Ef({find:t.find,handler:({state:e,range:n,match:r})=>{const s=e.doc.resolve(n.from),o=nt(t.getAttributes,void 0,r)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,o)},undoable:t.undoable})}function ma(t){return new Ef({find:t.find,handler:({state:e,range:n,match:r,chain:s})=>{const o=nt(t.getAttributes,void 0,r)||{},a=e.tr.delete(n.from,n.to),u=a.doc.resolve(n.from).blockRange(),h=u&&ny(u,t.type,o);if(!h)return null;if(a.wrap(u,h),t.keepMarks&&t.editor){const{selection:m,storedMarks:y}=e,{splittableMarks:v}=t.editor.extensionManager,w=y||m.$to.parentOffset&&m.$from.marks();if(w){const b=w.filter(S=>v.includes(S.type.name));a.ensureMarks(b)}}if(t.keepAttributes){const m=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(m,o).run()}const p=a.doc.resolve(n.from-1).nodeBefore;p&&p.type===t.type&&Oo(a.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,p))&&a.join(n.from-1)},undoable:t.undoable})}function Tz(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof Re){const o=r.index();return r.parent.canReplaceWith(o,o+1,e)}let s=r.depth;for(;s>=0;){const o=r.index(s);if(r.node(s).contentMatchAt(o).matchType(e))return!0;s-=1}return!1}var Mz={};vy(Mz,{createAtomBlockMarkdownSpec:()=>jz,createBlockMarkdownSpec:()=>Az,createInlineMarkdownSpec:()=>Oz,parseAttributes:()=>Ty,parseIndentedBlocks:()=>Qm,renderNestedMarkdownContent:()=>jy,serializeAttributes:()=>My});function Ty(t){if(!t?.trim())return{};const e={},n=[],r=t.replace(/["']([^"']*)["']/g,h=>(n.push(h),`__QUOTED_${n.length-1}__`)),s=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(s){const h=s.map(p=>p.trim().slice(1));e.class=h.join(" ")}const o=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);o&&(e.id=o[1]);const a=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(a)).forEach(([,h,p])=>{var m;const y=parseInt(((m=p.match(/__QUOTED_(\d+)__/))==null?void 0:m[1])||"0",10),v=n[y];v&&(e[h]=v.slice(1,-1))});const u=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return u&&u.split(/\s+/).filter(Boolean).forEach(p=>{p.match(/^[a-zA-Z][\w-]*$/)&&(e[p]=!0)}),e}function My(t){if(!t||Object.keys(t).length===0)return"";const e=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(r=>e.push(`.${r}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?e.push(n):r!==!1&&r!=null&&e.push(`${n}="${String(r)}"`))}),e.join(" ")}function jz(t){const{nodeName:e,name:n,parseAttributes:r=Ty,serializeAttributes:s=My,defaultAttributes:o={},requiredAttributes:a=[],allowedAttributes:c}=t,u=n||e,h=p=>{if(!c)return p;const m={};return c.forEach(y=>{y in p&&(m[y]=p[y])}),m};return{parseMarkdown:(p,m)=>{const y={...o,...p.attributes};return m.createNode(e,y,[])},markdownTokenizer:{name:e,level:"block",start(p){var m;const y=new RegExp(`^:::${u}(?:\\s|$)`,"m"),v=(m=p.match(y))==null?void 0:m.index;return v!==void 0?v:-1},tokenize(p,m,y){const v=new RegExp(`^:::${u}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),w=p.match(v);if(!w)return;const b=w[1]||"",S=r(b);if(!a.find(j=>!(j in S)))return{type:e,raw:w[0],attributes:S}}},renderMarkdown:p=>{const m=h(p.attrs||{}),y=s(m),v=y?` {${y}}`:"";return`:::${u}${v} :::`}}}function Az(t){const{nodeName:e,name:n,getContent:r,parseAttributes:s=Ty,serializeAttributes:o=My,defaultAttributes:a={},content:c="block",allowedAttributes:u}=t,h=n||e,p=m=>{if(!u)return m;const y={};return u.forEach(v=>{v in m&&(y[v]=m[v])}),y};return{parseMarkdown:(m,y)=>{let v;if(r){const b=r(m);v=typeof b=="string"?[{type:"text",text:b}]:b}else c==="block"?v=y.parseChildren(m.tokens||[]):v=y.parseInline(m.tokens||[]);const w={...a,...m.attributes};return y.createNode(e,w,v)},markdownTokenizer:{name:e,level:"block",start(m){var y;const v=new RegExp(`^:::${h}`,"m"),w=(y=m.match(v))==null?void 0:y.index;return w!==void 0?w:-1},tokenize(m,y,v){var w;const b=new RegExp(`^:::${h}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),S=m.match(b);if(!S)return;const[N,j=""]=S,A=s(j);let E=1;const T=N.length;let R="";const D=/^:::([\w-]*)(\s.*)?/gm,O=m.slice(T);for(D.lastIndex=0;;){const H=D.exec(O);if(H===null)break;const Q=H.index,ce=H[1];if(!((w=H[2])!=null&&w.endsWith(":::"))){if(ce)E+=1;else if(E-=1,E===0){const de=O.slice(0,Q);R=de.trim();const le=m.slice(0,T+Q+H[0].length);let ue=[];if(R)if(c==="block")for(ue=v.blockTokens(de),ue.forEach(re=>{re.text&&(!re.tokens||re.tokens.length===0)&&(re.tokens=v.inlineTokens(re.text))});ue.length>0;){const re=ue[ue.length-1];if(re.type==="paragraph"&&(!re.text||re.text.trim()===""))ue.pop();else break}else ue=v.inlineTokens(R);return{type:e,raw:le,attributes:A,content:R,tokens:ue}}}}}},renderMarkdown:(m,y)=>{const v=p(m.attrs||{}),w=o(v),b=w?` {${w}}`:"",S=y.renderChildren(m.content||[],`

`);return`:::${h}${b}

${S}

:::`}}}function Dz(t){if(!t.trim())return{};const e={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(t);for(;r!==null;){const[,s,o,a]=r;e[s]=o||a,r=n.exec(t)}return e}function Rz(t){return Object.entries(t).filter(([,e])=>e!=null).map(([e,n])=>`${e}="${n}"`).join(" ")}function Oz(t){const{nodeName:e,name:n,getContent:r,parseAttributes:s=Dz,serializeAttributes:o=Rz,defaultAttributes:a={},selfClosing:c=!1,allowedAttributes:u}=t,h=n||e,p=y=>{if(!u)return y;const v={};return u.forEach(w=>{w in y&&(v[w]=y[w])}),v},m=h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(y,v)=>{const w={...a,...y.attributes};if(c)return v.createNode(e,w);const b=r?r(y):y.content||"";return b?v.createNode(e,w,[v.createTextNode(b)]):v.createNode(e,w,[])},markdownTokenizer:{name:e,level:"inline",start(y){const v=c?new RegExp(`\\[${m}\\s*[^\\]]*\\]`):new RegExp(`\\[${m}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${m}\\]`),w=y.match(v),b=w?.index;return b!==void 0?b:-1},tokenize(y,v,w){const b=c?new RegExp(`^\\[${m}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${m}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${m}\\]`),S=y.match(b);if(!S)return;let N="",j="";if(c){const[,E]=S;j=E}else{const[,E,T]=S;j=E,N=T||""}const A=s(j.trim());return{type:e,raw:S[0],content:N.trim(),attributes:A}}},renderMarkdown:y=>{let v="";r?v=r(y):y.content&&y.content.length>0&&(v=y.content.filter(N=>N.type==="text").map(N=>N.text).join(""));const w=p(y.attrs||{}),b=o(w),S=b?` ${b}`:"";return c?`[${h}${S}]`:`[${h}${S}]${v}[/${h}]`}}}function Qm(t,e,n){var r,s,o,a;const c=t.split(`
`),u=[];let h="",p=0;const m=e.baseIndentSize||2;for(;p<c.length;){const y=c[p],v=y.match(e.itemPattern);if(!v){if(u.length>0)break;if(y.trim()===""){p+=1;continue}else return}const w=e.extractItemData(v),{indentLevel:b,mainContent:S}=w;h=`${h}${y}
`;const N=[S];for(p+=1;p<c.length;){const T=c[p];if(T.trim()===""){const D=c.slice(p+1).findIndex(Q=>Q.trim()!=="");if(D===-1)break;if((((s=(r=c[p+1+D].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:s.length)||0)>b){N.push(T),h=`${h}${T}
`,p+=1;continue}else break}if((((a=(o=T.match(/^(\s*)/))==null?void 0:o[1])==null?void 0:a.length)||0)>b)N.push(T),h=`${h}${T}
`,p+=1;else break}let j;const A=N.slice(1);if(A.length>0){const T=A.map(R=>R.slice(b+m)).join(`
`);T.trim()&&(e.customNestedParser?j=e.customNestedParser(T):j=n.blockTokens(T))}const E=e.createToken(w,j);u.push(E)}if(u.length!==0)return{items:u,raw:h.trim()}}function jy(t,e,n,r){if(!t||!Array.isArray(t.content))return"";const s=typeof n=="function"?n(r):n,[o,...a]=t.content,c=e.renderChildren([o]),u=[`${s}${c}`];return a&&a.length>0&&a.forEach(h=>{const p=e.renderChildren([h]);if(p){const m=p.split(`
`).map(y=>y?e.indent(y):"").join(`
`);u.push(m)}}),u.join(`
`)}function Iz(t,e,n={}){const{state:r}=e,{doc:s,tr:o}=r,a=t;s.descendants((c,u)=>{const h=o.mapping.map(u),p=o.mapping.map(u)+c.nodeSize;let m=null;if(c.marks.forEach(v=>{if(v!==a)return!1;m=v}),!m)return;let y=!1;if(Object.keys(n).forEach(v=>{n[v]!==m.attrs[v]&&(y=!0)}),y){const v=t.type.create({...t.attrs,...n});o.removeMark(h,p,t.type),o.addMark(h,p,v)}}),o.docChanged&&e.view.dispatch(o)}var Jn=class sE extends Ey{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new sE(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function jo(t){return new gz({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:s})=>{const o=nt(t.getAttributes,void 0,r,s);if(o===!1||o===null)return null;const{tr:a}=e,c=r[r.length-1],u=r[0];let h=n.to;if(c){const p=u.search(/\S/),m=n.from+u.indexOf(c),y=m+c.length;if(Ny(n.from,n.to,e.doc).filter(w=>w.mark.type.excluded.find(S=>S===t.type&&S!==w.mark.type)).filter(w=>w.to>m).length)return null;y<n.to&&a.delete(y,n.to),m>n.from&&a.delete(n.from+p,m),h=n.from+p+c.length,a.addMark(n.from+p,h,t.type.create(o||{})),a.removeStoredMark(t.type)}}})}var om,Pb;function Pz(){return Pb||(Pb=1,om=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,s,o;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(s of e.entries())if(!n.has(s[0]))return!1;for(s of e.entries())if(!t(s[1],n.get(s[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(s of e.entries())if(!n.has(s[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(e[s]!==n[s])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(o=Object.keys(e),r=o.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[s]))return!1;for(s=r;s--!==0;){var a=o[s];if(!(a==="_owner"&&e.$$typeof)&&!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n}),om}var Lz=Pz();const _z=vg(Lz);var im={exports:{}},am={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lb;function zz(){if(Lb)return am;Lb=1;var t=tc(),e=eC();function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:n,s=e.useSyncExternalStore,o=t.useRef,a=t.useEffect,c=t.useMemo,u=t.useDebugValue;return am.useSyncExternalStoreWithSelector=function(h,p,m,y,v){var w=o(null);if(w.current===null){var b={hasValue:!1,value:null};w.current=b}else b=w.current;w=c(function(){function N(R){if(!j){if(j=!0,A=R,R=y(R),v!==void 0&&b.hasValue){var D=b.value;if(v(D,R))return E=D}return E=R}if(D=E,r(A,R))return D;var O=y(R);return v!==void 0&&v(D,O)?(A=R,D):(A=R,E=O)}var j=!1,A,E,T=m===void 0?null:m;return[function(){return N(p())},T===null?void 0:function(){return N(T())}]},[p,m,y,v]);var S=s(h,w[0],w[1]);return a(function(){b.hasValue=!0,b.value=S},[S]),u(S),S},am}var _b;function $z(){return _b||(_b=1,im.exports=zz()),im.exports}var Fz=$z(),Bz=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},Vz=({contentComponent:t})=>{const e=tC.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return d.jsx(d.Fragment,{children:Object.values(e)})};function Hz(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:Ng.createPortal(r.reactElement,r.element,n)},t.forEach(s=>s())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(s=>s())}}}var Uz=class extends W.Component{constructor(t){var e;super(t),this.editorContentRef=W.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const t=this.props.editor;if(t&&!t.isDestroyed&&t.options.element){if(t.contentComponent)return;const e=this.editorContentRef.current;e.append(t.view.dom),t.setOptions({element:e}),t.contentComponent=Hz(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.firstChild))return;const n=document.createElement("div");n.append(e.view.dom),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return d.jsxs(d.Fragment,{children:[d.jsx("div",{ref:Bz(e,this.editorContentRef),...n}),t?.contentComponent&&d.jsx(Vz,{contentComponent:t.contentComponent})]})}},Wz=C.forwardRef((t,e)=>{const n=W.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return W.createElement(Uz,{key:n,innerRef:e,...t})}),Kz=W.memo(Wz),qz=typeof window<"u"?C.useLayoutEffect:C.useEffect,Gz=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function Yz(t){var e;const[n]=C.useState(()=>new Gz(t.editor)),r=Fz.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:_z);return qz(()=>n.watch(t.editor),[t.editor,n]),C.useDebugValue(r),r}var Jz=!1,Zm=typeof window>"u",Xz=Zm||!!(typeof window<"u"&&window.next),Qz=class oE{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?Zm||Xz?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var s,o;return(o=(s=this.options.current).onBeforeCreate)==null?void 0:o.call(s,...r)},onBlur:(...r)=>{var s,o;return(o=(s=this.options.current).onBlur)==null?void 0:o.call(s,...r)},onCreate:(...r)=>{var s,o;return(o=(s=this.options.current).onCreate)==null?void 0:o.call(s,...r)},onDestroy:(...r)=>{var s,o;return(o=(s=this.options.current).onDestroy)==null?void 0:o.call(s,...r)},onFocus:(...r)=>{var s,o;return(o=(s=this.options.current).onFocus)==null?void 0:o.call(s,...r)},onSelectionUpdate:(...r)=>{var s,o;return(o=(s=this.options.current).onSelectionUpdate)==null?void 0:o.call(s,...r)},onTransaction:(...r)=>{var s,o;return(o=(s=this.options.current).onTransaction)==null?void 0:o.call(s,...r)},onUpdate:(...r)=>{var s,o;return(o=(s=this.options.current).onUpdate)==null?void 0:o.call(s,...r)},onContentError:(...r)=>{var s,o;return(o=(s=this.options.current).onContentError)==null?void 0:o.call(s,...r)},onDrop:(...r)=>{var s,o;return(o=(s=this.options.current).onDrop)==null?void 0:o.call(s,...r)},onPaste:(...r)=>{var s,o;return(o=(s=this.options.current).onPaste)==null?void 0:o.call(s,...r)},onDelete:(...r)=>{var s,o;return(o=(s=this.options.current).onDelete)==null?void 0:o.call(s,...r)}};return new Nz(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((s,o)=>{var a;return s===((a=n.extensions)==null?void 0:a[o])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?oE.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,s)=>r===e[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function Zz(t={},e=[]){const n=C.useRef(t);n.current=t;const[r]=C.useState(()=>new Qz(n)),s=tC.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return C.useDebugValue(s),C.useEffect(r.onRender(e)),Yz({editor:s,selector:({transactionNumber:o})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&o===0?0:o+1}),s}var e$=C.createContext({editor:null});e$.Consumer;var t$=C.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),n$=()=>C.useContext(t$);W.forwardRef((t,e)=>{const{onDragStart:n}=n$(),r=t.as||"div";return d.jsx(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});W.createContext({markViewContentRef:()=>{}});var yd=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...r}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,r,n]},r$=/^\s*>\s$/,s$=Jn.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return yd("blockquote",{...Mt(this.options.HTMLAttributes,t),children:yd("slot",{})})},parseMarkdown:(t,e)=>e.createNode("blockquote",void 0,e.parseChildren(t.tokens||[])),renderMarkdown:(t,e)=>{if(!t.content)return"";const n=[];return t.content.forEach(s=>{const a=e.renderChildren(s).split(`
`).map(c=>`> ${c}`).join(`
`);n.push(a)}),n.flatMap(s=>[s,"> "]).slice(0,-1).join(`
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[ma({find:r$,type:this.type})]}}),o$=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,i$=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,a$=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,l$=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,c$=Ps.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return yd("strong",{...Mt(this.options.HTMLAttributes,t),children:yd("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,e)=>e.applyMark("bold",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`**${e.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[mi({find:o$,type:this.type}),mi({find:a$,type:this.type})]},addPasteRules(){return[jo({find:i$,type:this.type}),jo({find:l$,type:this.type})]}}),u$=/(^|[^`])`([^`]+)`(?!`)$/,d$=/(^|[^`])`([^`]+)`(?!`)/g,f$=Ps.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Mt(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,e)=>e.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,e)=>t.content?`\`${e.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[mi({find:u$,type:this.type})]},addPasteRules(){return[jo({find:d$,type:this.type})]}}),lm=4,h$=/^```([a-z]+)?[\s\n]$/,p$=/^~~~([a-z]+)?[\s\n]$/,m$=Jn.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:lm,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const o=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(a=>a.startsWith(n)).map(a=>a.replace(n,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Mt(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,e)=>{var n;return((n=t.raw)==null?void 0:n.startsWith("```"))===!1&&t.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:t.lang||null},t.text?[e.createTextNode(t.text)]:[])},renderMarkdown:(t,e)=>{var n;let r="";const s=((n=t.attrs)==null?void 0:n.language)||"";return t.content?r=[`\`\`\`${s}`,e.renderChildren(t.content),"```"].join(`
`):r=`\`\`\`${s}

\`\`\``,r},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:lm,{state:r}=t,{selection:s}=r,{$from:o,empty:a}=s;if(o.parent.type!==this.type)return!1;const c=" ".repeat(n);return a?t.commands.insertContent(c):t.commands.command(({tr:u})=>{const{from:h,to:p}=s,v=r.doc.textBetween(h,p,`
`,`
`).split(`
`).map(w=>c+w).join(`
`);return u.replaceWith(h,p,r.schema.text(v)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:lm,{state:r}=t,{selection:s}=r,{$from:o,empty:a}=s;return o.parent.type!==this.type?!1:a?t.commands.command(({tr:c})=>{var u;const{pos:h}=o,p=o.start(),m=o.end(),v=r.doc.textBetween(p,m,`
`,`
`).split(`
`);let w=0,b=0;const S=h-p;for(let R=0;R<v.length;R+=1){if(b+v[R].length>=S){w=R;break}b+=v[R].length+1}const j=((u=v[w].match(/^ */))==null?void 0:u[0])||"",A=Math.min(j.length,n);if(A===0)return!0;let E=p;for(let R=0;R<w;R+=1)E+=v[R].length+1;return c.delete(E,E+A),h-E<=A&&c.setSelection($e.create(c.doc,E)),!0}):t.commands.command(({tr:c})=>{const{from:u,to:h}=s,y=r.doc.textBetween(u,h,`
`,`
`).split(`
`).map(v=>{var w;const b=((w=v.match(/^ */))==null?void 0:w[0])||"",S=Math.min(b.length,n);return v.slice(S)}).join(`
`);return c.replaceWith(u,h,r.schema.text(y)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:s}=n;if(!s||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,a=r.parent.textContent.endsWith(`

`);return!o||!a?!1:t.chain().command(({tr:c})=>(c.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:s,empty:o}=n;if(!o||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const c=s.after();return c===void 0?!1:r.nodeAt(c)?t.commands.command(({tr:h})=>(h.setSelection(Ve.near(r.resolve(c))),!0)):t.commands.exitCode()}}},addInputRules(){return[Xm({find:h$,type:this.type,getAttributes:t=>({language:t[1]})}),Xm({find:p$,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new jt({key:new tn("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),s=r?JSON.parse(r):void 0,o=s?.mode;if(!n||!o)return!1;const{tr:a,schema:c}=t.state,u=c.text(n.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:o},u)),a.selection.$from.parent.type!==this.type&&a.setSelection($e.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),t.dispatch(a),!0}}})]}}),g$=Jn.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`

`):""}),y$=Jn.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Mt(this.options.HTMLAttributes,t)]},renderText(){return`
`},renderMarkdown:(t,e)=>e.indent(`
`),parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:s,storedMarks:o}=n;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:c}=r.extensionManager,u=o||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:h,dispatch:p})=>{if(p&&u&&a){const m=u.filter(y=>c.includes(y.type.name));h.ensureMarks(m)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),v$=Jn.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Mt(this.options.HTMLAttributes,e),0]},parseMarkdown:(t,e)=>e.createNode("heading",{level:t.depth||1},e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>{var n;const r=(n=t.attrs)!=null&&n.level?parseInt(t.attrs.level,10):1,s="#".repeat(r);return t.content?`${s} ${e.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>Xm({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),x$=Jn.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Mt(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!Tz(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:r}=n,s=t();return UN(n)?s.insertContentAt(r.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({state:o,tr:a,dispatch:c})=>{if(c){const{$to:u}=a.selection,h=u.end();if(u.nodeAfter)u.nodeAfter.isTextblock?a.setSelection($e.create(a.doc,u.pos+1)):u.nodeAfter.isBlock?a.setSelection(Re.create(a.doc,u.pos)):a.setSelection($e.create(a.doc,u.pos));else{const p=o.schema.nodes[this.options.nextNodeType]||u.parent.type.contentMatch.defaultType,m=p?.create();m&&(a.insert(h,m),a.setSelection($e.create(a.doc,h+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[Ez({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),b$=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,w$=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,k$=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,S$=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,C$=Ps.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Mt(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,e)=>e.applyMark("italic",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`*${e.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[mi({find:b$,type:this.type}),mi({find:k$,type:this.type})]},addPasteRules(){return[jo({find:w$,type:this.type}),jo({find:S$,type:this.type})]}});const N$="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",E$="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",eg="numeric",tg="ascii",ng="alpha",jl="asciinumeric",xl="alphanumeric",rg="domain",iE="emoji",T$="scheme",M$="slashscheme",cm="whitespace";function j$(t,e){return t in e||(e[t]=[]),e[t]}function ni(t,e,n){e[eg]&&(e[jl]=!0,e[xl]=!0),e[tg]&&(e[jl]=!0,e[ng]=!0),e[jl]&&(e[xl]=!0),e[ng]&&(e[xl]=!0),e[xl]&&(e[rg]=!0),e[iE]&&(e[rg]=!0);for(const r in e){const s=j$(r,n);s.indexOf(t)<0&&s.push(t)}}function A$(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function zn(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}zn.groups={};zn.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const s=e.jr[r][0],o=e.jr[r][1];if(o&&s.test(t))return o}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let s=0;s<t.length;s++)this.tt(t[s],e,n,r)},tr(t,e,n,r){r=r||zn.groups;let s;return e&&e.j?s=e:(s=new zn(e),n&&r&&ni(e,n,r)),this.jr.push([t,s]),s},ts(t,e,n,r){let s=this;const o=t.length;if(!o)return s;for(let a=0;a<o-1;a++)s=s.tt(t[a]);return s.tt(t[o-1],e,n,r)},tt(t,e,n,r){r=r||zn.groups;const s=this;if(e&&e.j)return s.j[t]=e,e;const o=e;let a,c=s.go(t);if(c?(a=new zn,Object.assign(a.j,c.j),a.jr.push.apply(a.jr,c.jr),a.jd=c.jd,a.t=c.t):a=new zn,o){if(r)if(a.t&&typeof a.t=="string"){const u=Object.assign(A$(a.t,r),n);ni(o,u,r)}else n&&ni(o,n,r);a.t=o}return s.j[t]=a,a}};const Be=(t,e,n,r,s)=>t.ta(e,n,r,s),Et=(t,e,n,r,s)=>t.tr(e,n,r,s),zb=(t,e,n,r,s)=>t.ts(e,n,r,s),oe=(t,e,n,r,s)=>t.tt(e,n,r,s),ks="WORD",sg="UWORD",aE="ASCIINUMERICAL",lE="ALPHANUMERICAL",Xl="LOCALHOST",og="TLD",ig="UTLD",Ku="SCHEME",Qi="SLASH_SCHEME",Ay="NUM",ag="WS",Dy="NL",Al="OPENBRACE",Dl="CLOSEBRACE",vd="OPENBRACKET",xd="CLOSEBRACKET",bd="OPENPAREN",wd="CLOSEPAREN",kd="OPENANGLEBRACKET",Sd="CLOSEANGLEBRACKET",Cd="FULLWIDTHLEFTPAREN",Nd="FULLWIDTHRIGHTPAREN",Ed="LEFTCORNERBRACKET",Td="RIGHTCORNERBRACKET",Md="LEFTWHITECORNERBRACKET",jd="RIGHTWHITECORNERBRACKET",Ad="FULLWIDTHLESSTHAN",Dd="FULLWIDTHGREATERTHAN",Rd="AMPERSAND",Od="APOSTROPHE",Id="ASTERISK",co="AT",Pd="BACKSLASH",Ld="BACKTICK",_d="CARET",po="COLON",Ry="COMMA",zd="DOLLAR",Vr="DOT",$d="EQUALS",Oy="EXCLAMATION",ar="HYPHEN",Rl="PERCENT",Fd="PIPE",Bd="PLUS",Vd="POUND",Ol="QUERY",Iy="QUOTE",cE="FULLWIDTHMIDDLEDOT",Py="SEMI",Hr="SLASH",Il="TILDE",Hd="UNDERSCORE",uE="EMOJI",Ud="SYM";var dE=Object.freeze({__proto__:null,ALPHANUMERICAL:lE,AMPERSAND:Rd,APOSTROPHE:Od,ASCIINUMERICAL:aE,ASTERISK:Id,AT:co,BACKSLASH:Pd,BACKTICK:Ld,CARET:_d,CLOSEANGLEBRACKET:Sd,CLOSEBRACE:Dl,CLOSEBRACKET:xd,CLOSEPAREN:wd,COLON:po,COMMA:Ry,DOLLAR:zd,DOT:Vr,EMOJI:uE,EQUALS:$d,EXCLAMATION:Oy,FULLWIDTHGREATERTHAN:Dd,FULLWIDTHLEFTPAREN:Cd,FULLWIDTHLESSTHAN:Ad,FULLWIDTHMIDDLEDOT:cE,FULLWIDTHRIGHTPAREN:Nd,HYPHEN:ar,LEFTCORNERBRACKET:Ed,LEFTWHITECORNERBRACKET:Md,LOCALHOST:Xl,NL:Dy,NUM:Ay,OPENANGLEBRACKET:kd,OPENBRACE:Al,OPENBRACKET:vd,OPENPAREN:bd,PERCENT:Rl,PIPE:Fd,PLUS:Bd,POUND:Vd,QUERY:Ol,QUOTE:Iy,RIGHTCORNERBRACKET:Td,RIGHTWHITECORNERBRACKET:jd,SCHEME:Ku,SEMI:Py,SLASH:Hr,SLASH_SCHEME:Qi,SYM:Ud,TILDE:Il,TLD:og,UNDERSCORE:Hd,UTLD:ig,UWORD:sg,WORD:ks,WS:ag});const bs=/[a-z]/,dl=/\p{L}/u,um=/\p{Emoji}/u,ws=/\d/,dm=/\s/,$b="\r",fm=`
`,D$="",R$="",hm="";let Pu=null,Lu=null;function O$(t=[]){const e={};zn.groups=e;const n=new zn;Pu==null&&(Pu=Fb(N$)),Lu==null&&(Lu=Fb(E$)),oe(n,"'",Od),oe(n,"{",Al),oe(n,"}",Dl),oe(n,"[",vd),oe(n,"]",xd),oe(n,"(",bd),oe(n,")",wd),oe(n,"<",kd),oe(n,">",Sd),oe(n,"",Cd),oe(n,"",Nd),oe(n,"",Ed),oe(n,"",Td),oe(n,"",Md),oe(n,"",jd),oe(n,"",Ad),oe(n,"",Dd),oe(n,"&",Rd),oe(n,"*",Id),oe(n,"@",co),oe(n,"`",Ld),oe(n,"^",_d),oe(n,":",po),oe(n,",",Ry),oe(n,"$",zd),oe(n,".",Vr),oe(n,"=",$d),oe(n,"!",Oy),oe(n,"-",ar),oe(n,"%",Rl),oe(n,"|",Fd),oe(n,"+",Bd),oe(n,"#",Vd),oe(n,"?",Ol),oe(n,'"',Iy),oe(n,"/",Hr),oe(n,";",Py),oe(n,"~",Il),oe(n,"_",Hd),oe(n,"\\",Pd),oe(n,"",cE);const r=Et(n,ws,Ay,{[eg]:!0});Et(r,ws,r);const s=Et(r,bs,aE,{[jl]:!0}),o=Et(r,dl,lE,{[xl]:!0}),a=Et(n,bs,ks,{[tg]:!0});Et(a,ws,s),Et(a,bs,a),Et(s,ws,s),Et(s,bs,s);const c=Et(n,dl,sg,{[ng]:!0});Et(c,bs),Et(c,ws,o),Et(c,dl,c),Et(o,ws,o),Et(o,bs),Et(o,dl,o);const u=oe(n,fm,Dy,{[cm]:!0}),h=oe(n,$b,ag,{[cm]:!0}),p=Et(n,dm,ag,{[cm]:!0});oe(n,hm,p),oe(h,fm,u),oe(h,hm,p),Et(h,dm,p),oe(p,$b),oe(p,fm),Et(p,dm,p),oe(p,hm,p);const m=Et(n,um,uE,{[iE]:!0});oe(m,"#"),Et(m,um,m),oe(m,D$,m);const y=oe(m,R$);oe(y,"#"),Et(y,um,m);const v=[[bs,a],[ws,s]],w=[[bs,null],[dl,c],[ws,o]];for(let b=0;b<Pu.length;b++)ro(n,Pu[b],og,ks,v);for(let b=0;b<Lu.length;b++)ro(n,Lu[b],ig,sg,w);ni(og,{tld:!0,ascii:!0},e),ni(ig,{utld:!0,alpha:!0},e),ro(n,"file",Ku,ks,v),ro(n,"mailto",Ku,ks,v),ro(n,"http",Qi,ks,v),ro(n,"https",Qi,ks,v),ro(n,"ftp",Qi,ks,v),ro(n,"ftps",Qi,ks,v),ni(Ku,{scheme:!0,ascii:!0},e),ni(Qi,{slashscheme:!0,ascii:!0},e),t=t.sort((b,S)=>b[0]>S[0]?1:-1);for(let b=0;b<t.length;b++){const S=t[b][0],j=t[b][1]?{[T$]:!0}:{[M$]:!0};S.indexOf("-")>=0?j[rg]=!0:bs.test(S)?ws.test(S)?j[jl]=!0:j[tg]=!0:j[eg]=!0,zb(n,S,S,j)}return zb(n,"localhost",Xl,{ascii:!0}),n.jd=new zn(Ud),{start:n,tokens:Object.assign({groups:e},dE)}}function fE(t,e){const n=I$(e.replace(/[A-Z]/g,c=>c.toLowerCase())),r=n.length,s=[];let o=0,a=0;for(;a<r;){let c=t,u=null,h=0,p=null,m=-1,y=-1;for(;a<r&&(u=c.go(n[a]));)c=u,c.accepts()?(m=0,y=0,p=c):m>=0&&(m+=n[a].length,y++),h+=n[a].length,o+=n[a].length,a++;o-=m,a-=y,h-=m,s.push({t:p.t,v:e.slice(o-h,o),s:o-h,e:o})}return s}function I$(t){const e=[],n=t.length;let r=0;for(;r<n;){let s=t.charCodeAt(r),o,a=s<55296||s>56319||r+1===n||(o=t.charCodeAt(r+1))<56320||o>57343?t[r]:t.slice(r,r+2);e.push(a),r+=a.length}return e}function ro(t,e,n,r,s){let o;const a=e.length;for(let c=0;c<a-1;c++){const u=e[c];t.j[u]?o=t.j[u]:(o=new zn(r),o.jr=s.slice(),t.j[u]=o),t=o}return o=new zn(n),o.jr=s.slice(),t.j[e[a-1]]=o,o}function Fb(t){const e=[],n=[];let r=0,s="0123456789";for(;r<t.length;){let o=0;for(;s.indexOf(t[r+o])>=0;)o++;if(o>0){e.push(n.join(""));for(let a=parseInt(t.substring(r,r+o),10);a>0;a--)n.pop();r+=o}else n.push(t[r]),r++}return e}const Ql={defaultProtocol:"http",events:null,format:Bb,formatHref:Bb,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Ly(t,e=null){let n=Object.assign({},Ql);t&&(n=Object.assign(n,t instanceof Ly?t.o:t));const r=n.ignoreTags,s=[];for(let o=0;o<r.length;o++)s.push(r[o].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=s}Ly.prototype={o:Ql,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let s=this.o[t];return s&&(typeof s=="object"?(s=n.t in s?s[n.t]:Ql[t],typeof s=="function"&&r&&(s=s(e,n))):typeof s=="function"&&r&&(s=s(e,n.t,n)),s)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function Bb(t){return t}function hE(t,e){this.t="token",this.v=t,this.tk=e}hE.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=Ql.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),s=t.get("tagName",n,e),o=this.toFormattedString(t),a={},c=t.get("className",n,e),u=t.get("target",n,e),h=t.get("rel",n,e),p=t.getObj("attributes",n,e),m=t.getObj("events",n,e);return a.href=r,c&&(a.class=c),u&&(a.target=u),h&&(a.rel=h),p&&Object.assign(a,p),{tagName:s,attributes:a,content:o,eventListeners:m}}};function Mf(t,e){class n extends hE{constructor(s,o){super(s,o),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const Vb=Mf("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Hb=Mf("text"),P$=Mf("nl"),_u=Mf("url",{isLink:!0,toHref(t=Ql.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==Xl&&t[1].t===po}}),ir=t=>new zn(t);function L$({groups:t}){const e=t.domain.concat([Rd,Id,co,Pd,Ld,_d,zd,$d,ar,Ay,Rl,Fd,Bd,Vd,Hr,Ud,Il,Hd]),n=[Od,po,Ry,Vr,Oy,Rl,Ol,Iy,Py,kd,Sd,Al,Dl,xd,vd,bd,wd,Cd,Nd,Ed,Td,Md,jd,Ad,Dd],r=[Rd,Od,Id,Pd,Ld,_d,zd,$d,ar,Al,Dl,Rl,Fd,Bd,Vd,Ol,Hr,Ud,Il,Hd],s=ir(),o=oe(s,Il);Be(o,r,o),Be(o,t.domain,o);const a=ir(),c=ir(),u=ir();Be(s,t.domain,a),Be(s,t.scheme,c),Be(s,t.slashscheme,u),Be(a,r,o),Be(a,t.domain,a);const h=oe(a,co);oe(o,co,h),oe(c,co,h),oe(u,co,h);const p=oe(o,Vr);Be(p,r,o),Be(p,t.domain,o);const m=ir();Be(h,t.domain,m),Be(m,t.domain,m);const y=oe(m,Vr);Be(y,t.domain,m);const v=ir(Vb);Be(y,t.tld,v),Be(y,t.utld,v),oe(h,Xl,v);const w=oe(m,ar);oe(w,ar,w),Be(w,t.domain,m),Be(v,t.domain,m),oe(v,Vr,y),oe(v,ar,w);const b=oe(v,po);Be(b,t.numeric,Vb);const S=oe(a,ar),N=oe(a,Vr);oe(S,ar,S),Be(S,t.domain,a),Be(N,r,o),Be(N,t.domain,a);const j=ir(_u);Be(N,t.tld,j),Be(N,t.utld,j),Be(j,t.domain,a),Be(j,r,o),oe(j,Vr,N),oe(j,ar,S),oe(j,co,h);const A=oe(j,po),E=ir(_u);Be(A,t.numeric,E);const T=ir(_u),R=ir();Be(T,e,T),Be(T,n,R),Be(R,e,T),Be(R,n,R),oe(j,Hr,T),oe(E,Hr,T);const D=oe(c,po),O=oe(u,po),H=oe(O,Hr),Q=oe(H,Hr);Be(c,t.domain,a),oe(c,Vr,N),oe(c,ar,S),Be(u,t.domain,a),oe(u,Vr,N),oe(u,ar,S),Be(D,t.domain,T),oe(D,Hr,T),oe(D,Ol,T),Be(Q,t.domain,T),Be(Q,e,T),oe(Q,Hr,T);const ce=[[Al,Dl],[vd,xd],[bd,wd],[kd,Sd],[Cd,Nd],[Ed,Td],[Md,jd],[Ad,Dd]];for(let de=0;de<ce.length;de++){const[le,ue]=ce[de],re=oe(T,le);oe(R,le,re),oe(re,ue,T);const U=ir(_u);Be(re,e,U);const q=ir();Be(re,n),Be(U,e,U),Be(U,n,q),Be(q,e,U),Be(q,n,q),oe(U,ue,T),oe(q,ue,T)}return oe(s,Xl,j),oe(s,Dy,P$),{start:s,tokens:dE}}function _$(t,e,n){let r=n.length,s=0,o=[],a=[];for(;s<r;){let c=t,u=null,h=null,p=0,m=null,y=-1;for(;s<r&&!(u=c.go(n[s].t));)a.push(n[s++]);for(;s<r&&(h=u||c.go(n[s].t));)u=null,c=h,c.accepts()?(y=0,m=c):y>=0&&y++,s++,p++;if(y<0)s-=p,s<r&&(a.push(n[s]),s++);else{a.length>0&&(o.push(pm(Hb,e,a)),a=[]),s-=y,p-=y;const v=m.t,w=n.slice(s-p,s);o.push(pm(v,e,w))}}return a.length>0&&o.push(pm(Hb,e,a)),o}function pm(t,e,n){const r=n[0].s,s=n[n.length-1].e,o=e.slice(r,s);return new t(o,n)}const z$=typeof console<"u"&&console&&console.warn||(()=>{}),$$="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",gt={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function F$(){return zn.groups={},gt.scanner=null,gt.parser=null,gt.tokenQueue=[],gt.pluginQueue=[],gt.customSchemes=[],gt.initialized=!1,gt}function Ub(t,e=!1){if(gt.initialized&&z$(`linkifyjs: already initialized - will not register custom scheme "${t}" ${$$}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);gt.customSchemes.push([t,e])}function B$(){gt.scanner=O$(gt.customSchemes);for(let t=0;t<gt.tokenQueue.length;t++)gt.tokenQueue[t][1]({scanner:gt.scanner});gt.parser=L$(gt.scanner.tokens);for(let t=0;t<gt.pluginQueue.length;t++)gt.pluginQueue[t][1]({scanner:gt.scanner,parser:gt.parser});return gt.initialized=!0,gt}function _y(t){return gt.initialized||B$(),_$(gt.parser.start,t,fE(gt.scanner.start,t))}_y.scan=fE;function pE(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new Ly(n),s=_y(t),o=[];for(let a=0;a<s.length;a++){const c=s[a];c.isLink&&(!e||c.t===e)&&r.check(c)&&o.push(c.toFormattedObject(r))}return o}var zy="[\0- -\u2029]",V$=new RegExp(zy),H$=new RegExp(`${zy}$`),U$=new RegExp(zy,"g");function W$(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function K$(t){return new jt({key:new tn("autolink"),appendTransaction:(e,n,r)=>{const s=e.some(h=>h.docChanged)&&!n.doc.eq(r.doc),o=e.some(h=>h.getMeta("preventAutolink"));if(!s||o)return;const{tr:a}=r,c=LN(n.doc,[...e]);if(HN(c).forEach(({newRange:h})=>{const p=D_(r.doc,h,v=>v.isTextblock);let m,y;if(p.length>1)m=p[0],y=r.doc.textBetween(m.pos,m.pos+m.node.nodeSize,void 0," ");else if(p.length){const v=r.doc.textBetween(h.from,h.to," "," ");if(!H$.test(v))return;m=p[0],y=r.doc.textBetween(m.pos,h.to,void 0," ")}if(m&&y){const v=y.split(V$).filter(Boolean);if(v.length<=0)return!1;const w=v[v.length-1],b=m.pos+y.lastIndexOf(w);if(!w)return!1;const S=_y(w).map(N=>N.toObject(t.defaultProtocol));if(!W$(S))return!1;S.filter(N=>N.isLink).map(N=>({...N,from:b+N.start+1,to:b+N.end+1})).filter(N=>r.schema.marks.code?!r.doc.rangeHasMark(N.from,N.to,r.schema.marks.code):!0).filter(N=>t.validate(N.value)).filter(N=>t.shouldAutoLink(N.value)).forEach(N=>{Ny(N.from,N.to,r.doc).some(j=>j.mark.type===t.type)||a.addMark(N.from,N.to,t.type.create({href:N.href}))})}}),!!a.steps.length)return a}})}function q$(t){return new jt({key:new tn("handleClickLink"),props:{handleClick:(e,n,r)=>{var s,o;if(r.button!==0||!e.editable)return!1;let a=null;if(r.target instanceof HTMLAnchorElement)a=r.target;else{let p=r.target;const m=[];for(;p.nodeName!=="DIV";)m.push(p),p=p.parentNode;a=m.find(y=>y.nodeName==="A")}if(!a)return!1;const c=VN(e.state,t.type.name),u=(s=a?.href)!=null?s:c.href,h=(o=a?.target)!=null?o:c.target;return t.enableClickSelection&&t.editor.commands.extendMarkRange(t.type.name),a&&u?(window.open(u,h),!0):!1}}})}function G$(t){return new jt({key:new tn("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{shouldAutoLink:s}=t,{state:o}=e,{selection:a}=o,{empty:c}=a;if(c)return!1;let u="";r.content.forEach(p=>{u+=p.textContent});const h=pE(u,{defaultProtocol:t.defaultProtocol}).find(p=>p.isLink&&p.value===u);return!u||!h||s!==void 0&&!s(h.href)?!1:t.editor.commands.setMark(t.type,{href:h.href})}}})}function Xo(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const s=typeof r=="string"?r:r.scheme;s&&n.push(s)}),!t||t.replace(U$,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var mE=Ps.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){Ub(t);return}Ub(t.scheme,t.optionalSlashes)})},onDestroy(){F$()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!Xo(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!Xo(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!Xo(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Mt(this.options.HTMLAttributes,t),0]:["a",Mt(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,e)=>e.applyMark("link",e.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,e)=>{var n;const r=((n=t.attrs)==null?void 0:n.href)||"";return`[${e.renderChildren(t)}](${r})`},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Xo(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!Xo(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[jo({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,s=pE(t).filter(o=>o.isLink&&this.options.isAllowedUri(o.value,{defaultValidate:a=>!!Xo(a,n),protocols:n,defaultProtocol:r}));s.length&&s.forEach(o=>{this.options.shouldAutoLink(o.value)&&e.push({text:o.value,data:{href:o.href},index:o.start})})}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(K$({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:s=>!!Xo(s,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(q$({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(G$({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),t}}),Y$=mE,J$=Object.defineProperty,X$=(t,e)=>{for(var n in e)J$(t,n,{get:e[n],enumerable:!0})},Q$="listItem",Wb="textStyle",Kb=/^\s*([-+*])\s$/,gE=Jn.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Mt(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>t.type!=="list"||t.ordered?[]:{type:"bulletList",content:t.items?e.parseChildren(t.items):[]},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Q$,this.editor.getAttributes(Wb)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=ma({find:Kb,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=ma({find:Kb,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Wb),editor:this.editor})),[t]}}),yE=Jn.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Mt(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(t,e)=>{if(t.type!=="list_item")return[];let n=[];if(t.tokens&&t.tokens.length>0)if(t.tokens.some(s=>s.type==="paragraph"))n=e.parseChildren(t.tokens);else{const s=t.tokens[0];if(s&&s.type==="text"&&s.tokens&&s.tokens.length>0){if(n=[{type:"paragraph",content:e.parseInline(s.tokens)}],t.tokens.length>1){const a=t.tokens.slice(1),c=e.parseChildren(a);n.push(...c)}}else n=e.parseChildren(t.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(t,e,n)=>jy(t,e,r=>r.parentType==="bulletList"?"- ":r.parentType==="orderedList"?`${r.index+1}. `:"- ",n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Z$={};X$(Z$,{findListItemPos:()=>uc,getNextListDepth:()=>$y,handleBackspace:()=>lg,handleDelete:()=>cg,hasListBefore:()=>vE,hasListItemAfter:()=>e6,hasListItemBefore:()=>xE,listItemHasSubList:()=>bE,nextListIsDeeper:()=>wE,nextListIsHigher:()=>kE});var uc=(t,e)=>{const{$from:n}=e.selection,r=Pt(t,e.schema);let s=null,o=n.depth,a=n.pos,c=null;for(;o>0&&c===null;)s=n.node(o),s.type===r?c=o:(o-=1,a-=1);return c===null?null:{$pos:e.doc.resolve(a),depth:c}},$y=(t,e)=>{const n=uc(t,e);if(!n)return!1;const[,r]=B_(e,t,n.$pos.pos+4);return r},vE=(t,e,n)=>{const{$anchor:r}=t.selection,s=Math.max(0,r.pos-2),o=t.doc.resolve(s).node();return!(!o||!n.includes(o.type.name))},xE=(t,e)=>{var n;const{$anchor:r}=e.selection,s=e.doc.resolve(r.pos-2);return!(s.index()===0||((n=s.nodeBefore)==null?void 0:n.type.name)!==t)},bE=(t,e,n)=>{if(!n)return!1;const r=Pt(t,e.schema);let s=!1;return n.descendants(o=>{o.type===r&&(s=!0)}),s},lg=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!Mo(t.state,e)&&vE(t.state,e,n)){const{$anchor:c}=t.state.selection,u=t.state.doc.resolve(c.before()-1),h=[];u.node().descendants((y,v)=>{y.type.name===e&&h.push({node:y,pos:v})});const p=h.at(-1);if(!p)return!1;const m=t.state.doc.resolve(u.start()+p.pos+1);return t.chain().cut({from:c.start()-1,to:c.end()+1},m.end()).joinForward().run()}if(!Mo(t.state,e)||!W_(t.state))return!1;const r=uc(e,t.state);if(!r)return!1;const o=t.state.doc.resolve(r.$pos.pos-2).node(r.depth),a=bE(e,t.state,o);return xE(e,t.state)&&!a?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},wE=(t,e)=>{const n=$y(t,e),r=uc(t,e);return!r||!n?!1:n>r.depth},kE=(t,e)=>{const n=$y(t,e),r=uc(t,e);return!r||!n?!1:n<r.depth},cg=(t,e)=>{if(!Mo(t.state,e)||!U_(t.state,e))return!1;const{selection:n}=t.state,{$from:r,$to:s}=n;return!n.empty&&r.sameParent(s)?!1:wE(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():kE(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},e6=(t,e)=>{var n;const{$anchor:r}=e.selection,s=e.doc.resolve(r.pos-r.parentOffset-2);return!(s.index()===s.parent.childCount-1||((n=s.nodeAfter)==null?void 0:n.type.name)!==t)},SE=ht.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&cg(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&cg(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&lg(t,n,r)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&lg(t,n,r)&&(e=!0)}),e}}}}),qb=/^(\s*)(\d+)\.\s+(.*)$/,t6=/^\s/;function n6(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n],o=s.match(qb);if(!o)break;const[,a,c,u]=o,h=a.length;let p=u,m=n+1;const y=[s];for(;m<t.length;){const v=t[m];if(v.match(qb))break;if(v.trim()==="")y.push(v),p+=`
`,m+=1;else if(v.match(t6))y.push(v),p+=`
${v.slice(h+2)}`,m+=1;else break}e.push({indent:h,number:parseInt(c,10),content:p.trim(),raw:y.join(`
`)}),r=m,n=m}return[e,r]}function CE(t,e,n){var r;const s=[];let o=0;for(;o<t.length;){const a=t[o];if(a.indent===e){const c=a.content.split(`
`),u=((r=c[0])==null?void 0:r.trim())||"",h=[];u&&h.push({type:"paragraph",raw:u,tokens:n.inlineTokens(u)});const p=c.slice(1).join(`
`).trim();if(p){const v=n.blockTokens(p);h.push(...v)}let m=o+1;const y=[];for(;m<t.length&&t[m].indent>e;)y.push(t[m]),m+=1;if(y.length>0){const v=Math.min(...y.map(b=>b.indent)),w=CE(y,v,n);h.push({type:"list",ordered:!0,start:y[0].number,items:w,raw:y.map(b=>b.raw).join(`
`)})}s.push({type:"list_item",raw:a.raw,tokens:h}),o=m}else o+=1}return s}function r6(t,e){return t.map(n=>{if(n.type!=="list_item")return e.parseChildren([n])[0];const r=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(s=>{if(s.type==="paragraph"||s.type==="list"||s.type==="blockquote"||s.type==="code")r.push(...e.parseChildren([s]));else if(s.type==="text"&&s.tokens){const o=e.parseChildren([s]);r.push({type:"paragraph",content:o})}else{const o=e.parseChildren([s]);o.length>0&&r.push(...o)}}),{type:"listItem",content:r}})}var s6="listItem",Gb="textStyle",Yb=/^(\d+)\.\s$/,NE=Jn.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",Mt(this.options.HTMLAttributes,n),0]:["ol",Mt(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>{if(t.type!=="list"||!t.ordered)return[];const n=t.start||1,r=t.items?r6(t.items,e):[];return n!==1?{type:"orderedList",attrs:{start:n},content:r}:{type:"orderedList",content:r}},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:t=>{const e=t.match(/^(\s*)(\d+)\.\s+/),n=e?.index;return n!==void 0?n:-1},tokenize:(t,e,n)=>{var r;const s=t.split(`
`),[o,a]=n6(s);if(o.length===0)return;const c=CE(o,0,n);return c.length===0?void 0:{type:"list",ordered:!0,start:((r=o[0])==null?void 0:r.number)||1,items:c,raw:s.slice(0,a).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(s6,this.editor.getAttributes(Gb)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=ma({find:Yb,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=ma({find:Yb,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(Gb)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),o6=/^\s*(\[([( |x])?\])\s$/,EE=Jn.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",Mt(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(t,e)=>{const n=[];if(t.tokens&&t.tokens.length>0?n.push(e.createNode("paragraph",{},e.parseInline(t.tokens))):t.text?n.push(e.createNode("paragraph",{},[e.createNode("text",{text:t.text})])):n.push(e.createNode("paragraph",{},[])),t.nestedTokens&&t.nestedTokens.length>0){const r=e.parseChildren(t.nestedTokens);n.push(...r)}return e.createNode("taskItem",{checked:t.checked||!1},n)},renderMarkdown:(t,e)=>{var n;const s=`- [${(n=t.attrs)!=null&&n.checked?"x":" "}] `;return jy(t,e,s)},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const s=document.createElement("li"),o=document.createElement("label"),a=document.createElement("span"),c=document.createElement("input"),u=document.createElement("div"),h=p=>{var m,y;c.ariaLabel=((y=(m=this.options.a11y)==null?void 0:m.checkboxLabel)==null?void 0:y.call(m,p,c.checked))||`Task item checkbox for ${p.textContent||"empty task item"}`};return h(t),o.contentEditable="false",c.type="checkbox",c.addEventListener("mousedown",p=>p.preventDefault()),c.addEventListener("change",p=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){c.checked=!c.checked;return}const{checked:m}=p.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:y})=>{const v=n();if(typeof v!="number")return!1;const w=y.doc.nodeAt(v);return y.setNodeMarkup(v,void 0,{...w?.attrs,checked:m}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,m)||(c.checked=!c.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([p,m])=>{s.setAttribute(p,m)}),s.dataset.checked=t.attrs.checked,c.checked=t.attrs.checked,o.append(c,a),s.append(o,u),Object.entries(e).forEach(([p,m])=>{s.setAttribute(p,m)}),{dom:s,contentDOM:u,update:p=>p.type!==this.type?!1:(s.dataset.checked=p.attrs.checked,c.checked=p.attrs.checked,h(p),!0)}}},addInputRules(){return[ma({find:o6,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),TE=Jn.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",Mt(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(t,e)=>e.createNode("taskList",{},e.parseChildren(t.items||[])),renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(t){var e;const n=(e=t.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return n!==void 0?n:-1},tokenize(t,e,n){const r=o=>{const a=Qm(o,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:c=>({indentLevel:c[1].length,mainContent:c[4],checked:c[3].toLowerCase()==="x"}),createToken:(c,u)=>({type:"taskItem",raw:"",mainContent:c.mainContent,indentLevel:c.indentLevel,checked:c.checked,text:c.mainContent,tokens:n.inlineTokens(c.mainContent),nestedTokens:u}),customNestedParser:r},n);return a?[{type:"taskList",raw:a.raw,items:a.items}]:n.blockTokens(o)},s=Qm(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:o=>({indentLevel:o[1].length,mainContent:o[4],checked:o[3].toLowerCase()==="x"}),createToken:(o,a)=>({type:"taskItem",raw:"",mainContent:o.mainContent,indentLevel:o.indentLevel,checked:o.checked,text:o.mainContent,tokens:n.inlineTokens(o.mainContent),nestedTokens:a}),customNestedParser:r},n);if(s)return{type:"taskList",raw:s.raw,items:s.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});ht.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(gE.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(yE.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(SE.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(NE.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(EE.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(TE.configure(this.options.taskList)),t}});var i6=Jn.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Mt(this.options.HTMLAttributes,t),0]},parseMarkdown:(t,e)=>{const n=t.tokens||[];return n.length===1&&n[0].type==="image"?e.parseChildren([n[0]]):e.createNode("paragraph",void 0,e.parseInline(n))},renderMarkdown:(t,e)=>!t||!Array.isArray(t.content)?"":e.renderChildren(t.content),addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),a6=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,l6=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,c6=Ps.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Mt(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,e)=>e.applyMark("strike",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`~~${e.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[mi({find:a6,type:this.type})]},addPasteRules(){return[jo({find:l6,type:this.type})]}}),u6=Jn.create({name:"text",group:"inline",parseMarkdown:t=>({type:"text",text:t.text||""}),renderMarkdown:t=>t.text||""}),ME=Ps.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",Mt(this.options.HTMLAttributes,t),0]},parseMarkdown(t,e){return e.applyMark(this.name||"underline",e.parseInline(t.tokens||[]))},renderMarkdown(t,e){return`++${e.renderChildren(t)}++`},markdownTokenizer:{name:"underline",level:"inline",start(t){return t.indexOf("++")},tokenize(t,e,n){const s=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!s)return;const o=s[2].trim();return{type:"underline",raw:s[0],text:o,tokens:n.inlineTokens(o)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),d6=ME;function f6(t={}){return new jt({view(e){return new h6(e,t)}})}class h6{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let o=a=>{this[s](a)};return e.dom.addEventListener(s,o),{name:s,handler:o}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,s=this.editorView.dom,o=s.getBoundingClientRect(),a=o.width/s.offsetWidth,c=o.height/s.offsetHeight;if(n){let m=e.nodeBefore,y=e.nodeAfter;if(m||y){let v=this.editorView.nodeDOM(this.cursorPos-(m?m.nodeSize:0));if(v){let w=v.getBoundingClientRect(),b=m?w.bottom:w.top;m&&y&&(b=(b+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let S=this.width/2*c;r={left:w.left,right:w.right,top:b-S,bottom:b+S}}}}if(!r){let m=this.editorView.coordsAtPos(this.cursorPos),y=this.width/2*a;r={left:m.left-y,right:m.left+y,top:m.top,bottom:m.bottom}}let u=this.editorView.dom.offsetParent;this.element||(this.element=u.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let h,p;if(!u||u==document.body&&getComputedStyle(u).position=="static")h=-pageXOffset,p=-pageYOffset;else{let m=u.getBoundingClientRect(),y=m.width/u.offsetWidth,v=m.height/u.offsetHeight;h=m.left-u.scrollLeft*y,p=m.top-u.scrollTop*v}this.element.style.left=(r.left-h)/a+"px",this.element.style.top=(r.top-p)/c+"px",this.element.style.width=(r.right-r.left)/a+"px",this.element.style.height=(r.bottom-r.top)/c+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),s=r&&r.type.spec.disableDropCursor,o=typeof s=="function"?s(this.editorView,n,e):s;if(n&&!o){let a=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let c=MC(this.editorView.state.doc,a,this.editorView.dragging.slice);c!=null&&(a=c)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class Tt extends Ve{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return Tt.valid(r)?new Tt(r):Ve.near(r)}content(){return ye.empty}eq(e){return e instanceof Tt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Tt(e.resolve(n.pos))}getBookmark(){return new Fy(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!p6(e)||!m6(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let s=n.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&Tt.valid(e))return e;let s=e.pos,o=null;for(let a=e.depth;;a--){let c=e.node(a);if(n>0?e.indexAfter(a)<c.childCount:e.index(a)>0){o=c.child(n>0?e.indexAfter(a):e.index(a)-1);break}else if(a==0)return null;s+=n;let u=e.doc.resolve(s);if(Tt.valid(u))return u}for(;;){let a=n>0?o.firstChild:o.lastChild;if(!a){if(o.isAtom&&!o.isText&&!Re.isSelectable(o)){e=e.doc.resolve(s+o.nodeSize*n),r=!1;continue e}break}o=a,s+=n;let c=e.doc.resolve(s);if(Tt.valid(c))return c}return null}}}Tt.prototype.visible=!1;Tt.findFrom=Tt.findGapCursorFrom;Ve.jsonID("gapcursor",Tt);class Fy{constructor(e){this.pos=e}map(e){return new Fy(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return Tt.valid(n)?new Tt(n):Ve.near(n)}}function jE(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function p6(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||jE(s.type))return!0;if(s.inlineContent)return!1}}return!0}function m6(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||jE(s.type))return!0;if(s.inlineContent)return!1}}return!0}function g6(){return new jt({props:{decorations:b6,createSelectionBetween(t,e,n){return e.pos==n.pos&&Tt.valid(n)?new Tt(n):null},handleClick:v6,handleKeyDown:y6,handleDOMEvents:{beforeinput:x6}}})}const y6=MN({ArrowLeft:zu("horiz",-1),ArrowRight:zu("horiz",1),ArrowUp:zu("vert",-1),ArrowDown:zu("vert",1)});function zu(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,s,o){let a=r.selection,c=e>0?a.$to:a.$from,u=a.empty;if(a instanceof $e){if(!o.endOfTextblock(n)||c.depth==0)return!1;u=!1,c=r.doc.resolve(e>0?c.after():c.before())}let h=Tt.findGapCursorFrom(c,e,u);return h?(s&&s(r.tr.setSelection(new Tt(h))),!0):!1}}function v6(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!Tt.valid(r))return!1;let s=t.posAtCoords({left:n.clientX,top:n.clientY});return s&&s.inside>-1&&Re.isSelectable(t.state.doc.nodeAt(s.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Tt(r))),!0)}function x6(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Tt))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let s=ne.empty;for(let a=r.length-1;a>=0;a--)s=ne.from(r[a].createAndFill(null,s));let o=t.state.tr.replace(n.pos,n.pos,new ye(s,0,0));return o.setSelection($e.near(o.doc.resolve(n.pos+1))),t.dispatch(o),!1}function b6(t){if(!(t.selection instanceof Tt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Ct.create(t.doc,[kn.widget(t.selection.head,e,{key:"gapcursor"})])}var Wd=200,en=function(){};en.prototype.append=function(e){return e.length?(e=en.from(e),!this.length&&e||e.length<Wd&&this.leafAppend(e)||this.length<Wd&&e.leafPrepend(this)||this.appendInner(e)):this};en.prototype.prepend=function(e){return e.length?en.from(e).append(this):this};en.prototype.appendInner=function(e){return new w6(this,e)};en.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?en.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};en.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};en.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};en.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var s=[];return this.forEach(function(o,a){return s.push(e(o,a))},n,r),s};en.from=function(e){return e instanceof en?e:e&&e.length?new AE(e):en.empty};var AE=(function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,o){return s==0&&o==this.length?this:new e(this.values.slice(s,o))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,o,a,c){for(var u=o;u<a;u++)if(s(this.values[u],c+u)===!1)return!1},e.prototype.forEachInvertedInner=function(s,o,a,c){for(var u=o-1;u>=a;u--)if(s(this.values[u],c+u)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=Wd)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=Wd)return new e(s.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e})(en);en.empty=new AE([]);var w6=(function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,s,o,a){var c=this.left.length;if(s<c&&this.left.forEachInner(r,s,Math.min(o,c),a)===!1||o>c&&this.right.forEachInner(r,Math.max(s-c,0),Math.min(this.length,o)-c,a+c)===!1)return!1},e.prototype.forEachInvertedInner=function(r,s,o,a){var c=this.left.length;if(s>c&&this.right.forEachInvertedInner(r,s-c,Math.max(o,c)-c,a+c)===!1||o<c&&this.left.forEachInvertedInner(r,Math.min(s,c),o,a)===!1)return!1},e.prototype.sliceInner=function(r,s){if(r==0&&s==this.length)return this;var o=this.left.length;return s<=o?this.left.slice(r,s):r>=o?this.right.slice(r-o,s-o):this.left.slice(r,o).append(this.right.slice(0,s-o))},e.prototype.leafAppend=function(r){var s=this.right.leafAppend(r);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(r){var s=this.left.leafPrepend(r);if(s)return new e(s,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e})(en);const k6=500;class kr{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let s,o;n&&(s=this.remapping(r,this.items.length),o=s.maps.length);let a=e.tr,c,u,h=[],p=[];return this.items.forEach((m,y)=>{if(!m.step){s||(s=this.remapping(r,y+1),o=s.maps.length),o--,p.push(m);return}if(s){p.push(new so(m.map));let v=m.step.map(s.slice(o)),w;v&&a.maybeStep(v).doc&&(w=a.mapping.maps[a.mapping.maps.length-1],h.push(new so(w,void 0,void 0,h.length+p.length))),o--,w&&s.appendMap(w,o)}else a.maybeStep(m.step);if(m.selection)return c=s?m.selection.map(s.slice(o)):m.selection,u=new kr(this.items.slice(0,r).append(p.reverse().concat(h)),this.eventCount-1),!1},this.items.length,0),{remaining:u,transform:a,selection:c}}addTransform(e,n,r,s){let o=[],a=this.eventCount,c=this.items,u=!s&&c.length?c.get(c.length-1):null;for(let p=0;p<e.steps.length;p++){let m=e.steps[p].invert(e.docs[p]),y=new so(e.mapping.maps[p],m,n),v;(v=u&&u.merge(y))&&(y=v,p?o.pop():c=c.slice(0,c.length-1)),o.push(y),n&&(a++,n=void 0),s||(u=y)}let h=a-r.depth;return h>C6&&(c=S6(c,h),a-=h),new kr(c.append(o),a)}remapping(e,n){let r=new Ul;return this.items.forEach((s,o)=>{let a=s.mirrorOffset!=null&&o-s.mirrorOffset>=e?r.maps.length-s.mirrorOffset:void 0;r.appendMap(s.map,a)},e,n),r}addMaps(e){return this.eventCount==0?this:new kr(this.items.append(e.map(n=>new so(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],s=Math.max(0,this.items.length-n),o=e.mapping,a=e.steps.length,c=this.eventCount;this.items.forEach(y=>{y.selection&&c--},s);let u=n;this.items.forEach(y=>{let v=o.getMirror(--u);if(v==null)return;a=Math.min(a,v);let w=o.maps[v];if(y.step){let b=e.steps[v].invert(e.docs[v]),S=y.selection&&y.selection.map(o.slice(u+1,v));S&&c++,r.push(new so(w,b,S))}else r.push(new so(w))},s);let h=[];for(let y=n;y<a;y++)h.push(new so(o.maps[y]));let p=this.items.slice(0,s).append(h).append(r),m=new kr(p,c);return m.emptyItemCount()>k6&&(m=m.compress(this.items.length-r.length)),m}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,s=[],o=0;return this.items.forEach((a,c)=>{if(c>=e)s.push(a),a.selection&&o++;else if(a.step){let u=a.step.map(n.slice(r)),h=u&&u.getMap();if(r--,h&&n.appendMap(h,r),u){let p=a.selection&&a.selection.map(n.slice(r));p&&o++;let m=new so(h.invert(),u,p),y,v=s.length-1;(y=s.length&&s[v].merge(m))?s[v]=y:s.push(m)}}else a.map&&r--},this.items.length,0),new kr(en.from(s.reverse()),o)}}kr.empty=new kr(en.empty,0);function S6(t,e){let n;return t.forEach((r,s)=>{if(r.selection&&e--==0)return n=s,!1}),t.slice(n)}let so=class DE{constructor(e,n,r,s){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new DE(n.getMap().invert(),n,this.selection)}}};class uo{constructor(e,n,r,s,o){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=s,this.prevComposition=o}}const C6=20;function N6(t,e,n,r){let s=n.getMeta(ci),o;if(s)return s.historyState;n.getMeta(M6)&&(t=new uo(t.done,t.undone,null,0,-1));let a=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(a&&a.getMeta(ci))return a.getMeta(ci).redo?new uo(t.done.addTransform(n,void 0,r,qu(e)),t.undone,Jb(n.mapping.maps),t.prevTime,t.prevComposition):new uo(t.done,t.undone.addTransform(n,void 0,r,qu(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let c=n.getMeta("composition"),u=t.prevTime==0||!a&&t.prevComposition!=c&&(t.prevTime<(n.time||0)-r.newGroupDelay||!E6(n,t.prevRanges)),h=a?mm(t.prevRanges,n.mapping):Jb(n.mapping.maps);return new uo(t.done.addTransform(n,u?e.selection.getBookmark():void 0,r,qu(e)),kr.empty,h,n.time,c??t.prevComposition)}else return(o=n.getMeta("rebased"))?new uo(t.done.rebased(n,o),t.undone.rebased(n,o),mm(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new uo(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),mm(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function E6(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,s)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&s>=e[o]&&(n=!0)}),n}function Jb(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,s,o,a)=>e.push(o,a));return e}function mm(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let s=e.map(t[r],1),o=e.map(t[r+1],-1);s<=o&&n.push(s,o)}return n}function T6(t,e,n){let r=qu(e),s=ci.get(e).spec.config,o=(n?t.undone:t.done).popEvent(e,r);if(!o)return null;let a=o.selection.resolve(o.transform.doc),c=(n?t.done:t.undone).addTransform(o.transform,e.selection.getBookmark(),s,r),u=new uo(n?c:o.remaining,n?o.remaining:c,null,0,-1);return o.transform.setSelection(a).setMeta(ci,{redo:n,historyState:u})}let gm=!1,Xb=null;function qu(t){let e=t.plugins;if(Xb!=e){gm=!1,Xb=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){gm=!0;break}}return gm}const ci=new tn("history"),M6=new tn("closeHistory");function j6(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new jt({key:ci,state:{init(){return new uo(kr.empty,kr.empty,null,0,-1)},apply(e,n,r){return N6(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,s=r=="historyUndo"?OE:r=="historyRedo"?IE:null;return s?(n.preventDefault(),s(e.state,e.dispatch)):!1}}}})}function RE(t,e){return(n,r)=>{let s=ci.getState(n);if(!s||(t?s.undone:s.done).eventCount==0)return!1;if(r){let o=T6(s,n,t);o&&r(e?o.scrollIntoView():o)}return!0}}const OE=RE(!1,!0),IE=RE(!0,!0);ht.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=t?.node||this.editor.state.doc;if((t?.mode||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=t=>{const e=t?.node||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new jt({key:new tn("characterCount"),appendTransaction:(e,n,r)=>{if(t)return;const s=this.options.limit;if(s==null||s===0){t=!0;return}const o=this.storage.characters({node:r.doc});if(o>s){const a=o-s,c=0,u=a;console.warn(`[CharacterCount] Initial content exceeded limit of ${s} characters. Content was automatically trimmed.`);const h=r.tr.deleteRange(c,u);return t=!0,h}t=!0},filterTransaction:(e,n)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const s=this.storage.characters({node:n.doc}),o=this.storage.characters({node:e.doc});if(o<=r||s>r&&o>r&&o<=s)return!0;if(s>r&&o>r&&o>s||!e.getMeta("paste"))return!1;const c=e.selection.$head.pos,u=o-r,h=c-u,p=c;return e.deleteRange(h,p),!(this.storage.characters({node:e.doc})>r)}})]}});var A6=ht.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[f6(this.options)]}});ht.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new jt({key:new tn("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:s}=e,o=[];if(!n||!r)return Ct.create(t,[]);let a=0;this.options.mode==="deepest"&&t.descendants((u,h)=>{if(u.isText)return;if(!(s>=h&&s<=h+u.nodeSize-1))return!1;a+=1});let c=0;return t.descendants((u,h)=>{if(u.isText||!(s>=h&&s<=h+u.nodeSize-1))return!1;if(c+=1,this.options.mode==="deepest"&&a-c>0||this.options.mode==="shallowest"&&c>1)return this.options.mode==="deepest";o.push(kn.node(h,h+u.nodeSize,{class:this.options.className}))}),Ct.create(t,o)}}})]}});var D6=ht.create({name:"gapCursor",addProseMirrorPlugins(){return[g6()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=nt(De(t,"allowGapCursor",n)))!=null?e:null}}});ht.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new jt({key:new tn("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,s=[];if(!n)return null;const o=this.editor.isEmpty;return t.descendants((a,c)=>{const u=r>=c&&r<=c+a.nodeSize,h=!a.isLeaf&&Nf(a);if((u||!this.options.showOnlyCurrent)&&h){const p=[this.options.emptyNodeClass];o&&p.push(this.options.emptyEditorClass);const m=kn.node(c,c+a.nodeSize,{class:p.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:a,pos:c,hasAnchor:u}):this.options.placeholder});s.push(m)}return this.options.includeChildren}),Ct.create(t,s)}}})]}});ht.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new jt({key:new tn("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||UN(n.selection)||t.view.dragging?null:Ct.create(n.doc,[kn.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function Qb({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||e?.type===t}var R6=ht.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;const e=new tn(this.name),n=((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||this.options.node||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,s])=>s).filter(s=>(this.options.notAfter||[]).concat(n).includes(s.name));return[new jt({key:e,appendTransaction:(s,o,a)=>{const{doc:c,tr:u,schema:h}=a,p=e.getState(a),m=c.content.size,y=h.nodes[n];if(p)return u.insert(m,y.create())},state:{init:(s,o)=>{const a=o.tr.doc.lastChild;return!Qb({node:a,types:r})},apply:(s,o)=>{if(!s.docChanged)return o;const a=s.doc.lastChild;return!Qb({node:a,types:r})}}})]}}),O6=ht.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>OE(t,e),redo:()=>({state:t,dispatch:e})=>IE(t,e)}},addProseMirrorPlugins(){return[j6(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),I6=ht.create({name:"starterKit",addExtensions(){var t,e,n,r;const s=[];return this.options.bold!==!1&&s.push(c$.configure(this.options.bold)),this.options.blockquote!==!1&&s.push(s$.configure(this.options.blockquote)),this.options.bulletList!==!1&&s.push(gE.configure(this.options.bulletList)),this.options.code!==!1&&s.push(f$.configure(this.options.code)),this.options.codeBlock!==!1&&s.push(m$.configure(this.options.codeBlock)),this.options.document!==!1&&s.push(g$.configure(this.options.document)),this.options.dropcursor!==!1&&s.push(A6.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&s.push(D6.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&s.push(y$.configure(this.options.hardBreak)),this.options.heading!==!1&&s.push(v$.configure(this.options.heading)),this.options.undoRedo!==!1&&s.push(O6.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&s.push(x$.configure(this.options.horizontalRule)),this.options.italic!==!1&&s.push(C$.configure(this.options.italic)),this.options.listItem!==!1&&s.push(yE.configure(this.options.listItem)),this.options.listKeymap!==!1&&s.push(SE.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&s.push(mE.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&s.push(NE.configure(this.options.orderedList)),this.options.paragraph!==!1&&s.push(i6.configure(this.options.paragraph)),this.options.strike!==!1&&s.push(c6.configure(this.options.strike)),this.options.text!==!1&&s.push(u6.configure(this.options.text)),this.options.underline!==!1&&s.push(ME.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&s.push(R6.configure((r=this.options)==null?void 0:r.trailingNode)),s}}),P6=I6,L6=TE,_6=EE,z6=20,PE=(t,e=0)=>{const n=[];return!t.children.length||e>z6||Array.from(t.children).forEach(r=>{r.tagName==="SPAN"?n.push(r):r.children.length&&n.push(...PE(r,e+1))}),n},$6=t=>{if(!t.children.length)return;const e=PE(t);e&&e.forEach(n=>{var r,s;const o=n.getAttribute("style"),a=(s=(r=n.parentElement)==null?void 0:r.closest("span"))==null?void 0:s.getAttribute("style");n.setAttribute("style",`${a};${o}`)})},LE=Ps.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:t=>t.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&$6(t),{}):!1}]},renderHTML({HTMLAttributes:t}){return["span",Mt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleTextStyle:t=>({commands:e})=>e.toggleMark(this.name,t),removeEmptyTextStyle:()=>({tr:t})=>{const{selection:e}=t;return t.doc.nodesBetween(e.from,e.to,(n,r)=>{if(n.isTextblock)return!0;n.marks.filter(s=>s.type===this.type).some(s=>Object.values(s.attrs).some(o=>!!o))||t.removeMark(r,r+n.nodeSize,this.type)}),!0}}}}),F6=ht.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:t=>{var e;const n=t.getAttribute("style");if(n){const r=n.split(";").map(s=>s.trim()).filter(Boolean);for(let s=r.length-1;s>=0;s-=1){const o=r[s].split(":");if(o.length>=2){const a=o[0].trim().toLowerCase(),c=o.slice(1).join(":").trim();if(a==="background-color")return c.replace(/['"]+/g,"")}}}return(e=t.style.backgroundColor)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.backgroundColor?{style:`background-color: ${t.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:t=>({chain:e})=>e().setMark("textStyle",{backgroundColor:t}).run(),unsetBackgroundColor:()=>({chain:t})=>t().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),_E=ht.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;const n=t.getAttribute("style");if(n){const r=n.split(";").map(s=>s.trim()).filter(Boolean);for(let s=r.length-1;s>=0;s-=1){const o=r[s].split(":");if(o.length>=2){const a=o[0].trim().toLowerCase(),c=o.slice(1).join(":").trim();if(a==="color")return c.replace(/['"]+/g,"")}}}return(e=t.style.color)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),B6=ht.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:t=>t.style.fontFamily,renderHTML:t=>t.fontFamily?{style:`font-family: ${t.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:t=>({chain:e})=>e().setMark("textStyle",{fontFamily:t}).run(),unsetFontFamily:()=>({chain:t})=>t().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),V6=ht.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:t=>t.style.fontSize,renderHTML:t=>t.fontSize?{style:`font-size: ${t.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:t=>({chain:e})=>e().setMark("textStyle",{fontSize:t}).run(),unsetFontSize:()=>({chain:t})=>t().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),H6=ht.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:t=>t.style.lineHeight,renderHTML:t=>t.lineHeight?{style:`line-height: ${t.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:t=>({chain:e})=>e().setMark("textStyle",{lineHeight:t}).run(),unsetLineHeight:()=>({chain:t})=>t().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}});ht.create({name:"textStyleKit",addExtensions(){const t=[];return this.options.backgroundColor!==!1&&t.push(F6.configure(this.options.backgroundColor)),this.options.color!==!1&&t.push(_E.configure(this.options.color)),this.options.fontFamily!==!1&&t.push(B6.configure(this.options.fontFamily)),this.options.fontSize!==!1&&t.push(V6.configure(this.options.fontSize)),this.options.lineHeight!==!1&&t.push(H6.configure(this.options.lineHeight)),this.options.textStyle!==!1&&t.push(LE.configure(this.options.textStyle)),t}});var U6=_E,W6=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,K6=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,q6=Ps.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:t=>t.getAttribute("data-color")||t.style.backgroundColor,renderHTML:t=>t.color?{"data-color":t.color,style:`background-color: ${t.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:t}){return["mark",Mt(this.options.HTMLAttributes,t),0]},renderMarkdown:(t,e)=>`==${e.renderChildren(t)}==`,parseMarkdown:(t,e)=>e.applyMark("highlight",e.parseInline(t.tokens||[])),markdownTokenizer:{name:"highlight",level:"inline",start:t=>t.indexOf("=="),tokenize(t,e,n){const s=/^(==)([^=]+)(==)/.exec(t);if(s){const o=s[2].trim(),a=n.inlineTokens(o);return{type:"highlight",raw:s[0],text:o,tokens:a}}}},addCommands(){return{setHighlight:t=>({commands:e})=>e.setMark(this.name,t),toggleHighlight:t=>({commands:e})=>e.toggleMark(this.name,t),unsetHighlight:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[mi({find:W6,type:this.type})]},addPasteRules(){return[jo({find:K6,type:this.type})]}}),G6=q6;function Y6({content:t,onChange:e,placeholder:n}){const r=Zz({extensions:[P6,d6,LE,U6,G6.configure({multicolor:!0}),L6,_6.configure({nested:!0}),Y$.configure({openOnClick:!1})],content:t,onUpdate:({editor:o})=>{e(o.getHTML())},editorProps:{attributes:{class:"focus:outline-none min-h-[120px] p-3 outline-none"}}});if(!r)return null;const s=({onClick:o,isActive:a,disabled:c,title:u,children:h})=>d.jsx("button",{type:"button",onClick:o,disabled:c,className:`h-8 w-8 flex items-center justify-center rounded transition-colors ${a?"bg-blue-100 text-blue-700":"text-gray-700 hover:bg-gray-200"} ${c?"opacity-50 cursor-not-allowed":""}`,title:u,children:h});return d.jsxs("div",{className:"border rounded-md bg-white",children:[d.jsxs("div",{className:"flex items-center gap-0.5 border-b bg-gray-50 p-1.5 flex-wrap overflow-x-auto",children:[d.jsx(s,{onClick:()=>r.chain().focus().toggleBold().run(),isActive:r.isActive("bold"),title:"Bold (Ctrl+B)",children:d.jsx(Wj,{className:"w-4 h-4"})}),d.jsx(s,{onClick:()=>r.chain().focus().toggleItalic().run(),isActive:r.isActive("italic"),title:"Italic (Ctrl+I)",children:d.jsx(jA,{className:"w-4 h-4"})}),d.jsx(s,{onClick:()=>r.chain().focus().toggleUnderline().run(),isActive:r.isActive("underline"),title:"Underline (Ctrl+U)",children:d.jsx(bD,{className:"w-4 h-4"})}),d.jsx(s,{onClick:()=>r.chain().focus().toggleStrike().run(),isActive:r.isActive("strike"),title:"Strikethrough",children:d.jsx(cD,{className:"w-4 h-4"})}),d.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"}),d.jsxs("div",{className:"relative group",children:[d.jsx(s,{onClick:()=>{},title:"Text Color",children:d.jsx(BA,{className:"w-4 h-4"})}),d.jsx("div",{className:"hidden group-hover:flex absolute top-full left-0 mt-1 bg-white border rounded shadow-lg p-2 gap-1 z-50",children:["#000000","#ef4444","#f97316","#eab308","#22c55e","#3b82f6","#8b5cf6","#ec4899"].map(o=>d.jsx("button",{type:"button",onClick:()=>r.chain().focus().setColor(o).run(),className:"w-6 h-6 rounded border-2 border-gray-300 hover:border-gray-500",style:{backgroundColor:o},title:o},o))})]}),d.jsxs("div",{className:"relative group",children:[d.jsx(s,{onClick:()=>{},isActive:r.isActive("highlight"),title:"Highlight",children:d.jsx(NA,{className:"w-4 h-4"})}),d.jsxs("div",{className:"hidden group-hover:flex absolute top-full left-0 mt-1 bg-white border rounded shadow-lg p-2 gap-1 z-50",children:[["#fef08a","#bfdbfe","#bbf7d0","#fecaca","#e9d5ff","#fed7aa"].map(o=>d.jsx("button",{type:"button",onClick:()=>r.chain().focus().toggleHighlight({color:o}).run(),className:"w-6 h-6 rounded border-2 border-gray-300 hover:border-gray-500",style:{backgroundColor:o},title:o},o)),d.jsx("button",{type:"button",onClick:()=>r.chain().focus().unsetHighlight().run(),className:"w-6 h-6 rounded border-2 border-gray-300 hover:border-gray-500 bg-white flex items-center justify-center text-xs",title:"Remove highlight",children:""})]})]}),d.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"}),d.jsx(s,{onClick:()=>r.chain().focus().toggleHeading({level:1}).run(),isActive:r.isActive("heading",{level:1}),title:"Heading 1",children:d.jsx(wA,{className:"w-4 h-4"})}),d.jsx(s,{onClick:()=>r.chain().focus().toggleHeading({level:2}).run(),isActive:r.isActive("heading",{level:2}),title:"Heading 2",children:d.jsx(SA,{className:"w-4 h-4"})}),d.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"}),d.jsx(s,{onClick:()=>r.chain().focus().toggleBulletList().run(),isActive:r.isActive("bulletList"),title:"Bullet List",children:d.jsx(Hw,{className:"w-4 h-4"})}),d.jsx(s,{onClick:()=>r.chain().focus().toggleOrderedList().run(),isActive:r.isActive("orderedList"),title:"Numbered List",children:d.jsx(RA,{className:"w-4 h-4"})}),d.jsx(s,{onClick:()=>r.chain().focus().toggleTaskList().run(),isActive:r.isActive("taskList"),title:"Task List",children:d.jsx(iD,{className:"w-4 h-4"})}),d.jsx(s,{onClick:()=>r.chain().focus().toggleBlockquote().run(),isActive:r.isActive("blockquote"),title:"Quote",children:d.jsx(JA,{className:"w-4 h-4"})}),d.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"}),d.jsx(s,{onClick:()=>{const o=window.prompt("Enter URL:");o&&r.chain().focus().setLink({href:o}).run()},isActive:r.isActive("link"),title:"Add Link",children:d.jsx(No,{className:"w-4 h-4"})}),d.jsx(s,{onClick:()=>r.chain().focus().setHorizontalRule().run(),title:"Horizontal Rule",children:d.jsx(zA,{className:"w-4 h-4"})}),d.jsx(s,{onClick:()=>r.chain().focus().clearNodes().unsetAllMarks().run(),title:"Clear Formatting",children:d.jsx(nD,{className:"w-4 h-4"})}),d.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"}),d.jsx(s,{onClick:()=>r.chain().focus().undo().run(),disabled:!r.can().undo(),title:"Undo (Ctrl+Z)",children:d.jsx(kD,{className:"w-4 h-4"})}),d.jsx(s,{onClick:()=>r.chain().focus().redo().run(),disabled:!r.can().redo(),title:"Redo (Ctrl+Y)",children:d.jsx(QA,{className:"w-4 h-4"})})]}),d.jsxs("div",{className:"relative",children:[d.jsx("style",{children:`
          .ProseMirror ul { list-style: disc; padding-left: 1.5rem; margin: 0.5rem 0; }
          .ProseMirror ol { list-style: decimal; padding-left: 1.5rem; margin: 0.5rem 0; }
          .ProseMirror li { margin: 0.25rem 0; }
          .ProseMirror ul[data-type="taskList"] { list-style: none; padding-left: 0; }
          .ProseMirror ul[data-type="taskList"] li { display: flex; align-items: flex-start; }
          .ProseMirror ul[data-type="taskList"] li > label { margin-right: 0.5rem; user-select: none; }
          .ProseMirror ul[data-type="taskList"] li > div { flex: 1; }
          .ProseMirror h1 { font-size: 1.5rem; font-weight: bold; margin: 0.5rem 0; }
          .ProseMirror h2 { font-size: 1.25rem; font-weight: bold; margin: 0.5rem 0; }
          .ProseMirror blockquote { border-left: 3px solid #d1d5db; padding-left: 1rem; color: #6b7280; margin: 0.5rem 0; }
          .ProseMirror strong { font-weight: bold; }
          .ProseMirror em { font-style: italic; }
          .ProseMirror u { text-decoration: underline; }
          .ProseMirror s { text-decoration: line-through; }
          .ProseMirror a { color: #3b82f6; text-decoration: underline; cursor: pointer; }
          .ProseMirror hr { border: none; border-top: 2px solid #e5e7eb; margin: 1rem 0; }
        `}),d.jsx(Kz,{editor:r}),!r.getText()&&d.jsx("div",{className:"absolute top-3 left-3 text-gray-400 pointer-events-none text-sm",children:n})]})]})}function J6({trip:t,days:e,notes:n,getUnscheduledActivities:r,formatShortDate:s,updateNotes:o,onEditInfo:a,onAddPlace:c,onImportPlaces:u,onAddMap:h}){const p=Cs(t.startDate,t.endDate);return d.jsxs(Sn,{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h2",{className:"text-gray-900",children:"Trip Notes & Information"}),d.jsxs(je,{variant:"outline",size:"sm",onClick:a,className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:[d.jsx(Es,{className:"w-4 h-4 mr-2"}),"Edit Info"]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pb-6 border-b",children:[t.name&&d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"text-sm text-gray-500 mb-2 block",children:"Trip Name"}),d.jsx("p",{className:"text-gray-900",children:t.name})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"text-sm text-gray-500 mb-2 block",children:"Destinations"}),t.cities&&t.cities.length>0?d.jsx("div",{className:"flex flex-wrap gap-2",children:t.cities.map((m,y)=>d.jsxs(at,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200 text-sm py-1",children:[d.jsx(Qe,{className:"w-3 h-3 mr-1"}),m.name,", ",m.country]},`${m.name}-${y}`))}):d.jsx("p",{className:"text-gray-900",children:t.destination})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm text-gray-500 mb-2 block",children:"Trip Duration"}),d.jsxs("p",{className:"text-gray-900",children:[e.length," days (",s(t.startDate)," - ",s(t.endDate),")"]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm text-gray-500 mb-2 block",children:"Status"}),d.jsx(at,{className:`${p==="upcoming"?"bg-blue-100 text-blue-700":p==="ongoing"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:p})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"text-sm text-gray-500 mb-2 block",children:"Description"}),d.jsx("p",{className:"text-gray-900",children:t.description})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pb-6 border-b",children:[d.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx(Bw,{className:"w-4 h-4 text-blue-600"}),d.jsx("span",{className:"text-sm text-blue-900",children:"Scheduled Activities"})]}),d.jsx("p",{className:"text-2xl text-blue-900",children:t.activities.filter(m=>m.day).length})]}),d.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx(Sg,{className:"w-4 h-4 text-purple-600"}),d.jsx("span",{className:"text-sm text-purple-900",children:"Optional Activities"})]}),d.jsx("p",{className:"text-2xl text-purple-900",children:r().length})]}),d.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx(Qe,{className:"w-4 h-4 text-green-600"}),d.jsx("span",{className:"text-sm text-green-900",children:"Total Activities"})]}),d.jsx("p",{className:"text-2xl text-green-900",children:t.activities.length})]})]}),d.jsxs("div",{className:"pb-6 border-b",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm text-gray-700 block mb-1",children:"Saved Places"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Add restaurants, hotels, attractions, and other places to visit"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(je,{variant:"outline",size:"sm",onClick:u,className:"text-purple-600 hover:text-purple-700 hover:bg-purple-50",children:[d.jsx(Ju,{className:"w-4 h-4 mr-2"}),"Import"]}),d.jsxs(je,{variant:"outline",size:"sm",onClick:c,className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:[d.jsx(vo,{className:"w-4 h-4 mr-2"}),"Add Place"]})]})]}),t.places&&t.places.length>0&&d.jsx("div",{className:"mt-3 p-3 bg-green-50 border border-green-200 rounded-lg",children:d.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[d.jsx(Qe,{className:"w-4 h-4"}),d.jsxs("span",{children:[t.places.length," place",t.places.length!==1?"s":""," saved - view in Places tab"]})]})})]}),d.jsxs("div",{className:"pb-6 border-b",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm text-gray-700 block mb-1",children:"Google Maps List"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Save a link to your Google Maps list for quick access to all your places"})]}),d.jsx(je,{variant:"outline",size:"sm",onClick:h,className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:t.mapUrl?d.jsxs(d.Fragment,{children:[d.jsx(Es,{className:"w-4 h-4 mr-2"}),"Edit Link"]}):d.jsxs(d.Fragment,{children:[d.jsx(vo,{className:"w-4 h-4 mr-2"}),"Add Link"]})})]}),t.mapUrl?d.jsx("div",{className:"mt-3",children:d.jsxs(je,{onClick:()=>window.open(t.mapUrl,"_blank"),className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",children:[d.jsx(wl,{className:"w-4 h-4 mr-2"}),"Open in Google Maps"]})}):d.jsx("div",{className:"mt-3 p-3 bg-gray-50 border border-gray-200 rounded-lg",children:d.jsx("p",{className:"text-sm text-gray-600",children:"No Google Maps list linked yet. Create a custom list in Google Maps with all your places and add the link here."})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm text-gray-700 mb-2 block",children:"Trip Notes"}),d.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Add any general notes, tips, or important information. Select text to format."}),d.jsx(Y6,{content:n,onChange:o,placeholder:"Add notes about accommodations, packing lists, important contacts, travel tips, etc..."})]})]})]})}function X6({places:t,activities:e=[]}){const n=C.useRef(null),r=C.useRef(null),s=C.useRef([]);C.useEffect(()=>{Pg().then(()=>{console.log("PlacesMap: Google Maps ready, initializing map"),o()}).catch(p=>{console.error("PlacesMap: Failed to load Google Maps:",p)})},[]),C.useEffect(()=>{r.current&&a()},[t,e]);const o=()=>{if(!n.current||!window.google?.maps)return;const p=window.google,m=t.filter(S=>S.coordinates),y=e.filter(S=>S.coordinates),v=[...m,...y];if(!v.length)return;const w=v.map(S=>{const[N,j]=S.coordinates.split(",").map(Number);return{lat:N,lng:j}}),b={lat:w.reduce((S,N)=>S+N.lat,0)/w.length,lng:w.reduce((S,N)=>S+N.lng,0)/w.length};r.current=new p.maps.Map(n.current,{center:b,zoom:13,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]}),a()},a=()=>{if(!r.current||!window.google?.maps)return;const p=window.google;s.current.forEach(S=>S.setMap(null)),s.current=[];const m=t.filter(S=>S.coordinates),y=e.filter(S=>S.coordinates),v=new p.maps.LatLngBounds,w={restaurant:"",cafe:"",fastfood:"",bakery:"",bar:"",hotel:"",attraction:"",museum:"",gallery:"",park:"",beach:"",entertainment:"",venue:"",shopping:"",transport:"",school:"",spa:"",gym:"",pharmacy:"",bank:"",gas:"",parking:"",other:""};m.forEach(S=>{const[N,j]=S.coordinates.split(",").map(Number),A={lat:N,lng:j},E=w[S.category],T=S.id.startsWith("activity-place-"),R=new p.maps.Marker({position:A,map:r.current,title:S.name,icon:{url:"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(`
            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40">
              <text x="20" y="30" font-size="32" text-anchor="middle">${E}</text>
              ${T?'<text x="32" y="12" font-size="14"></text>':""}
            </svg>
          `),scaledSize:new p.maps.Size(40,40),anchor:new p.maps.Point(20,40)}}),D=new p.maps.InfoWindow({content:`
          <div style="padding: 8px; max-width: 250px;">
            <div style="display: flex; align-items: center; gap: 6px; margin-bottom: 8px;">
              <span style="font-size: 20px;">${E}</span>
              <span style="background: #f3f4f6; color: #6b7280; padding: 2px 8px; border-radius: 4px; font-size: 11px; text-transform: uppercase;">${S.category}</span>
              ${T?'<span style="font-size: 14px;"></span>':""}
            </div>
            <h3 style="margin: 0 0 8px 0; font-size: 16px; font-weight: 600; color: #111827;">${S.name}</h3>
            <p style="margin: 0 0 4px 0; font-size: 14px; color: #6b7280;">${S.address}</p>
            ${S.notes?`<p style="margin: 4px 0 0 0; font-size: 13px; color: #6b7280; border-top: 1px solid #e5e7eb; padding-top: 8px;">${S.notes}</p>`:""}
          </div>
        `});R.addListener("click",()=>{D.open(r.current,R)}),s.current.push(R),v.extend(A)}),y.forEach(S=>{const N=`activity-place-${S.id}`;if(m.some(O=>O.id===N))return;const[j,A]=S.coordinates.split(",").map(Number),E={lat:j,lng:A},T=S.day?new Date(S.day).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"Unscheduled",R=new p.maps.Marker({position:E,map:r.current,title:S.title,icon:{url:"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(`
            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40">
              <text x="20" y="30" font-size="32" text-anchor="middle"></text>
            </svg>
          `),scaledSize:new p.maps.Size(40,40),anchor:new p.maps.Point(20,40)}}),D=new p.maps.InfoWindow({content:`
          <div style="padding: 8px; max-width: 250px;">
            <div style="display: flex; align-items: center; gap: 6px; margin-bottom: 8px;">
              <span style="font-size: 20px;"></span>
              <span style="background: #f3f4f6; color: #6b7280; padding: 2px 8px; border-radius: 4px; font-size: 11px; text-transform: uppercase;">${S.type}</span>
            </div>
            <h3 style="margin: 0 0 8px 0; font-size: 16px; font-weight: 600; color: #111827;">${S.title}</h3>
            <p style="margin: 0 0 4px 0; font-size: 14px; color: #6b7280;"> ${S.location}</p>
            ${S.time?`<p style="margin: 0 0 4px 0; font-size: 13px; color: #6b7280;"> ${S.time}</p>`:""}
            <p style="margin: 0 0 4px 0; font-size: 13px; color: #6b7280;"> ${T}</p>
            ${S.description?`<p style="margin: 4px 0 0 0; font-size: 13px; color: #6b7280; border-top: 1px solid #e5e7eb; padding-top: 8px;">${S.description}</p>`:""}
          </div>
        `});R.addListener("click",()=>{D.open(r.current,R)}),s.current.push(R),v.extend(E)}),m.length+y.length>1&&r.current.fitBounds(v)},c=t.filter(p=>p.coordinates),u=e.filter(p=>p.coordinates);return c.length+u.length?d.jsx("div",{ref:n,className:"w-full h-[500px] rounded-lg overflow-hidden border shadow-sm"}):d.jsx("div",{className:"w-full h-[500px] rounded-lg border bg-gray-50 flex items-center justify-center",children:d.jsxs("div",{className:"text-center text-gray-500",children:[d.jsx("p",{className:"mb-2",children:"No locations with coordinates yet"}),d.jsx("p",{className:"text-sm",children:"Add places or activities with location search to see them on the map"})]})})}function Q6({trip:t,days:e,onAddPlace:n,onImportPlaces:r,onAddMap:s,handleEditActivity:o,handleEditPlace:a,deletePlace:c}){const u=(t.places||[]).filter(y=>y.id.startsWith("activity-place-")),h=(t.places||[]).filter(y=>!y.id.startsWith("activity-place-")),p={restaurant:{icon:fo,color:"bg-orange-100 text-orange-600"},cafe:{icon:fo,color:"bg-amber-100 text-amber-600"},fastfood:{icon:fo,color:"bg-red-100 text-red-600"},bakery:{icon:fo,color:"bg-yellow-100 text-yellow-600"},bar:{icon:fo,color:"bg-purple-100 text-purple-600"},hotel:{icon:ef,color:"bg-blue-100 text-blue-600"},attraction:{icon:Ur,color:"bg-purple-100 text-purple-600"},museum:{icon:Ur,color:"bg-indigo-100 text-indigo-600"},gallery:{icon:Ur,color:"bg-pink-100 text-pink-600"},park:{icon:Qe,color:"bg-green-100 text-green-600"},beach:{icon:Qe,color:"bg-cyan-100 text-cyan-600"},entertainment:{icon:Ur,color:"bg-pink-100 text-pink-600"},venue:{icon:Ur,color:"bg-fuchsia-100 text-fuchsia-600"},shopping:{icon:Qe,color:"bg-pink-100 text-pink-600"},transport:{icon:ta,color:"bg-green-100 text-green-600"},school:{icon:Qe,color:"bg-blue-100 text-blue-600"},spa:{icon:Qe,color:"bg-purple-100 text-purple-600"},gym:{icon:Ur,color:"bg-red-100 text-red-600"},pharmacy:{icon:Qe,color:"bg-red-100 text-red-600"},bank:{icon:Qe,color:"bg-blue-100 text-blue-600"},gas:{icon:ta,color:"bg-yellow-100 text-yellow-600"},parking:{icon:ta,color:"bg-gray-100 text-gray-600"},other:{icon:Qe,color:"bg-gray-100 text-gray-600"}},m={all:" All",restaurant:" Restaurants",cafe:" Cafes",bar:" Bars",hotel:" Hotels",attraction:" Attractions",museum:" Museums",park:" Parks",beach:" Beaches",entertainment:" Entertainment",shopping:" Shopping",transport:" Transport",spa:" Spa",gym:" Gym",pharmacy:" Pharmacy",bank:" Bank",gas:" Gas",parking:" Parking",other:" Other"};return d.jsxs(Sn,{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-gray-900",children:"Saved Places"}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:(t.places||[]).length>0?`${t.places.length} place${t.places.length!==1?"s":""} to visit on your trip`:"No places saved yet - add places manually or from itinerary activities with locations"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(je,{onClick:r,size:"sm",variant:"outline",className:"text-purple-600 hover:text-purple-700 hover:bg-purple-50",children:[d.jsx(Ju,{className:"w-4 h-4 mr-2"}),"Import from Maps"]}),d.jsxs(je,{onClick:n,size:"sm",children:[d.jsx(vo,{className:"w-4 h-4 mr-2"}),"Add Place"]})]})]}),(t.places||[]).length>0&&d.jsx("div",{className:"mb-6",children:d.jsx("div",{className:"flex flex-wrap gap-2",children:["all","restaurant","cafe","bar","hotel","attraction","museum","park","beach","entertainment","shopping","transport","spa","gym","pharmacy","bank","gas","parking","other"].map(y=>{const v=y==="all"?t.places.length:t.places.filter(w=>w.category===y).length;return v===0&&y!=="all"?null:d.jsxs(at,{variant:"outline",className:"cursor-pointer hover:bg-blue-50",children:[m[y]," (",v,")"]},y)})})}),d.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-lg",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Uw,{className:"w-5 h-5 text-blue-600"}),d.jsx("h3",{className:"text-gray-900",children:"Google Maps List"})]}),d.jsx(je,{onClick:s,size:"sm",variant:"outline",className:"text-blue-600 hover:text-blue-700 hover:bg-blue-100",children:t.mapUrl?d.jsxs(d.Fragment,{children:[d.jsx(Es,{className:"w-4 h-4 mr-2"}),"Edit Link"]}):d.jsxs(d.Fragment,{children:[d.jsx(vo,{className:"w-4 h-4 mr-2"}),"Add Link"]})})]}),t.mapUrl?d.jsxs("div",{className:"space-y-2",children:[d.jsx("p",{className:"text-sm text-gray-600",children:"View your saved Google Maps list with all your places"}),d.jsxs(je,{onClick:()=>window.open(t.mapUrl,"_blank"),className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",children:[d.jsx(wl,{className:"w-4 h-4 mr-2"}),"Open in Google Maps"]})]}):d.jsx("p",{className:"text-sm text-gray-600",children:"Save a link to your Google Maps list to quickly access all your saved places. You can create a custom list in Google Maps with all the restaurants, hotels, and attractions for this trip."})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx(X6,{places:t.places||[],activities:t.activities}),((t.places||[]).some(y=>y.coordinates)||t.activities.some(y=>y.coordinates))&&d.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Click markers to view details  Category emojis show place types   = From activity"})]}),d.jsx("div",{className:"space-y-6",children:(t.places||[]).length===0?d.jsxs("div",{className:"text-center py-12",children:[d.jsx(Qe,{className:"w-12 h-12 mx-auto text-gray-300 mb-3"}),d.jsx("h3",{className:"text-gray-700 mb-2",children:"No places yet"}),d.jsx("p",{className:"text-sm text-gray-500 mb-4 max-w-md mx-auto",children:"Add places manually or add activities with locations in the Itinerary tab. Activities with coordinates will automatically appear here."}),d.jsx("div",{className:"flex gap-2 justify-center",children:d.jsxs(je,{onClick:n,size:"sm",children:[d.jsx(vo,{className:"w-4 h-4 mr-2"}),"Add Your First Place"]})})]}):d.jsxs(d.Fragment,{children:[u.length>0&&d.jsxs("div",{children:[d.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:["From Activities (",u.length,")"]}),d.jsx("div",{className:"space-y-3",children:u.map(y=>{const v=y.id.replace("activity-place-",""),w=t.activities.find(S=>S.id===v),b=w?.day?e.indexOf(w.day):-1;return d.jsx(Sn,{className:"p-4 hover:shadow-md transition-shadow",children:d.jsxs("div",{className:"flex items-start gap-4",children:[d.jsx("div",{className:"p-3 rounded-lg flex-shrink-0 bg-blue-100 text-blue-600",children:d.jsx(Ur,{className:"w-5 h-5"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[d.jsx("h3",{className:"text-gray-900",children:y.name}),d.jsx(je,{variant:"ghost",size:"sm",onClick:()=>{w&&o(w)},className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50 flex-shrink-0","aria-label":w?`Edit ${w.title}`:"Edit activity",title:"Edit activity",children:d.jsx(Es,{className:"w-4 h-4"})})]}),d.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-500 mb-2",children:[d.jsx(Qe,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),d.jsx("span",{children:y.address})]}),d.jsxs("div",{className:"space-y-2",children:[w&&b>=0&&d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs(at,{variant:"outline",className:"text-xs",children:["Day ",b+1]}),d.jsx("span",{className:"text-xs text-gray-600",children:w.title})]}),d.jsx("div",{className:"flex items-center gap-2",children:y.coordinates&&d.jsxs(d.Fragment,{children:[d.jsx(at,{variant:"outline",className:"text-xs bg-green-50 text-green-700 border-green-300",children:" On map"}),d.jsxs(je,{variant:"ghost",size:"sm",onClick:()=>window.open(`https://www.google.com/maps/search/?api=1&query=${y.coordinates}`,"_blank"),className:"text-blue-600 hover:text-blue-700 text-xs h-6 px-2","aria-label":`Open ${y.name} in Google Maps`,children:[d.jsx(wl,{className:"w-3 h-3 mr-1"}),"Open in Google Maps"]})]})})]})]})]})},y.id)})})]}),h.length>0&&d.jsxs("div",{children:[d.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:["Manually Added (",h.length,")"]}),d.jsx("div",{className:"space-y-3",children:h.map(y=>{const{icon:v,color:w}=p[y.category];return d.jsx(Sn,{className:"p-4 hover:shadow-md transition-shadow",children:d.jsxs("div",{className:"flex items-start gap-4",children:[d.jsx("div",{className:`p-3 rounded-lg flex-shrink-0 ${w}`,children:d.jsx(v,{className:"w-5 h-5"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[d.jsx("h3",{className:"text-gray-900",children:y.name}),d.jsxs("div",{className:"flex gap-1",children:[d.jsx(je,{variant:"ghost",size:"sm",onClick:()=>a(y),className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50 flex-shrink-0","aria-label":`Edit ${y.name}`,title:"Edit place",children:d.jsx(Es,{className:"w-4 h-4"})}),d.jsx(je,{variant:"ghost",size:"sm",onClick:()=>c(y.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50 flex-shrink-0","aria-label":`Delete ${y.name}`,title:"Delete place",children:d.jsx(tf,{className:"w-4 h-4"})})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-600",children:[d.jsx(Qe,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),d.jsx("span",{children:y.address})]}),y.notes&&d.jsx("p",{className:"text-sm text-gray-600",children:y.notes}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(at,{variant:"outline",className:"text-xs",children:y.category}),y.coordinates&&d.jsxs(d.Fragment,{children:[d.jsx(at,{variant:"outline",className:"text-xs bg-green-50 text-green-700 border-green-300",children:" On map"}),d.jsxs(je,{variant:"ghost",size:"sm",onClick:()=>window.open(`https://www.google.com/maps/search/?api=1&query=${y.coordinates}`,"_blank"),className:"text-blue-600 hover:text-blue-700 text-xs h-6 px-2","aria-label":`Open ${y.name} in Google Maps`,children:[d.jsx(wl,{className:"w-3 h-3 mr-1"}),"Open in Google Maps"]})]})]})]})]})]})},y.id)})})]})]})})]})}function zE(t){const e=C.useRef({value:t,previous:t});return C.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function $E(t){const[e,n]=C.useState(void 0);return cn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let a,c;if("borderBoxSize"in o){const u=o.borderBoxSize,h=Array.isArray(u)?u[0]:u;a=h.inlineSize,c=h.blockSize}else a=t.offsetWidth,c=t.offsetHeight;n({width:a,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var jf="Checkbox",[Z6]=Dr(jf),[eF,By]=Z6(jf);function tF(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:s,disabled:o,form:a,name:c,onCheckedChange:u,required:h,value:p="on",internal_do_not_use_render:m}=t,[y,v]=js({prop:n,defaultProp:s??!1,onChange:u,caller:jf}),[w,b]=C.useState(null),[S,N]=C.useState(null),j=C.useRef(!1),A=w?!!a||!!w.closest("form"):!0,E={checked:y,disabled:o,setChecked:v,control:w,setControl:b,name:c,form:a,value:p,hasConsumerStoppedPropagationRef:j,required:h,defaultChecked:Co(s)?!1:s,isFormControl:A,bubbleInput:S,setBubbleInput:N};return d.jsx(eF,{scope:e,...E,children:nF(m)?m(E):r})}var FE="CheckboxTrigger",BE=C.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},s)=>{const{control:o,value:a,disabled:c,checked:u,required:h,setControl:p,setChecked:m,hasConsumerStoppedPropagationRef:y,isFormControl:v,bubbleInput:w}=By(FE,t),b=lt(s,p),S=C.useRef(u);return C.useEffect(()=>{const N=o?.form;if(N){const j=()=>m(S.current);return N.addEventListener("reset",j),()=>N.removeEventListener("reset",j)}},[o,m]),d.jsx(Fe.button,{type:"button",role:"checkbox","aria-checked":Co(u)?"mixed":u,"aria-required":h,"data-state":qE(u),"data-disabled":c?"":void 0,disabled:c,value:a,...r,ref:b,onKeyDown:Ue(e,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:Ue(n,N=>{m(j=>Co(j)?!0:!j),w&&v&&(y.current=N.isPropagationStopped(),y.current||N.stopPropagation())})})});BE.displayName=FE;var VE=C.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:o,required:a,disabled:c,value:u,onCheckedChange:h,form:p,...m}=t;return d.jsx(tF,{__scopeCheckbox:n,checked:s,defaultChecked:o,disabled:c,required:a,onCheckedChange:h,name:r,form:p,value:u,internal_do_not_use_render:({isFormControl:y})=>d.jsxs(d.Fragment,{children:[d.jsx(BE,{...m,ref:e,__scopeCheckbox:n}),y&&d.jsx(KE,{__scopeCheckbox:n})]})})});VE.displayName=jf;var HE="CheckboxIndicator",UE=C.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,o=By(HE,n);return d.jsx(xi,{present:r||Co(o.checked)||o.checked===!0,children:d.jsx(Fe.span,{"data-state":qE(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});UE.displayName=HE;var WE="CheckboxBubbleInput",KE=C.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:o,defaultChecked:a,required:c,disabled:u,name:h,value:p,form:m,bubbleInput:y,setBubbleInput:v}=By(WE,t),w=lt(n,v),b=zE(o),S=$E(r);C.useEffect(()=>{const j=y;if(!j)return;const A=window.HTMLInputElement.prototype,T=Object.getOwnPropertyDescriptor(A,"checked").set,R=!s.current;if(b!==o&&T){const D=new Event("click",{bubbles:R});j.indeterminate=Co(o),T.call(j,Co(o)?!1:o),j.dispatchEvent(D)}},[y,b,o,s]);const N=C.useRef(Co(o)?!1:o);return d.jsx(Fe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??N.current,required:c,disabled:u,name:h,value:p,form:m,...e,tabIndex:-1,ref:w,style:{...e.style,...S,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});KE.displayName=WE;function nF(t){return typeof t=="function"}function Co(t){return t==="indeterminate"}function qE(t){return Co(t)?"indeterminate":t?"checked":"unchecked"}function GE({className:t,...e}){return d.jsx(VE,{"data-slot":"checkbox",className:Ke("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:d.jsx(UE,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:d.jsx(Vw,{className:"size-3.5"})})})}function Zb(t,[e,n]){return Math.min(n,Math.max(e,t))}const rF=["top","right","bottom","left"],Ao=Math.min,Kn=Math.max,Kd=Math.round,$u=Math.floor,Yr=t=>({x:t,y:t}),sF={left:"right",right:"left",bottom:"top",top:"bottom"},oF={start:"end",end:"start"};function ug(t,e,n){return Kn(t,Ao(e,n))}function As(t,e){return typeof t=="function"?t(e):t}function Ds(t){return t.split("-")[0]}function Na(t){return t.split("-")[1]}function Vy(t){return t==="x"?"y":"x"}function Hy(t){return t==="y"?"height":"width"}const iF=new Set(["top","bottom"]);function qr(t){return iF.has(Ds(t))?"y":"x"}function Uy(t){return Vy(qr(t))}function aF(t,e,n){n===void 0&&(n=!1);const r=Na(t),s=Uy(t),o=Hy(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(a=qd(a)),[a,qd(a)]}function lF(t){const e=qd(t);return[dg(t),e,dg(e)]}function dg(t){return t.replace(/start|end/g,e=>oF[e])}const ew=["left","right"],tw=["right","left"],cF=["top","bottom"],uF=["bottom","top"];function dF(t,e,n){switch(t){case"top":case"bottom":return n?e?tw:ew:e?ew:tw;case"left":case"right":return e?cF:uF;default:return[]}}function fF(t,e,n,r){const s=Na(t);let o=dF(Ds(t),n==="start",r);return s&&(o=o.map(a=>a+"-"+s),e&&(o=o.concat(o.map(dg)))),o}function qd(t){return t.replace(/left|right|bottom|top/g,e=>sF[e])}function hF(t){return{top:0,right:0,bottom:0,left:0,...t}}function YE(t){return typeof t!="number"?hF(t):{top:t,right:t,bottom:t,left:t}}function Gd(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function nw(t,e,n){let{reference:r,floating:s}=t;const o=qr(e),a=Uy(e),c=Hy(a),u=Ds(e),h=o==="y",p=r.x+r.width/2-s.width/2,m=r.y+r.height/2-s.height/2,y=r[c]/2-s[c]/2;let v;switch(u){case"top":v={x:p,y:r.y-s.height};break;case"bottom":v={x:p,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:m};break;case"left":v={x:r.x-s.width,y:m};break;default:v={x:r.x,y:r.y}}switch(Na(e)){case"start":v[a]-=y*(n&&h?-1:1);break;case"end":v[a]+=y*(n&&h?-1:1);break}return v}const pF=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:a}=n,c=o.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(e));let h=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:p,y:m}=nw(h,r,u),y=r,v={},w=0;for(let b=0;b<c.length;b++){const{name:S,fn:N}=c[b],{x:j,y:A,data:E,reset:T}=await N({x:p,y:m,initialPlacement:r,placement:y,strategy:s,middlewareData:v,rects:h,platform:a,elements:{reference:t,floating:e}});p=j??p,m=A??m,v={...v,[S]:{...v[S],...E}},T&&w<=50&&(w++,typeof T=="object"&&(T.placement&&(y=T.placement),T.rects&&(h=T.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):T.rects),{x:p,y:m}=nw(h,y,u)),b=-1)}return{x:p,y:m,placement:y,strategy:s,middlewareData:v}};async function Zl(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:o,rects:a,elements:c,strategy:u}=t,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:m="floating",altBoundary:y=!1,padding:v=0}=As(e,t),w=YE(v),S=c[y?m==="floating"?"reference":"floating":m],N=Gd(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(S)))==null||n?S:S.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:h,rootBoundary:p,strategy:u})),j=m==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,A=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),E=await(o.isElement==null?void 0:o.isElement(A))?await(o.getScale==null?void 0:o.getScale(A))||{x:1,y:1}:{x:1,y:1},T=Gd(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:j,offsetParent:A,strategy:u}):j);return{top:(N.top-T.top+w.top)/E.y,bottom:(T.bottom-N.bottom+w.bottom)/E.y,left:(N.left-T.left+w.left)/E.x,right:(T.right-N.right+w.right)/E.x}}const mF=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:o,platform:a,elements:c,middlewareData:u}=e,{element:h,padding:p=0}=As(t,e)||{};if(h==null)return{};const m=YE(p),y={x:n,y:r},v=Uy(s),w=Hy(v),b=await a.getDimensions(h),S=v==="y",N=S?"top":"left",j=S?"bottom":"right",A=S?"clientHeight":"clientWidth",E=o.reference[w]+o.reference[v]-y[v]-o.floating[w],T=y[v]-o.reference[v],R=await(a.getOffsetParent==null?void 0:a.getOffsetParent(h));let D=R?R[A]:0;(!D||!await(a.isElement==null?void 0:a.isElement(R)))&&(D=c.floating[A]||o.floating[w]);const O=E/2-T/2,H=D/2-b[w]/2-1,Q=Ao(m[N],H),ce=Ao(m[j],H),de=Q,le=D-b[w]-ce,ue=D/2-b[w]/2+O,re=ug(de,ue,le),U=!u.arrow&&Na(s)!=null&&ue!==re&&o.reference[w]/2-(ue<de?Q:ce)-b[w]/2<0,q=U?ue<de?ue-de:ue-le:0;return{[v]:y[v]+q,data:{[v]:re,centerOffset:ue-re-q,...U&&{alignmentOffset:q}},reset:U}}}),gF=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:o,rects:a,initialPlacement:c,platform:u,elements:h}=e,{mainAxis:p=!0,crossAxis:m=!0,fallbackPlacements:y,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:b=!0,...S}=As(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const N=Ds(s),j=qr(c),A=Ds(c)===c,E=await(u.isRTL==null?void 0:u.isRTL(h.floating)),T=y||(A||!b?[qd(c)]:lF(c)),R=w!=="none";!y&&R&&T.push(...fF(c,b,w,E));const D=[c,...T],O=await Zl(e,S),H=[];let Q=((r=o.flip)==null?void 0:r.overflows)||[];if(p&&H.push(O[N]),m){const ue=aF(s,a,E);H.push(O[ue[0]],O[ue[1]])}if(Q=[...Q,{placement:s,overflows:H}],!H.every(ue=>ue<=0)){var ce,de;const ue=(((ce=o.flip)==null?void 0:ce.index)||0)+1,re=D[ue];if(re&&(!(m==="alignment"?j!==qr(re):!1)||Q.every(z=>qr(z.placement)===j?z.overflows[0]>0:!0)))return{data:{index:ue,overflows:Q},reset:{placement:re}};let U=(de=Q.filter(q=>q.overflows[0]<=0).sort((q,z)=>q.overflows[1]-z.overflows[1])[0])==null?void 0:de.placement;if(!U)switch(v){case"bestFit":{var le;const q=(le=Q.filter(z=>{if(R){const X=qr(z.placement);return X===j||X==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(X=>X>0).reduce((X,Y)=>X+Y,0)]).sort((z,X)=>z[1]-X[1])[0])==null?void 0:le[0];q&&(U=q);break}case"initialPlacement":U=c;break}if(s!==U)return{reset:{placement:U}}}return{}}}};function rw(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function sw(t){return rF.some(e=>t[e]>=0)}const yF=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=As(t,e);switch(r){case"referenceHidden":{const o=await Zl(e,{...s,elementContext:"reference"}),a=rw(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:sw(a)}}}case"escaped":{const o=await Zl(e,{...s,altBoundary:!0}),a=rw(o,n.floating);return{data:{escapedOffsets:a,escaped:sw(a)}}}default:return{}}}}},JE=new Set(["left","top"]);async function vF(t,e){const{placement:n,platform:r,elements:s}=t,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=Ds(n),c=Na(n),u=qr(n)==="y",h=JE.has(a)?-1:1,p=o&&u?-1:1,m=As(e,t);let{mainAxis:y,crossAxis:v,alignmentAxis:w}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return c&&typeof w=="number"&&(v=c==="end"?w*-1:w),u?{x:v*p,y:y*h}:{x:y*h,y:v*p}}const xF=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:o,placement:a,middlewareData:c}=e,u=await vF(e,t);return a===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:s+u.x,y:o+u.y,data:{...u,placement:a}}}}},bF=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:o=!0,crossAxis:a=!1,limiter:c={fn:S=>{let{x:N,y:j}=S;return{x:N,y:j}}},...u}=As(t,e),h={x:n,y:r},p=await Zl(e,u),m=qr(Ds(s)),y=Vy(m);let v=h[y],w=h[m];if(o){const S=y==="y"?"top":"left",N=y==="y"?"bottom":"right",j=v+p[S],A=v-p[N];v=ug(j,v,A)}if(a){const S=m==="y"?"top":"left",N=m==="y"?"bottom":"right",j=w+p[S],A=w-p[N];w=ug(j,w,A)}const b=c.fn({...e,[y]:v,[m]:w});return{...b,data:{x:b.x-n,y:b.y-r,enabled:{[y]:o,[m]:a}}}}}},wF=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:o,middlewareData:a}=e,{offset:c=0,mainAxis:u=!0,crossAxis:h=!0}=As(t,e),p={x:n,y:r},m=qr(s),y=Vy(m);let v=p[y],w=p[m];const b=As(c,e),S=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(u){const A=y==="y"?"height":"width",E=o.reference[y]-o.floating[A]+S.mainAxis,T=o.reference[y]+o.reference[A]-S.mainAxis;v<E?v=E:v>T&&(v=T)}if(h){var N,j;const A=y==="y"?"width":"height",E=JE.has(Ds(s)),T=o.reference[m]-o.floating[A]+(E&&((N=a.offset)==null?void 0:N[m])||0)+(E?0:S.crossAxis),R=o.reference[m]+o.reference[A]+(E?0:((j=a.offset)==null?void 0:j[m])||0)-(E?S.crossAxis:0);w<T?w=T:w>R&&(w=R)}return{[y]:v,[m]:w}}}},kF=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:o,platform:a,elements:c}=e,{apply:u=()=>{},...h}=As(t,e),p=await Zl(e,h),m=Ds(s),y=Na(s),v=qr(s)==="y",{width:w,height:b}=o.floating;let S,N;m==="top"||m==="bottom"?(S=m,N=y===(await(a.isRTL==null?void 0:a.isRTL(c.floating))?"start":"end")?"left":"right"):(N=m,S=y==="end"?"top":"bottom");const j=b-p.top-p.bottom,A=w-p.left-p.right,E=Ao(b-p[S],j),T=Ao(w-p[N],A),R=!e.middlewareData.shift;let D=E,O=T;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(O=A),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(D=j),R&&!y){const Q=Kn(p.left,0),ce=Kn(p.right,0),de=Kn(p.top,0),le=Kn(p.bottom,0);v?O=w-2*(Q!==0||ce!==0?Q+ce:Kn(p.left,p.right)):D=b-2*(de!==0||le!==0?de+le:Kn(p.top,p.bottom))}await u({...e,availableWidth:O,availableHeight:D});const H=await a.getDimensions(c.floating);return w!==H.width||b!==H.height?{reset:{rects:!0}}:{}}}};function Af(){return typeof window<"u"}function Ea(t){return XE(t)?(t.nodeName||"").toLowerCase():"#document"}function Yn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ss(t){var e;return(e=(XE(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function XE(t){return Af()?t instanceof Node||t instanceof Yn(t).Node:!1}function jr(t){return Af()?t instanceof Element||t instanceof Yn(t).Element:!1}function Zr(t){return Af()?t instanceof HTMLElement||t instanceof Yn(t).HTMLElement:!1}function ow(t){return!Af()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Yn(t).ShadowRoot}const SF=new Set(["inline","contents"]);function dc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Ar(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!SF.has(s)}const CF=new Set(["table","td","th"]);function NF(t){return CF.has(Ea(t))}const EF=[":popover-open",":modal"];function Df(t){return EF.some(e=>{try{return t.matches(e)}catch{return!1}})}const TF=["transform","translate","scale","rotate","perspective"],MF=["transform","translate","scale","rotate","perspective","filter"],jF=["paint","layout","strict","content"];function Wy(t){const e=Ky(),n=jr(t)?Ar(t):t;return TF.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||MF.some(r=>(n.willChange||"").includes(r))||jF.some(r=>(n.contain||"").includes(r))}function AF(t){let e=Do(t);for(;Zr(e)&&!ga(e);){if(Wy(e))return e;if(Df(e))return null;e=Do(e)}return null}function Ky(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const DF=new Set(["html","body","#document"]);function ga(t){return DF.has(Ea(t))}function Ar(t){return Yn(t).getComputedStyle(t)}function Rf(t){return jr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Do(t){if(Ea(t)==="html")return t;const e=t.assignedSlot||t.parentNode||ow(t)&&t.host||ss(t);return ow(e)?e.host:e}function QE(t){const e=Do(t);return ga(e)?t.ownerDocument?t.ownerDocument.body:t.body:Zr(e)&&dc(e)?e:QE(e)}function ec(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=QE(t),o=s===((r=t.ownerDocument)==null?void 0:r.body),a=Yn(s);if(o){const c=fg(a);return e.concat(a,a.visualViewport||[],dc(s)?s:[],c&&n?ec(c):[])}return e.concat(s,ec(s,[],n))}function fg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function ZE(t){const e=Ar(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Zr(t),o=s?t.offsetWidth:n,a=s?t.offsetHeight:r,c=Kd(n)!==o||Kd(r)!==a;return c&&(n=o,r=a),{width:n,height:r,$:c}}function qy(t){return jr(t)?t:t.contextElement}function aa(t){const e=qy(t);if(!Zr(e))return Yr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:o}=ZE(e);let a=(o?Kd(n.width):n.width)/r,c=(o?Kd(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!c||!Number.isFinite(c))&&(c=1),{x:a,y:c}}const RF=Yr(0);function e2(t){const e=Yn(t);return!Ky()||!e.visualViewport?RF:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function OF(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Yn(t)?!1:e}function gi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),o=qy(t);let a=Yr(1);e&&(r?jr(r)&&(a=aa(r)):a=aa(t));const c=OF(o,n,r)?e2(o):Yr(0);let u=(s.left+c.x)/a.x,h=(s.top+c.y)/a.y,p=s.width/a.x,m=s.height/a.y;if(o){const y=Yn(o),v=r&&jr(r)?Yn(r):r;let w=y,b=fg(w);for(;b&&r&&v!==w;){const S=aa(b),N=b.getBoundingClientRect(),j=Ar(b),A=N.left+(b.clientLeft+parseFloat(j.paddingLeft))*S.x,E=N.top+(b.clientTop+parseFloat(j.paddingTop))*S.y;u*=S.x,h*=S.y,p*=S.x,m*=S.y,u+=A,h+=E,w=Yn(b),b=fg(w)}}return Gd({width:p,height:m,x:u,y:h})}function Of(t,e){const n=Rf(t).scrollLeft;return e?e.left+n:gi(ss(t)).left+n}function t2(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Of(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function IF(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const o=s==="fixed",a=ss(r),c=e?Df(e.floating):!1;if(r===a||c&&o)return n;let u={scrollLeft:0,scrollTop:0},h=Yr(1);const p=Yr(0),m=Zr(r);if((m||!m&&!o)&&((Ea(r)!=="body"||dc(a))&&(u=Rf(r)),Zr(r))){const v=gi(r);h=aa(r),p.x=v.x+r.clientLeft,p.y=v.y+r.clientTop}const y=a&&!m&&!o?t2(a,u):Yr(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-u.scrollLeft*h.x+p.x+y.x,y:n.y*h.y-u.scrollTop*h.y+p.y+y.y}}function PF(t){return Array.from(t.getClientRects())}function LF(t){const e=ss(t),n=Rf(t),r=t.ownerDocument.body,s=Kn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Kn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Of(t);const c=-n.scrollTop;return Ar(r).direction==="rtl"&&(a+=Kn(e.clientWidth,r.clientWidth)-s),{width:s,height:o,x:a,y:c}}const iw=25;function _F(t,e){const n=Yn(t),r=ss(t),s=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,c=0,u=0;if(s){o=s.width,a=s.height;const p=Ky();(!p||p&&e==="fixed")&&(c=s.offsetLeft,u=s.offsetTop)}const h=Of(r);if(h<=0){const p=r.ownerDocument,m=p.body,y=getComputedStyle(m),v=p.compatMode==="CSS1Compat"&&parseFloat(y.marginLeft)+parseFloat(y.marginRight)||0,w=Math.abs(r.clientWidth-m.clientWidth-v);w<=iw&&(o-=w)}else h<=iw&&(o+=h);return{width:o,height:a,x:c,y:u}}const zF=new Set(["absolute","fixed"]);function $F(t,e){const n=gi(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,o=Zr(t)?aa(t):Yr(1),a=t.clientWidth*o.x,c=t.clientHeight*o.y,u=s*o.x,h=r*o.y;return{width:a,height:c,x:u,y:h}}function aw(t,e,n){let r;if(e==="viewport")r=_F(t,n);else if(e==="document")r=LF(ss(t));else if(jr(e))r=$F(e,n);else{const s=e2(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Gd(r)}function n2(t,e){const n=Do(t);return n===e||!jr(n)||ga(n)?!1:Ar(n).position==="fixed"||n2(n,e)}function FF(t,e){const n=e.get(t);if(n)return n;let r=ec(t,[],!1).filter(c=>jr(c)&&Ea(c)!=="body"),s=null;const o=Ar(t).position==="fixed";let a=o?Do(t):t;for(;jr(a)&&!ga(a);){const c=Ar(a),u=Wy(a);!u&&c.position==="fixed"&&(s=null),(o?!u&&!s:!u&&c.position==="static"&&!!s&&zF.has(s.position)||dc(a)&&!u&&n2(t,a))?r=r.filter(p=>p!==a):s=c,a=Do(a)}return e.set(t,r),r}function BF(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const a=[...n==="clippingAncestors"?Df(e)?[]:FF(e,this._c):[].concat(n),r],c=a[0],u=a.reduce((h,p)=>{const m=aw(e,p,s);return h.top=Kn(m.top,h.top),h.right=Ao(m.right,h.right),h.bottom=Ao(m.bottom,h.bottom),h.left=Kn(m.left,h.left),h},aw(e,c,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function VF(t){const{width:e,height:n}=ZE(t);return{width:e,height:n}}function HF(t,e,n){const r=Zr(e),s=ss(e),o=n==="fixed",a=gi(t,!0,o,e);let c={scrollLeft:0,scrollTop:0};const u=Yr(0);function h(){u.x=Of(s)}if(r||!r&&!o)if((Ea(e)!=="body"||dc(s))&&(c=Rf(e)),r){const v=gi(e,!0,o,e);u.x=v.x+e.clientLeft,u.y=v.y+e.clientTop}else s&&h();o&&!r&&s&&h();const p=s&&!r&&!o?t2(s,c):Yr(0),m=a.left+c.scrollLeft-u.x-p.x,y=a.top+c.scrollTop-u.y-p.y;return{x:m,y,width:a.width,height:a.height}}function ym(t){return Ar(t).position==="static"}function lw(t,e){if(!Zr(t)||Ar(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ss(t)===n&&(n=n.ownerDocument.body),n}function r2(t,e){const n=Yn(t);if(Df(t))return n;if(!Zr(t)){let s=Do(t);for(;s&&!ga(s);){if(jr(s)&&!ym(s))return s;s=Do(s)}return n}let r=lw(t,e);for(;r&&NF(r)&&ym(r);)r=lw(r,e);return r&&ga(r)&&ym(r)&&!Wy(r)?n:r||AF(t)||n}const UF=async function(t){const e=this.getOffsetParent||r2,n=this.getDimensions,r=await n(t.floating);return{reference:HF(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function WF(t){return Ar(t).direction==="rtl"}const KF={convertOffsetParentRelativeRectToViewportRelativeRect:IF,getDocumentElement:ss,getClippingRect:BF,getOffsetParent:r2,getElementRects:UF,getClientRects:PF,getDimensions:VF,getScale:aa,isElement:jr,isRTL:WF};function s2(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function qF(t,e){let n=null,r;const s=ss(t);function o(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function a(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),o();const h=t.getBoundingClientRect(),{left:p,top:m,width:y,height:v}=h;if(c||e(),!y||!v)return;const w=$u(m),b=$u(s.clientWidth-(p+y)),S=$u(s.clientHeight-(m+v)),N=$u(p),A={rootMargin:-w+"px "+-b+"px "+-S+"px "+-N+"px",threshold:Kn(0,Ao(1,u))||1};let E=!0;function T(R){const D=R[0].intersectionRatio;if(D!==u){if(!E)return a();D?a(!1,D):r=setTimeout(()=>{a(!1,1e-7)},1e3)}D===1&&!s2(h,t.getBoundingClientRect())&&a(),E=!1}try{n=new IntersectionObserver(T,{...A,root:s.ownerDocument})}catch{n=new IntersectionObserver(T,A)}n.observe(t)}return a(!0),o}function GF(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,h=qy(t),p=s||o?[...h?ec(h):[],...ec(e)]:[];p.forEach(N=>{s&&N.addEventListener("scroll",n,{passive:!0}),o&&N.addEventListener("resize",n)});const m=h&&c?qF(h,n):null;let y=-1,v=null;a&&(v=new ResizeObserver(N=>{let[j]=N;j&&j.target===h&&v&&(v.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var A;(A=v)==null||A.observe(e)})),n()}),h&&!u&&v.observe(h),v.observe(e));let w,b=u?gi(t):null;u&&S();function S(){const N=gi(t);b&&!s2(b,N)&&n(),b=N,w=requestAnimationFrame(S)}return n(),()=>{var N;p.forEach(j=>{s&&j.removeEventListener("scroll",n),o&&j.removeEventListener("resize",n)}),m?.(),(N=v)==null||N.disconnect(),v=null,u&&cancelAnimationFrame(w)}}const YF=xF,JF=bF,XF=gF,QF=kF,ZF=yF,cw=mF,eB=wF,tB=(t,e,n)=>{const r=new Map,s={platform:KF,...n},o={...s.platform,_c:r};return pF(t,e,{...s,platform:o})};var nB=typeof document<"u",rB=function(){},Gu=nB?C.useLayoutEffect:rB;function Yd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Yd(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&t.$$typeof)&&!Yd(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function o2(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function uw(t,e){const n=o2(t);return Math.round(e*n)/n}function vm(t){const e=C.useRef(t);return Gu(()=>{e.current=t}),e}function sB(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:a}={},transform:c=!0,whileElementsMounted:u,open:h}=t,[p,m]=C.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[y,v]=C.useState(r);Yd(y,r)||v(r);const[w,b]=C.useState(null),[S,N]=C.useState(null),j=C.useCallback(z=>{z!==R.current&&(R.current=z,b(z))},[]),A=C.useCallback(z=>{z!==D.current&&(D.current=z,N(z))},[]),E=o||w,T=a||S,R=C.useRef(null),D=C.useRef(null),O=C.useRef(p),H=u!=null,Q=vm(u),ce=vm(s),de=vm(h),le=C.useCallback(()=>{if(!R.current||!D.current)return;const z={placement:e,strategy:n,middleware:y};ce.current&&(z.platform=ce.current),tB(R.current,D.current,z).then(X=>{const Y={...X,isPositioned:de.current!==!1};ue.current&&!Yd(O.current,Y)&&(O.current=Y,Kr.flushSync(()=>{m(Y)}))})},[y,e,n,ce,de]);Gu(()=>{h===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,m(z=>({...z,isPositioned:!1})))},[h]);const ue=C.useRef(!1);Gu(()=>(ue.current=!0,()=>{ue.current=!1}),[]),Gu(()=>{if(E&&(R.current=E),T&&(D.current=T),E&&T){if(Q.current)return Q.current(E,T,le);le()}},[E,T,le,Q,H]);const re=C.useMemo(()=>({reference:R,floating:D,setReference:j,setFloating:A}),[j,A]),U=C.useMemo(()=>({reference:E,floating:T}),[E,T]),q=C.useMemo(()=>{const z={position:n,left:0,top:0};if(!U.floating)return z;const X=uw(U.floating,p.x),Y=uw(U.floating,p.y);return c?{...z,transform:"translate("+X+"px, "+Y+"px)",...o2(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:X,top:Y}},[n,c,U.floating,p.x,p.y]);return C.useMemo(()=>({...p,update:le,refs:re,elements:U,floatingStyles:q}),[p,le,re,U,q])}const oB=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?cw({element:r.current,padding:s}).fn(n):{}:r?cw({element:r,padding:s}).fn(n):{}}}},iB=(t,e)=>({...YF(t),options:[t,e]}),aB=(t,e)=>({...JF(t),options:[t,e]}),lB=(t,e)=>({...eB(t),options:[t,e]}),cB=(t,e)=>({...XF(t),options:[t,e]}),uB=(t,e)=>({...QF(t),options:[t,e]}),dB=(t,e)=>({...ZF(t),options:[t,e]}),fB=(t,e)=>({...oB(t),options:[t,e]});var hB="Arrow",i2=C.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...o}=t;return d.jsx(Fe.svg,{...o,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});i2.displayName=hB;var pB=i2,Gy="Popper",[a2,l2]=Dr(Gy),[mB,c2]=a2(Gy),u2=t=>{const{__scopePopper:e,children:n}=t,[r,s]=C.useState(null);return d.jsx(mB,{scope:e,anchor:r,onAnchorChange:s,children:n})};u2.displayName=Gy;var d2="PopperAnchor",f2=C.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,o=c2(d2,n),a=C.useRef(null),c=lt(e,a),u=C.useRef(null);return C.useEffect(()=>{const h=u.current;u.current=r?.current||a.current,h!==u.current&&o.onAnchorChange(u.current)}),r?null:d.jsx(Fe.div,{...s,ref:c})});f2.displayName=d2;var Yy="PopperContent",[gB,yB]=a2(Yy),h2=C.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:a=0,arrowPadding:c=0,avoidCollisions:u=!0,collisionBoundary:h=[],collisionPadding:p=0,sticky:m="partial",hideWhenDetached:y=!1,updatePositionStrategy:v="optimized",onPlaced:w,...b}=t,S=c2(Yy,n),[N,j]=C.useState(null),A=lt(e,J=>j(J)),[E,T]=C.useState(null),R=$E(E),D=R?.width??0,O=R?.height??0,H=r+(o!=="center"?"-"+o:""),Q=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},ce=Array.isArray(h)?h:[h],de=ce.length>0,le={padding:Q,boundary:ce.filter(xB),altBoundary:de},{refs:ue,floatingStyles:re,placement:U,isPositioned:q,middlewareData:z}=sB({strategy:"fixed",placement:H,whileElementsMounted:(...J)=>GF(...J,{animationFrame:v==="always"}),elements:{reference:S.anchor},middleware:[iB({mainAxis:s+O,alignmentAxis:a}),u&&aB({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?lB():void 0,...le}),u&&cB({...le}),uB({...le,apply:({elements:J,rects:ie,availableWidth:ke,availableHeight:fe})=>{const{width:_e,height:Pe}=ie.reference,rt=J.floating.style;rt.setProperty("--radix-popper-available-width",`${ke}px`),rt.setProperty("--radix-popper-available-height",`${fe}px`),rt.setProperty("--radix-popper-anchor-width",`${_e}px`),rt.setProperty("--radix-popper-anchor-height",`${Pe}px`)}}),E&&fB({element:E,padding:c}),bB({arrowWidth:D,arrowHeight:O}),y&&dB({strategy:"referenceHidden",...le})]}),[X,Y]=g2(U),L=Eo(w);cn(()=>{q&&L?.()},[q,L]);const V=z.arrow?.x,K=z.arrow?.y,ee=z.arrow?.centerOffset!==0,[he,pe]=C.useState();return cn(()=>{N&&pe(window.getComputedStyle(N).zIndex)},[N]),d.jsx("div",{ref:ue.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:q?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:he,"--radix-popper-transform-origin":[z.transformOrigin?.x,z.transformOrigin?.y].join(" "),...z.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:d.jsx(gB,{scope:n,placedSide:X,onArrowChange:T,arrowX:V,arrowY:K,shouldHideArrow:ee,children:d.jsx(Fe.div,{"data-side":X,"data-align":Y,...b,ref:A,style:{...b.style,animation:q?void 0:"none"}})})})});h2.displayName=Yy;var p2="PopperArrow",vB={top:"bottom",right:"left",bottom:"top",left:"right"},m2=C.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,o=yB(p2,r),a=vB[o.placedSide];return d.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:d.jsx(pB,{...s,ref:n,style:{...s.style,display:"block"}})})});m2.displayName=p2;function xB(t){return t!==null}var bB=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:s}=e,a=s.arrow?.centerOffset!==0,c=a?0:t.arrowWidth,u=a?0:t.arrowHeight,[h,p]=g2(n),m={start:"0%",center:"50%",end:"100%"}[p],y=(s.arrow?.x??0)+c/2,v=(s.arrow?.y??0)+u/2;let w="",b="";return h==="bottom"?(w=a?m:`${y}px`,b=`${-u}px`):h==="top"?(w=a?m:`${y}px`,b=`${r.floating.height+u}px`):h==="right"?(w=`${-u}px`,b=a?m:`${v}px`):h==="left"&&(w=`${r.floating.width+u}px`,b=a?m:`${v}px`),{data:{x:w,y:b}}}});function g2(t){const[e,n="center"]=t.split("-");return[e,n]}var wB=u2,kB=f2,SB=h2,CB=m2,y2=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),NB="VisuallyHidden",EB=C.forwardRef((t,e)=>d.jsx(Fe.span,{...t,ref:e,style:{...y2,...t.style}}));EB.displayName=NB;var TB=[" ","Enter","ArrowUp","ArrowDown"],MB=[" ","Enter"],yi="Select",[If,Pf,jB]=Lg(yi),[Ta]=Dr(yi,[jB,l2]),Lf=l2(),[AB,Po]=Ta(yi),[DB,RB]=Ta(yi),v2=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:o,value:a,defaultValue:c,onValueChange:u,dir:h,name:p,autoComplete:m,disabled:y,required:v,form:w}=t,b=Lf(e),[S,N]=C.useState(null),[j,A]=C.useState(null),[E,T]=C.useState(!1),R=sf(h),[D,O]=js({prop:r,defaultProp:s??!1,onChange:o,caller:yi}),[H,Q]=js({prop:a,defaultProp:c,onChange:u,caller:yi}),ce=C.useRef(null),de=S?w||!!S.closest("form"):!0,[le,ue]=C.useState(new Set),re=Array.from(le).map(U=>U.props.value).join(";");return d.jsx(wB,{...b,children:d.jsxs(AB,{required:v,scope:e,trigger:S,onTriggerChange:N,valueNode:j,onValueNodeChange:A,valueNodeHasChildren:E,onValueNodeHasChildrenChange:T,contentId:Gr(),value:H,onValueChange:Q,open:D,onOpenChange:O,dir:R,triggerPointerDownPosRef:ce,disabled:y,children:[d.jsx(If.Provider,{scope:e,children:d.jsx(DB,{scope:t.__scopeSelect,onNativeOptionAdd:C.useCallback(U=>{ue(q=>new Set(q).add(U))},[]),onNativeOptionRemove:C.useCallback(U=>{ue(q=>{const z=new Set(q);return z.delete(U),z})},[]),children:n})}),de?d.jsxs(F2,{"aria-hidden":!0,required:v,tabIndex:-1,name:p,autoComplete:m,value:H,onChange:U=>Q(U.target.value),disabled:y,form:w,children:[H===void 0?d.jsx("option",{value:""}):null,Array.from(le)]},re):null]})})};v2.displayName=yi;var x2="SelectTrigger",b2=C.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,o=Lf(n),a=Po(x2,n),c=a.disabled||r,u=lt(e,a.onTriggerChange),h=Pf(n),p=C.useRef("touch"),[m,y,v]=V2(b=>{const S=h().filter(A=>!A.disabled),N=S.find(A=>A.value===a.value),j=H2(S,b,N);j!==void 0&&a.onValueChange(j.value)}),w=b=>{c||(a.onOpenChange(!0),v()),b&&(a.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return d.jsx(kB,{asChild:!0,...o,children:d.jsx(Fe.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":B2(a.value)?"":void 0,...s,ref:u,onClick:Ue(s.onClick,b=>{b.currentTarget.focus(),p.current!=="mouse"&&w(b)}),onPointerDown:Ue(s.onPointerDown,b=>{p.current=b.pointerType;const S=b.target;S.hasPointerCapture(b.pointerId)&&S.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(w(b),b.preventDefault())}),onKeyDown:Ue(s.onKeyDown,b=>{const S=m.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&y(b.key),!(S&&b.key===" ")&&TB.includes(b.key)&&(w(),b.preventDefault())})})})});b2.displayName=x2;var w2="SelectValue",k2=C.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:a="",...c}=t,u=Po(w2,n),{onValueNodeHasChildrenChange:h}=u,p=o!==void 0,m=lt(e,u.onValueNodeChange);return cn(()=>{h(p)},[h,p]),d.jsx(Fe.span,{...c,ref:m,style:{pointerEvents:"none"},children:B2(u.value)?d.jsx(d.Fragment,{children:a}):o})});k2.displayName=w2;var OB="SelectIcon",S2=C.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return d.jsx(Fe.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});S2.displayName=OB;var IB="SelectPortal",C2=t=>d.jsx(Mg,{asChild:!0,...t});C2.displayName=IB;var vi="SelectContent",N2=C.forwardRef((t,e)=>{const n=Po(vi,t.__scopeSelect),[r,s]=C.useState();if(cn(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?Kr.createPortal(d.jsx(E2,{scope:t.__scopeSelect,children:d.jsx(If.Slot,{scope:t.__scopeSelect,children:d.jsx("div",{children:t.children})})}),o):null}return d.jsx(T2,{...t,ref:e})});N2.displayName=vi;var wr=10,[E2,Lo]=Ta(vi),PB="SelectContentImpl",LB=la("SelectContent.RemoveScroll"),T2=C.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:a,side:c,sideOffset:u,align:h,alignOffset:p,arrowPadding:m,collisionBoundary:y,collisionPadding:v,sticky:w,hideWhenDetached:b,avoidCollisions:S,...N}=t,j=Po(vi,n),[A,E]=C.useState(null),[T,R]=C.useState(null),D=lt(e,J=>E(J)),[O,H]=C.useState(null),[Q,ce]=C.useState(null),de=Pf(n),[le,ue]=C.useState(!1),re=C.useRef(!1);C.useEffect(()=>{if(A)return rk(A)},[A]),Gw();const U=C.useCallback(J=>{const[ie,...ke]=de().map(Pe=>Pe.ref.current),[fe]=ke.slice(-1),_e=document.activeElement;for(const Pe of J)if(Pe===_e||(Pe?.scrollIntoView({block:"nearest"}),Pe===ie&&T&&(T.scrollTop=0),Pe===fe&&T&&(T.scrollTop=T.scrollHeight),Pe?.focus(),document.activeElement!==_e))return},[de,T]),q=C.useCallback(()=>U([O,A]),[U,O,A]);C.useEffect(()=>{le&&q()},[le,q]);const{onOpenChange:z,triggerPointerDownPosRef:X}=j;C.useEffect(()=>{if(A){let J={x:0,y:0};const ie=fe=>{J={x:Math.abs(Math.round(fe.pageX)-(X.current?.x??0)),y:Math.abs(Math.round(fe.pageY)-(X.current?.y??0))}},ke=fe=>{J.x<=10&&J.y<=10?fe.preventDefault():A.contains(fe.target)||z(!1),document.removeEventListener("pointermove",ie),X.current=null};return X.current!==null&&(document.addEventListener("pointermove",ie),document.addEventListener("pointerup",ke,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ie),document.removeEventListener("pointerup",ke,{capture:!0})}}},[A,z,X]),C.useEffect(()=>{const J=()=>z(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[z]);const[Y,L]=V2(J=>{const ie=de().filter(_e=>!_e.disabled),ke=ie.find(_e=>_e.ref.current===document.activeElement),fe=H2(ie,J,ke);fe&&setTimeout(()=>fe.ref.current.focus())}),V=C.useCallback((J,ie,ke)=>{const fe=!re.current&&!ke;(j.value!==void 0&&j.value===ie||fe)&&(H(J),fe&&(re.current=!0))},[j.value]),K=C.useCallback(()=>A?.focus(),[A]),ee=C.useCallback((J,ie,ke)=>{const fe=!re.current&&!ke;(j.value!==void 0&&j.value===ie||fe)&&ce(J)},[j.value]),he=r==="popper"?hg:M2,pe=he===hg?{side:c,sideOffset:u,align:h,alignOffset:p,arrowPadding:m,collisionBoundary:y,collisionPadding:v,sticky:w,hideWhenDetached:b,avoidCollisions:S}:{};return d.jsx(E2,{scope:n,content:A,viewport:T,onViewportChange:R,itemRefCallback:V,selectedItem:O,onItemLeave:K,itemTextRefCallback:ee,focusSelectedItem:q,selectedItemText:Q,position:r,isPositioned:le,searchRef:Y,children:d.jsx(jg,{as:LB,allowPinchZoom:!0,children:d.jsx(Tg,{asChild:!0,trapped:j.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:Ue(s,J=>{j.trigger?.focus({preventScroll:!0}),J.preventDefault()}),children:d.jsx(Eg,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:d.jsx(he,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:J=>J.preventDefault(),...N,...pe,onPlaced:()=>ue(!0),ref:D,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:Ue(N.onKeyDown,J=>{const ie=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!ie&&J.key.length===1&&L(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let fe=de().filter(_e=>!_e.disabled).map(_e=>_e.ref.current);if(["ArrowUp","End"].includes(J.key)&&(fe=fe.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const _e=J.target,Pe=fe.indexOf(_e);fe=fe.slice(Pe+1)}setTimeout(()=>U(fe)),J.preventDefault()}})})})})})})});T2.displayName=PB;var _B="SelectItemAlignedPosition",M2=C.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,o=Po(vi,n),a=Lo(vi,n),[c,u]=C.useState(null),[h,p]=C.useState(null),m=lt(e,D=>p(D)),y=Pf(n),v=C.useRef(!1),w=C.useRef(!0),{viewport:b,selectedItem:S,selectedItemText:N,focusSelectedItem:j}=a,A=C.useCallback(()=>{if(o.trigger&&o.valueNode&&c&&h&&b&&S&&N){const D=o.trigger.getBoundingClientRect(),O=h.getBoundingClientRect(),H=o.valueNode.getBoundingClientRect(),Q=N.getBoundingClientRect();if(o.dir!=="rtl"){const _e=Q.left-O.left,Pe=H.left-_e,rt=D.left-Pe,ct=D.width+rt,Ht=Math.max(ct,O.width),Ut=window.innerWidth-wr,Wt=Zb(Pe,[wr,Math.max(wr,Ut-Ht)]);c.style.minWidth=ct+"px",c.style.left=Wt+"px"}else{const _e=O.right-Q.right,Pe=window.innerWidth-H.right-_e,rt=window.innerWidth-D.right-Pe,ct=D.width+rt,Ht=Math.max(ct,O.width),Ut=window.innerWidth-wr,Wt=Zb(Pe,[wr,Math.max(wr,Ut-Ht)]);c.style.minWidth=ct+"px",c.style.right=Wt+"px"}const ce=y(),de=window.innerHeight-wr*2,le=b.scrollHeight,ue=window.getComputedStyle(h),re=parseInt(ue.borderTopWidth,10),U=parseInt(ue.paddingTop,10),q=parseInt(ue.borderBottomWidth,10),z=parseInt(ue.paddingBottom,10),X=re+U+le+z+q,Y=Math.min(S.offsetHeight*5,X),L=window.getComputedStyle(b),V=parseInt(L.paddingTop,10),K=parseInt(L.paddingBottom,10),ee=D.top+D.height/2-wr,he=de-ee,pe=S.offsetHeight/2,J=S.offsetTop+pe,ie=re+U+J,ke=X-ie;if(ie<=ee){const _e=ce.length>0&&S===ce[ce.length-1].ref.current;c.style.bottom="0px";const Pe=h.clientHeight-b.offsetTop-b.offsetHeight,rt=Math.max(he,pe+(_e?K:0)+Pe+q),ct=ie+rt;c.style.height=ct+"px"}else{const _e=ce.length>0&&S===ce[0].ref.current;c.style.top="0px";const rt=Math.max(ee,re+b.offsetTop+(_e?V:0)+pe)+ke;c.style.height=rt+"px",b.scrollTop=ie-ee+b.offsetTop}c.style.margin=`${wr}px 0`,c.style.minHeight=Y+"px",c.style.maxHeight=de+"px",r?.(),requestAnimationFrame(()=>v.current=!0)}},[y,o.trigger,o.valueNode,c,h,b,S,N,o.dir,r]);cn(()=>A(),[A]);const[E,T]=C.useState();cn(()=>{h&&T(window.getComputedStyle(h).zIndex)},[h]);const R=C.useCallback(D=>{D&&w.current===!0&&(A(),j?.(),w.current=!1)},[A,j]);return d.jsx($B,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:v,onScrollButtonChange:R,children:d.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:d.jsx(Fe.div,{...s,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});M2.displayName=_B;var zB="SelectPopperPosition",hg=C.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=wr,...o}=t,a=Lf(n);return d.jsx(SB,{...a,...o,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});hg.displayName=zB;var[$B,Jy]=Ta(vi,{}),pg="SelectViewport",j2=C.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,o=Lo(pg,n),a=Jy(pg,n),c=lt(e,o.onViewportChange),u=C.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),d.jsx(If.Slot,{scope:n,children:d.jsx(Fe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ue(s.onScroll,h=>{const p=h.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:y}=a;if(y?.current&&m){const v=Math.abs(u.current-p.scrollTop);if(v>0){const w=window.innerHeight-wr*2,b=parseFloat(m.style.minHeight),S=parseFloat(m.style.height),N=Math.max(b,S);if(N<w){const j=N+v,A=Math.min(w,j),E=j-A;m.style.height=A+"px",m.style.bottom==="0px"&&(p.scrollTop=E>0?E:0,m.style.justifyContent="flex-end")}}}u.current=p.scrollTop})})})]})});j2.displayName=pg;var A2="SelectGroup",[FB,BB]=Ta(A2),VB=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Gr();return d.jsx(FB,{scope:n,id:s,children:d.jsx(Fe.div,{role:"group","aria-labelledby":s,...r,ref:e})})});VB.displayName=A2;var D2="SelectLabel",HB=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=BB(D2,n);return d.jsx(Fe.div,{id:s.id,...r,ref:e})});HB.displayName=D2;var Jd="SelectItem",[UB,R2]=Ta(Jd),O2=C.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...a}=t,c=Po(Jd,n),u=Lo(Jd,n),h=c.value===r,[p,m]=C.useState(o??""),[y,v]=C.useState(!1),w=lt(e,j=>u.itemRefCallback?.(j,r,s)),b=Gr(),S=C.useRef("touch"),N=()=>{s||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(UB,{scope:n,value:r,disabled:s,textId:b,isSelected:h,onItemTextChange:C.useCallback(j=>{m(A=>A||(j?.textContent??"").trim())},[]),children:d.jsx(If.ItemSlot,{scope:n,value:r,disabled:s,textValue:p,children:d.jsx(Fe.div,{role:"option","aria-labelledby":b,"data-highlighted":y?"":void 0,"aria-selected":h&&y,"data-state":h?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:w,onFocus:Ue(a.onFocus,()=>v(!0)),onBlur:Ue(a.onBlur,()=>v(!1)),onClick:Ue(a.onClick,()=>{S.current!=="mouse"&&N()}),onPointerUp:Ue(a.onPointerUp,()=>{S.current==="mouse"&&N()}),onPointerDown:Ue(a.onPointerDown,j=>{S.current=j.pointerType}),onPointerMove:Ue(a.onPointerMove,j=>{S.current=j.pointerType,s?u.onItemLeave?.():S.current==="mouse"&&j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ue(a.onPointerLeave,j=>{j.currentTarget===document.activeElement&&u.onItemLeave?.()}),onKeyDown:Ue(a.onKeyDown,j=>{u.searchRef?.current!==""&&j.key===" "||(MB.includes(j.key)&&N(),j.key===" "&&j.preventDefault())})})})})});O2.displayName=Jd;var bl="SelectItemText",I2=C.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...o}=t,a=Po(bl,n),c=Lo(bl,n),u=R2(bl,n),h=RB(bl,n),[p,m]=C.useState(null),y=lt(e,N=>m(N),u.onItemTextChange,N=>c.itemTextRefCallback?.(N,u.value,u.disabled)),v=p?.textContent,w=C.useMemo(()=>d.jsx("option",{value:u.value,disabled:u.disabled,children:v},u.value),[u.disabled,u.value,v]),{onNativeOptionAdd:b,onNativeOptionRemove:S}=h;return cn(()=>(b(w),()=>S(w)),[b,S,w]),d.jsxs(d.Fragment,{children:[d.jsx(Fe.span,{id:u.textId,...o,ref:y}),u.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Kr.createPortal(o.children,a.valueNode):null]})});I2.displayName=bl;var P2="SelectItemIndicator",L2=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return R2(P2,n).isSelected?d.jsx(Fe.span,{"aria-hidden":!0,...r,ref:e}):null});L2.displayName=P2;var mg="SelectScrollUpButton",_2=C.forwardRef((t,e)=>{const n=Lo(mg,t.__scopeSelect),r=Jy(mg,t.__scopeSelect),[s,o]=C.useState(!1),a=lt(e,r.onScrollButtonChange);return cn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=u.scrollTop>0;o(h)};const u=n.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?d.jsx($2,{...t,ref:a,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=n;c&&u&&(c.scrollTop=c.scrollTop-u.offsetHeight)}}):null});_2.displayName=mg;var gg="SelectScrollDownButton",z2=C.forwardRef((t,e)=>{const n=Lo(gg,t.__scopeSelect),r=Jy(gg,t.__scopeSelect),[s,o]=C.useState(!1),a=lt(e,r.onScrollButtonChange);return cn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=u.scrollHeight-u.clientHeight,p=Math.ceil(u.scrollTop)<h;o(p)};const u=n.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?d.jsx($2,{...t,ref:a,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=n;c&&u&&(c.scrollTop=c.scrollTop+u.offsetHeight)}}):null});z2.displayName=gg;var $2=C.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,o=Lo("SelectScrollButton",n),a=C.useRef(null),c=Pf(n),u=C.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return C.useEffect(()=>()=>u(),[u]),cn(()=>{c().find(p=>p.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),d.jsx(Fe.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Ue(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:Ue(s.onPointerMove,()=>{o.onItemLeave?.(),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:Ue(s.onPointerLeave,()=>{u()})})}),WB="SelectSeparator",KB=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return d.jsx(Fe.div,{"aria-hidden":!0,...r,ref:e})});KB.displayName=WB;var yg="SelectArrow",qB=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Lf(n),o=Po(yg,n),a=Lo(yg,n);return o.open&&a.position==="popper"?d.jsx(CB,{...s,...r,ref:e}):null});qB.displayName=yg;var GB="SelectBubbleInput",F2=C.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=C.useRef(null),o=lt(r,s),a=zE(e);return C.useEffect(()=>{const c=s.current;if(!c)return;const u=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(u,"value").set;if(a!==e&&p){const m=new Event("change",{bubbles:!0});p.call(c,e),c.dispatchEvent(m)}},[a,e]),d.jsx(Fe.select,{...n,style:{...y2,...n.style},ref:o,defaultValue:e})});F2.displayName=GB;function B2(t){return t===""||t===void 0}function V2(t){const e=Eo(t),n=C.useRef(""),r=C.useRef(0),s=C.useCallback(a=>{const c=n.current+a;e(c),(function u(h){n.current=h,window.clearTimeout(r.current),h!==""&&(r.current=window.setTimeout(()=>u(""),1e3))})(c)},[e]),o=C.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return C.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function H2(t,e,n){const s=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let a=YB(t,Math.max(o,0));s.length===1&&(a=a.filter(h=>h!==n));const u=a.find(h=>h.textValue.toLowerCase().startsWith(s.toLowerCase()));return u!==n?u:void 0}function YB(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var JB=v2,XB=b2,QB=k2,ZB=S2,e8=C2,t8=N2,n8=j2,r8=O2,s8=I2,o8=L2,i8=_2,a8=z2;function Cr({...t}){return d.jsx(JB,{"data-slot":"select",...t})}function Nr({...t}){return d.jsx(QB,{"data-slot":"select-value",...t})}function Er({className:t,size:e="default",children:n,...r}){return d.jsxs(XB,{"data-slot":"select-trigger","data-size":e,className:Ke("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r,children:[n,d.jsx(ZB,{asChild:!0,children:d.jsx(kg,{className:"size-4 opacity-50"})})]})}function Tr({className:t,children:e,position:n="popper",...r}){return d.jsx(e8,{children:d.jsxs(t8,{"data-slot":"select-content",className:Ke("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[d.jsx(l8,{}),d.jsx(n8,{className:Ke("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),d.jsx(c8,{})]})})}function G({className:t,children:e,...n}){return d.jsxs(r8,{"data-slot":"select-item",className:Ke("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[d.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:d.jsx(o8,{children:d.jsx(Vw,{className:"size-4"})})}),d.jsx(s8,{children:e})]})}function l8({className:t,...e}){return d.jsx(i8,{"data-slot":"select-scroll-up-button",className:Ke("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(nA,{className:"size-4"})})}function c8({className:t,...e}){return d.jsx(a8,{"data-slot":"select-scroll-down-button",className:Ke("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(kg,{className:"size-4"})})}const u8=[{value:"flight",label:"Flight",icon:d.jsx(Cg,{className:"w-4 h-4"})},{value:"hotel",label:"Hotel",icon:d.jsx(ef,{className:"w-4 h-4"})},{value:"restaurant",label:"Restaurant",icon:d.jsx(fo,{className:"w-4 h-4"})},{value:"activity",label:"Activity",icon:d.jsx(Ur,{className:"w-4 h-4"})},{value:"transport",label:"Transport",icon:d.jsx(ta,{className:"w-4 h-4"})},{value:"other",label:"Other",icon:d.jsx(Zd,{className:"w-4 h-4"})}];function d8({open:t,onOpenChange:e,onAddActivity:n,tripDays:r}){const[s,o]=C.useState({title:"",time:"",description:"",location:"",address:"",city:"",placeCategory:"other",coordinates:"",type:"activity",day:r[0]||"",isUnscheduled:!1}),[a,c]=C.useState(!0),[u,h]=C.useState([]),[p,m]=C.useState(""),[y,v]=C.useState("instagram");C.useEffect(()=>{t||(o({title:"",time:"",description:"",location:"",address:"",city:"",placeCategory:"other",coordinates:"",type:"activity",day:r[0]||"",isUnscheduled:!1}),h([]),m(""),v("instagram"),c(!0))},[t,r]);const w=E=>E.includes("instagram.com")?"instagram":E.includes("tiktok.com")?"tiktok":E.includes("youtube.com")||E.includes("youtu.be")?"youtube":E.includes("twitter.com")||E.includes("x.com")?"twitter":"other",b=()=>{if(!p.trim())return;const E=w(p),T={id:Date.now().toString(),platform:E!=="other"?E:y,url:p.trim()};h([...u,T]),m(""),v("instagram")},S=E=>{console.log(" Location selected for activity:",E);const T=E.address.split(",").map(O=>O.trim());let R="";T.length>=3?R=T[T.length-3]:T.length===2&&(R=T[0]);let D="other";E.placeType&&(E.placeType.includes("bakery")?D="bakery":E.placeType.includes("meal_takeaway")||E.placeType.includes("fast_food")?D="fastfood":E.placeType.includes("cafe")?D="cafe":E.placeType.includes("bar")||E.placeType.includes("night_club")?D="bar":E.placeType.includes("restaurant")?D="restaurant":E.placeType.includes("art_gallery")?D="gallery":E.placeType.includes("museum")?D="museum":E.placeType.includes("stadium")||E.placeType.includes("event_venue")?D="venue":E.placeType.includes("movie_theater")||E.placeType.includes("bowling_alley")||E.placeType.includes("amusement_park")?D="entertainment":E.placeType.includes("beach")?D="beach":E.placeType.includes("park")?D="park":E.placeType.includes("tourist_attraction")?D="attraction":E.placeType.includes("lodging")?D="hotel":E.placeType.includes("shopping_mall")||E.placeType.includes("store")?D="shopping":E.placeType.includes("transit_station")||E.placeType.includes("airport")?D="transport":E.placeType.includes("school")||E.placeType.includes("university")?D="school":E.placeType.includes("spa")||E.placeType.includes("beauty_salon")?D="spa":E.placeType.includes("gym")?D="gym":E.placeType.includes("pharmacy")?D="pharmacy":E.placeType.includes("bank")||E.placeType.includes("atm")?D="bank":E.placeType.includes("gas_station")?D="gas":E.placeType.includes("parking")&&(D="parking")),requestAnimationFrame(()=>{o({...s,location:E.name,address:E.address,city:R,placeCategory:D,coordinates:E.coordinates}),wn.success(" Location added!",{description:`${E.name} will appear on the map`})})},N=E=>{h(u.filter(T=>T.id!==E))},j=E=>{E.preventDefault();const{isUnscheduled:T,...R}=s,D={...R,location:s.location,address:s.address||void 0,city:s.city||void 0,placeCategory:s.placeCategory||void 0,day:T?void 0:R.day,coordinates:s.coordinates||void 0,socialMedia:u.length>0?u:void 0};n(D),o({title:"",time:"",description:"",location:"",address:"",city:"",placeCategory:"other",coordinates:"",type:"activity",day:r[0]||"",isUnscheduled:!1}),h([]),m(""),c(!0),e(!1)},A=(E,T)=>{const R=new Date(E);return`Day ${T+1} - ${R.toLocaleDateString("en-US",{month:"short",day:"numeric"})}`};return d.jsx(es,{open:t,onOpenChange:e,children:d.jsxs(ts,{className:"w-[95vw] max-w-[500px] max-h-[90vh] overflow-y-auto",onInteractOutside:E=>{E.target.closest(".pac-container")&&E.preventDefault()},children:[d.jsx(ns,{children:d.jsxs("div",{className:"flex items-start justify-between gap-4",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx(rs,{children:"Add Activity"}),d.jsx(Ro,{children:"Add a new activity to your itinerary"})]}),s.coordinates&&d.jsxs(at,{className:"bg-green-100 text-green-700 border-green-300 hover:bg-green-100 flex items-center gap-1",children:[d.jsx(Qe,{className:"w-3 h-3"}),"On Map"]})]})}),d.jsxs("form",{onSubmit:j,children:[d.jsxs("div",{className:"space-y-4 py-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{htmlFor:"title",children:"Activity Title"}),d.jsx(it,{id:"title",placeholder:"e.g., Visit Eiffel Tower",value:s.title,onChange:E=>o({...s,title:E.target.value}),required:!0})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{htmlFor:"type",children:"Type"}),d.jsxs(Cr,{value:s.type,onValueChange:E=>o({...s,type:E}),children:[d.jsx(Er,{children:d.jsx(Nr,{})}),d.jsx(Tr,{children:u8.map(E=>d.jsx(G,{value:E.value,children:d.jsxs("div",{className:"flex items-center gap-2",children:[E.icon,E.label]})},E.value))})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{htmlFor:"time",children:"Time (optional)"}),d.jsx(it,{id:"time",type:"time",value:s.time,onChange:E=>o({...s,time:E.target.value})})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(GE,{id:"unscheduled",checked:s.isUnscheduled,onCheckedChange:E=>o({...s,isUnscheduled:E})}),d.jsx(ze,{htmlFor:"unscheduled",className:"text-sm cursor-pointer",children:"Save as optional activity (not scheduled yet)"})]}),!s.isUnscheduled&&d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{htmlFor:"day",children:"Day"}),d.jsxs(Cr,{value:s.day,onValueChange:E=>o({...s,day:E}),children:[d.jsx(Er,{children:d.jsx(Nr,{})}),d.jsx(Tr,{children:r.map((E,T)=>d.jsx(G,{value:E,children:A(E,T)},E))})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs(ze,{htmlFor:"location",className:"flex items-center gap-2",children:[d.jsx(Qe,{className:"w-4 h-4"}),"Location",s.coordinates&&d.jsx("span",{className:"text-xs text-green-600 font-normal",children:" Will show on map"})]}),d.jsx(je,{type:"button",variant:"ghost",size:"sm",onClick:()=>c(!a),className:"text-xs h-7 text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:a?" Manual":" Search"})]}),a?d.jsx(ba,{value:s.location,onChange:E=>o({...s,location:E}),onPlaceSelected:S,placeholder:"e.g., Eiffel Tower, Starbucks Tokyo, Champ de Mars..."},"activity-location"):d.jsx(it,{id:"location",placeholder:"e.g., Buckingham Palace",value:s.location,onChange:E=>o({...s,location:E.target.value}),required:!0})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{htmlFor:"city",children:"City/Destination (optional)"}),d.jsx(it,{id:"city",placeholder:"e.g., Paris, Tokyo",value:s.city,onChange:E=>o({...s,city:E.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{htmlFor:"placeCategory",children:"Map Label (optional)"}),d.jsxs(Cr,{value:s.placeCategory,onValueChange:E=>o({...s,placeCategory:E}),children:[d.jsx(Er,{children:d.jsx(Nr,{})}),d.jsxs(Tr,{children:[d.jsx(G,{value:"restaurant",children:" Restaurant"}),d.jsx(G,{value:"cafe",children:" Cafe"}),d.jsx(G,{value:"fastfood",children:" Fast Food"}),d.jsx(G,{value:"bakery",children:" Bakery"}),d.jsx(G,{value:"bar",children:" Bar"}),d.jsx(G,{value:"hotel",children:" Hotel"}),d.jsx(G,{value:"attraction",children:" Attraction"}),d.jsx(G,{value:"museum",children:" Museum"}),d.jsx(G,{value:"gallery",children:" Art Gallery"}),d.jsx(G,{value:"park",children:" Park"}),d.jsx(G,{value:"beach",children:" Beach"}),d.jsx(G,{value:"entertainment",children:" Entertainment"}),d.jsx(G,{value:"venue",children:" Event Venue"}),d.jsx(G,{value:"shopping",children:" Shopping"}),d.jsx(G,{value:"transport",children:" Transport"}),d.jsx(G,{value:"school",children:" School"}),d.jsx(G,{value:"spa",children:" Spa"}),d.jsx(G,{value:"gym",children:" Gym"}),d.jsx(G,{value:"pharmacy",children:" Pharmacy"}),d.jsx(G,{value:"bank",children:" Bank"}),d.jsx(G,{value:"gas",children:" Gas"}),d.jsx(G,{value:"parking",children:" Parking"}),d.jsx(G,{value:"other",children:" Other"})]})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs(ze,{htmlFor:"address",children:["Address",s.address&&s.coordinates&&d.jsx("span",{className:"text-xs text-green-600 ml-2",children:" Auto-filled"})]}),a?d.jsx(it,{id:"address",placeholder:"Auto-filled from search",value:s.address,onChange:E=>o({...s,address:E.target.value}),className:s.address?"bg-green-50 border-green-300":""}):d.jsxs(d.Fragment,{children:[d.jsx(it,{id:"address",placeholder:"e.g., Westminster, London SW1A 1AA",value:s.address,onChange:E=>o({...s,address:E.target.value})}),d.jsx("div",{className:"p-3 bg-amber-50 border border-amber-200 rounded-lg",children:d.jsxs("p",{className:"text-xs text-amber-900",children:[" ",d.jsx("strong",{children:"Tip:"}),' Use search mode (click " Search" above) to automatically get GPS coordinates and show this activity on the trip map!']})})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{htmlFor:"description",children:"Description"}),d.jsx(xa,{id:"description",placeholder:"Add notes or details about this activity",value:s.description,onChange:E=>o({...s,description:E.target.value}),rows:3})]}),d.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(ze,{children:"Social Media Links (Optional)"}),d.jsxs(at,{variant:"outline",className:"text-xs",children:[u.length," added"]})]}),u.length>0&&d.jsx("div",{className:"space-y-2",children:u.map(E=>d.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded border",children:[d.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[E.platform==="instagram"&&d.jsx(ca,{className:"w-4 h-4 text-pink-500 flex-shrink-0"}),E.platform==="tiktok"&&d.jsx(Ll,{className:"w-4 h-4 flex-shrink-0"}),E.platform==="youtube"&&d.jsx(_l,{className:"w-4 h-4 text-red-500 flex-shrink-0"}),E.platform==="twitter"&&d.jsx(ua,{className:"w-4 h-4 text-blue-500 flex-shrink-0"}),E.platform==="other"&&d.jsx(No,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),d.jsx("span",{className:"text-sm truncate",children:E.url})]}),d.jsx(je,{type:"button",variant:"ghost",size:"sm",onClick:()=>N(E.id),children:d.jsx(nc,{className:"w-4 h-4"})})]},E.id))}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(Cr,{value:y,onValueChange:E=>v(E),children:[d.jsx(Er,{className:"w-[140px]",children:d.jsx(Nr,{})}),d.jsxs(Tr,{children:[d.jsx(G,{value:"instagram",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ca,{className:"w-4 h-4"}),"Instagram"]})}),d.jsx(G,{value:"tiktok",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Ll,{className:"w-4 h-4"}),"TikTok"]})}),d.jsx(G,{value:"youtube",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(_l,{className:"w-4 h-4"}),"YouTube"]})}),d.jsx(G,{value:"twitter",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ua,{className:"w-4 h-4"}),"Twitter/X"]})}),d.jsx(G,{value:"other",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(No,{className:"w-4 h-4"}),"Other"]})})]})]}),d.jsx(it,{placeholder:"Paste social media link...",value:p,onChange:E=>m(E.target.value),onKeyDown:E=>{E.key==="Enter"&&(E.preventDefault(),b())}}),d.jsx(je,{type:"button",variant:"outline",onClick:b,disabled:!p.trim(),children:d.jsx(vo,{className:"w-4 h-4"})})]}),d.jsx("p",{className:"text-xs text-gray-500",children:"Paste Instagram, TikTok, YouTube, or Twitter links to attach them to this activity"})]})]})]}),d.jsxs(Rs,{children:[d.jsx(je,{type:"button",variant:"outline",onClick:()=>e(!1),children:"Cancel"}),d.jsx(je,{type:"submit",className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",children:"Add Activity"})]})]})]})})}const f8=[{value:"flight",label:"Flight",icon:d.jsx(Cg,{className:"w-4 h-4"})},{value:"hotel",label:"Hotel",icon:d.jsx(ef,{className:"w-4 h-4"})},{value:"restaurant",label:"Restaurant",icon:d.jsx(fo,{className:"w-4 h-4"})},{value:"activity",label:"Activity",icon:d.jsx(Ur,{className:"w-4 h-4"})},{value:"transport",label:"Transport",icon:d.jsx(ta,{className:"w-4 h-4"})},{value:"other",label:"Other",icon:d.jsx(Zd,{className:"w-4 h-4"})}];function h8({open:t,onOpenChange:e,onUpdateActivity:n,activity:r,tripDays:s}){const[o,a]=C.useState({title:"",time:"",description:"",location:"",address:"",city:"",placeCategory:"other",coordinates:"",type:"activity",day:s[0]||"",isUnscheduled:!1}),[c,u]=C.useState(!1),[h,p]=C.useState([]),[m,y]=C.useState(""),[v,w]=C.useState("instagram");C.useEffect(()=>{t&&r&&(a({title:r.title,time:r.time,description:r.description,location:r.location,address:r.address||"",city:r.city||"",placeCategory:r.placeCategory||"other",coordinates:r.coordinates||"",type:r.type,day:r.day||s[0]||"",isUnscheduled:!r.day}),p(r.socialMedia||[]),u(!1))},[t,r,s]);const b=T=>T.includes("instagram.com")?"instagram":T.includes("tiktok.com")?"tiktok":T.includes("youtube.com")||T.includes("youtu.be")?"youtube":T.includes("twitter.com")||T.includes("x.com")?"twitter":"other",S=()=>{if(!m.trim())return;const T=b(m),R={id:Date.now().toString(),platform:T!=="other"?T:v,url:m.trim()};p([...h,R]),y(""),w("instagram")},N=T=>{p(h.filter(R=>R.id!==T))},j=T=>{const R=T.address.split(",").map(H=>H.trim());let D="";R.length>=3?D=R[R.length-3]:R.length===2&&(D=R[0]);let O="other";T.placeType&&(T.placeType.includes("bakery")?O="bakery":T.placeType.includes("meal_takeaway")||T.placeType.includes("fast_food")?O="fastfood":T.placeType.includes("cafe")?O="cafe":T.placeType.includes("bar")||T.placeType.includes("night_club")?O="bar":T.placeType.includes("restaurant")?O="restaurant":T.placeType.includes("art_gallery")?O="gallery":T.placeType.includes("museum")?O="museum":T.placeType.includes("stadium")||T.placeType.includes("event_venue")?O="venue":T.placeType.includes("movie_theater")||T.placeType.includes("bowling_alley")||T.placeType.includes("amusement_park")?O="entertainment":T.placeType.includes("beach")?O="beach":T.placeType.includes("park")?O="park":T.placeType.includes("tourist_attraction")?O="attraction":T.placeType.includes("lodging")?O="hotel":T.placeType.includes("shopping_mall")||T.placeType.includes("store")?O="shopping":T.placeType.includes("transit_station")||T.placeType.includes("airport")?O="transport":T.placeType.includes("school")||T.placeType.includes("university")?O="school":T.placeType.includes("spa")||T.placeType.includes("beauty_salon")?O="spa":T.placeType.includes("gym")?O="gym":T.placeType.includes("pharmacy")?O="pharmacy":T.placeType.includes("bank")||T.placeType.includes("atm")?O="bank":T.placeType.includes("gas_station")?O="gas":T.placeType.includes("parking")&&(O="parking")),requestAnimationFrame(()=>{a({...o,location:T.name,address:T.address,city:D,placeCategory:O,coordinates:T.coordinates}),wn.success(" Location updated!",{description:`${T.name} will appear on the map`})})},A=T=>{if(T.preventDefault(),!r)return;const{isUnscheduled:R,...D}=o,O={...D,location:o.location,address:o.address||void 0,city:o.city||void 0,placeCategory:o.placeCategory||void 0,day:R?void 0:D.day,coordinates:o.coordinates||void 0,socialMedia:h.length>0?h:void 0};n(r.id,O),e(!1),wn.success("Activity updated successfully!")},E=(T,R)=>{const D=new Date(T);return`Day ${R+1} - ${D.toLocaleDateString("en-US",{month:"short",day:"numeric"})}`};return r?d.jsx(es,{open:t,onOpenChange:e,children:d.jsxs(ts,{className:"w-[95vw] max-w-[500px] max-h-[90vh] overflow-y-auto",onInteractOutside:T=>{T.target.closest(".pac-container")&&T.preventDefault()},children:[d.jsx(ns,{children:d.jsxs("div",{className:"flex items-start justify-between gap-4",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx(rs,{children:"Edit Activity"}),d.jsx(Ro,{children:"Update the details of your activity"})]}),o.coordinates&&d.jsxs(at,{className:"bg-green-100 text-green-700 border-green-300 hover:bg-green-100 flex items-center gap-1",children:[d.jsx(Qe,{className:"w-3 h-3"}),"On Map"]})]})}),d.jsxs("form",{onSubmit:A,children:[d.jsxs("div",{className:"space-y-4 py-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{htmlFor:"title",children:"Activity Title"}),d.jsx(it,{id:"title",placeholder:"e.g., Visit Eiffel Tower",value:o.title,onChange:T=>a({...o,title:T.target.value}),required:!0})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{htmlFor:"type",children:"Type"}),d.jsxs(Cr,{value:o.type,onValueChange:T=>a({...o,type:T}),children:[d.jsx(Er,{children:d.jsx(Nr,{})}),d.jsx(Tr,{children:f8.map(T=>d.jsx(G,{value:T.value,children:d.jsxs("div",{className:"flex items-center gap-2",children:[T.icon,T.label]})},T.value))})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{htmlFor:"time",children:"Time (optional)"}),d.jsx(it,{id:"time",type:"time",value:o.time,onChange:T=>a({...o,time:T.target.value})})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(GE,{id:"unscheduled",checked:o.isUnscheduled,onCheckedChange:T=>a({...o,isUnscheduled:T})}),d.jsx(ze,{htmlFor:"unscheduled",className:"text-sm cursor-pointer",children:"Save as optional activity (not scheduled yet)"})]}),!o.isUnscheduled&&d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{htmlFor:"day",children:"Day"}),d.jsxs(Cr,{value:o.day,onValueChange:T=>a({...o,day:T}),children:[d.jsx(Er,{children:d.jsx(Nr,{})}),d.jsx(Tr,{children:s.map((T,R)=>d.jsx(G,{value:T,children:E(T,R)},T))})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs(ze,{htmlFor:"location",className:"flex items-center gap-2",children:[d.jsx(Qe,{className:"w-4 h-4"}),"Location",o.coordinates&&d.jsx("span",{className:"text-xs text-green-600 font-normal",children:" Will show on map"})]}),d.jsx(je,{type:"button",variant:"ghost",size:"sm",onClick:()=>u(!c),className:"text-xs h-7 text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:c?" Manual":" Search"})]}),c?d.jsx(ba,{value:o.location,onChange:T=>a({...o,location:T}),onPlaceSelected:j,placeholder:"e.g., Eiffel Tower, Starbucks Tokyo, Champ de Mars..."},`edit-location-${r?.id}`):d.jsx(it,{id:"location",placeholder:"e.g., Buckingham Palace",value:o.location,onChange:T=>a({...o,location:T.target.value}),required:!0})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{htmlFor:"city",children:"City/Destination (optional)"}),d.jsx(it,{id:"city",placeholder:"e.g., Paris, Tokyo",value:o.city,onChange:T=>a({...o,city:T.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{htmlFor:"placeCategory",children:"Map Label (optional)"}),d.jsxs(Cr,{value:o.placeCategory,onValueChange:T=>a({...o,placeCategory:T}),children:[d.jsx(Er,{children:d.jsx(Nr,{})}),d.jsxs(Tr,{children:[d.jsx(G,{value:"restaurant",children:" Restaurant"}),d.jsx(G,{value:"cafe",children:" Cafe"}),d.jsx(G,{value:"fastfood",children:" Fast Food"}),d.jsx(G,{value:"bakery",children:" Bakery"}),d.jsx(G,{value:"bar",children:" Bar"}),d.jsx(G,{value:"hotel",children:" Hotel"}),d.jsx(G,{value:"attraction",children:" Attraction"}),d.jsx(G,{value:"museum",children:" Museum"}),d.jsx(G,{value:"gallery",children:" Art Gallery"}),d.jsx(G,{value:"park",children:" Park"}),d.jsx(G,{value:"beach",children:" Beach"}),d.jsx(G,{value:"entertainment",children:" Entertainment"}),d.jsx(G,{value:"venue",children:" Event Venue"}),d.jsx(G,{value:"shopping",children:" Shopping"}),d.jsx(G,{value:"transport",children:" Transport"}),d.jsx(G,{value:"school",children:" School"}),d.jsx(G,{value:"spa",children:" Spa"}),d.jsx(G,{value:"gym",children:" Gym"}),d.jsx(G,{value:"pharmacy",children:" Pharmacy"}),d.jsx(G,{value:"bank",children:" Bank"}),d.jsx(G,{value:"gas",children:" Gas"}),d.jsx(G,{value:"parking",children:" Parking"}),d.jsx(G,{value:"other",children:" Other"})]})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{htmlFor:"address",children:"Address (optional)"}),d.jsx(it,{id:"address",placeholder:"e.g., Westminster, London SW1A 1AA",value:o.address,onChange:T=>a({...o,address:T.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{htmlFor:"description",children:"Description"}),d.jsx(xa,{id:"description",placeholder:"Add notes or details about this activity",value:o.description,onChange:T=>a({...o,description:T.target.value}),rows:3})]}),d.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(ze,{children:"Social Media Links (Optional)"}),d.jsxs(at,{variant:"outline",className:"text-xs",children:[h.length," added"]})]}),h.length>0&&d.jsx("div",{className:"space-y-2",children:h.map(T=>d.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded border",children:[d.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[T.platform==="instagram"&&d.jsx(ca,{className:"w-4 h-4 text-pink-500 flex-shrink-0"}),T.platform==="tiktok"&&d.jsx(Ll,{className:"w-4 h-4 flex-shrink-0"}),T.platform==="youtube"&&d.jsx(_l,{className:"w-4 h-4 text-red-500 flex-shrink-0"}),T.platform==="twitter"&&d.jsx(ua,{className:"w-4 h-4 text-blue-500 flex-shrink-0"}),T.platform==="other"&&d.jsx(No,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),d.jsx("span",{className:"text-sm truncate",children:T.url})]}),d.jsx(je,{type:"button",variant:"ghost",size:"sm",onClick:()=>N(T.id),children:d.jsx(nc,{className:"w-4 h-4"})})]},T.id))}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(Cr,{value:v,onValueChange:T=>w(T),children:[d.jsx(Er,{className:"w-[140px]",children:d.jsx(Nr,{})}),d.jsxs(Tr,{children:[d.jsx(G,{value:"instagram",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ca,{className:"w-4 h-4"}),"Instagram"]})}),d.jsx(G,{value:"tiktok",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Ll,{className:"w-4 h-4"}),"TikTok"]})}),d.jsx(G,{value:"youtube",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(_l,{className:"w-4 h-4"}),"YouTube"]})}),d.jsx(G,{value:"twitter",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ua,{className:"w-4 h-4"}),"Twitter/X"]})}),d.jsx(G,{value:"other",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(No,{className:"w-4 h-4"}),"Other"]})})]})]}),d.jsx(it,{placeholder:"Paste social media link...",value:m,onChange:T=>y(T.target.value),onKeyDown:T=>{T.key==="Enter"&&(T.preventDefault(),S())}}),d.jsx(je,{type:"button",variant:"outline",onClick:S,disabled:!m.trim(),children:d.jsx(vo,{className:"w-4 h-4"})})]}),d.jsx("p",{className:"text-xs text-gray-500",children:"Paste Instagram, TikTok, YouTube, or Twitter links to attach them to this activity"})]})]})]}),d.jsxs(Rs,{children:[d.jsx(je,{type:"button",variant:"outline",onClick:()=>e(!1),children:"Cancel"}),d.jsx(je,{type:"submit",className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",children:"Save Changes"})]})]})]})}):null}const p8="AIzaSyAuzCLElzpyp40RAzWLi0cUDdjKSlt7Jt0";async function Xd(t){try{const n=await(await fetch(`https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(t)}&key=${p8}`)).json();if(n.status==="OK"&&n.results.length>0){const r=n.results[0];return{lat:r.geometry.location.lat,lng:r.geometry.location.lng,formattedAddress:r.formatted_address}}return null}catch(e){return console.error("Geocoding error:",e),null}}function m8({open:t,onOpenChange:e,onAdd:n}){const[r,s]=C.useState(""),[o,a]=C.useState(""),[c,u]=C.useState("attraction"),[h,p]=C.useState(""),[m,y]=C.useState(""),[v,w]=C.useState(!1),[b,S]=C.useState(!0);C.useEffect(()=>{t||(s(""),a(""),u("attraction"),p(""),y(""),S(!0))},[t]);const N=E=>{console.log(" Place selected in dialog:",E),requestAnimationFrame(()=>{s(E.name),a(E.address),y(E.coordinates);let T="other";E.placeType&&(E.placeType.includes("bakery")?T="bakery":E.placeType.includes("meal_takeaway")||E.placeType.includes("fast_food")?T="fastfood":E.placeType.includes("cafe")?T="cafe":E.placeType.includes("bar")||E.placeType.includes("night_club")?T="bar":E.placeType.includes("restaurant")?T="restaurant":E.placeType.includes("art_gallery")?T="gallery":E.placeType.includes("museum")?T="museum":E.placeType.includes("stadium")||E.placeType.includes("event_venue")?T="venue":E.placeType.includes("movie_theater")||E.placeType.includes("bowling_alley")||E.placeType.includes("amusement_park")?T="entertainment":E.placeType.includes("beach")?T="beach":E.placeType.includes("park")?T="park":E.placeType.includes("tourist_attraction")?T="attraction":E.placeType.includes("lodging")?T="hotel":E.placeType.includes("shopping_mall")||E.placeType.includes("store")?T="shopping":E.placeType.includes("transit_station")||E.placeType.includes("airport")?T="transport":E.placeType.includes("school")||E.placeType.includes("university")?T="school":E.placeType.includes("spa")||E.placeType.includes("beauty_salon")?T="spa":E.placeType.includes("gym")?T="gym":E.placeType.includes("pharmacy")?T="pharmacy":E.placeType.includes("bank")||E.placeType.includes("atm")?T="bank":E.placeType.includes("gas_station")?T="gas":E.placeType.includes("parking")&&(T="parking")),u(T),console.log(" Category auto-set to:",T),wn.success(" Place details auto-filled!",{description:`${E.name} - All details ready to save`})})},j=async()=>{if(o.trim()){w(!0);try{const E=await Xd(o.trim());E&&(y(`${E.lat},${E.lng}`),a(E.formattedAddress))}catch(E){console.error("Geocoding failed:",E)}finally{w(!1)}}},A=async E=>{if(E.preventDefault(),r.trim()&&o.trim()){let T=m.trim();if(!T&&o.trim()){w(!0);const R=await Xd(o.trim());R&&(T=`${R.lat},${R.lng}`),w(!1)}n({name:r.trim(),address:o.trim(),category:c,notes:h.trim()||void 0,coordinates:T||void 0}),s(""),a(""),u("attraction"),p(""),y(""),S(!0),e(!1)}};return d.jsx(es,{open:t,onOpenChange:e,children:d.jsxs(ts,{className:"w-[95vw] max-w-[500px] max-h-[90vh] overflow-y-auto",onInteractOutside:E=>{E.target.closest(".pac-container")&&E.preventDefault()},children:[d.jsxs(ns,{children:[d.jsxs(rs,{className:"flex items-center gap-2",children:[d.jsx(Qe,{className:"w-5 h-5"}),"Add Place"]}),d.jsx(Ro,{children:"Search for a place using smart search or enter details manually."})]}),d.jsxs("form",{onSubmit:A,children:[d.jsxs("div",{className:"space-y-4 py-4",children:[d.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Qe,{className:"w-4 h-4 text-blue-600"}),d.jsx("span",{className:"text-sm text-blue-900",children:b?" Smart Search Enabled":" Manual Entry Mode"})]}),d.jsxs(je,{type:"button",variant:"ghost",size:"sm",onClick:()=>S(!b),className:"text-blue-600 hover:text-blue-700 hover:bg-blue-100 text-xs h-7",children:["Switch to ",b?"Manual":"Search"]})]}),b?d.jsx(d.Fragment,{children:d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{htmlFor:"search",children:"Search for Place *"}),d.jsx(ba,{value:r,onChange:s,onPlaceSelected:N,placeholder:"e.g., BOOKOFF Yao Nagahata, Starbucks Tokyo, Eiffel Tower..."},"add-place"),!r&&d.jsxs("div",{className:"p-3 bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-lg",children:[d.jsx("p",{className:"text-xs text-green-900 mb-1",children:d.jsx("strong",{children:" Enhanced Search will auto-fill:"})}),d.jsxs("ul",{className:"text-xs text-green-800 ml-4 space-y-0.5",children:[d.jsx("li",{children:" Place name (official business name)"}),d.jsx("li",{children:" Full address with postal code"}),d.jsx("li",{children:" Exact GPS coordinates for maps"}),d.jsx("li",{children:" Suggested category (restaurant, hotel, etc.)"})]}),d.jsxs("p",{className:"text-xs text-green-900 mt-2",children:[d.jsx("strong",{children:" Tip:"})," If dropdown doesn't show what you want, type the full name and press Enter to perform a direct search."]})]})]})}):d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{htmlFor:"name",children:"Place Name *"}),d.jsx(it,{id:"name",placeholder:"e.g., Eiffel Tower, Cafe de Flore...",value:r,onChange:E=>s(E.target.value),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs(ze,{htmlFor:"address",className:"flex items-center gap-2",children:["Address *",o&&m&&d.jsx("span",{className:"text-xs text-green-600",children:" Auto-filled"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(it,{id:"address",placeholder:"Street address or general location",value:o,onChange:E=>a(E.target.value),required:!0,className:"flex-1"}),!b&&d.jsx(je,{type:"button",variant:"outline",onClick:j,disabled:!o.trim()||v,children:v?d.jsx(Xu,{className:"w-4 h-4 animate-spin"}):d.jsx(Qe,{className:"w-4 h-4"})})]}),!b&&d.jsx("p",{className:"text-xs text-gray-500",children:"Click the pin button to find coordinates automatically"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs(ze,{htmlFor:"category",className:"flex items-center gap-2",children:["Category",b&&d.jsx("span",{className:"text-xs text-gray-500",children:"(auto-suggested)"})]}),d.jsxs(Cr,{value:c,onValueChange:E=>u(E),children:[d.jsx(Er,{id:"category",children:d.jsx(Nr,{})}),d.jsxs(Tr,{children:[d.jsx(G,{value:"restaurant",children:" Restaurant"}),d.jsx(G,{value:"cafe",children:" Cafe"}),d.jsx(G,{value:"fastfood",children:" Fast Food"}),d.jsx(G,{value:"bakery",children:" Bakery"}),d.jsx(G,{value:"bar",children:" Bar/Nightlife"}),d.jsx(G,{value:"hotel",children:" Hotel"}),d.jsx(G,{value:"attraction",children:" Attraction"}),d.jsx(G,{value:"museum",children:" Museum"}),d.jsx(G,{value:"gallery",children:" Art Gallery"}),d.jsx(G,{value:"park",children:" Park/Nature"}),d.jsx(G,{value:"beach",children:" Beach"}),d.jsx(G,{value:"entertainment",children:" Entertainment"}),d.jsx(G,{value:"venue",children:" Event Venue"}),d.jsx(G,{value:"shopping",children:" Shopping"}),d.jsx(G,{value:"transport",children:" Transport"}),d.jsx(G,{value:"school",children:" School"}),d.jsx(G,{value:"spa",children:" Spa/Wellness"}),d.jsx(G,{value:"gym",children:" Gym/Fitness"}),d.jsx(G,{value:"pharmacy",children:" Pharmacy"}),d.jsx(G,{value:"bank",children:" Bank/ATM"}),d.jsx(G,{value:"gas",children:" Gas Station"}),d.jsx(G,{value:"parking",children:" Parking"}),d.jsx(G,{value:"other",children:" Other"})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs(ze,{htmlFor:"coordinates",className:"flex items-center gap-2",children:["Coordinates",m&&d.jsx("span",{className:"text-xs text-green-600",children:" Set"})]}),d.jsx(it,{id:"coordinates",placeholder:"Auto-filled from search or address",value:m,onChange:E=>y(E.target.value),readOnly:v,className:m?"bg-green-50 border-green-300":""}),m?d.jsx("p",{className:"text-xs text-green-600",children:" Coordinates set - place will appear on the map"}):d.jsx("p",{className:"text-xs text-gray-500",children:"Auto-filled when you search or add an address"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{htmlFor:"notes",children:"Notes (optional)"}),d.jsx(xa,{id:"notes",placeholder:"Add any additional notes about this place...",value:h,onChange:E=>p(E.target.value),rows:3})]})]}),d.jsxs(Rs,{children:[d.jsx(je,{type:"button",variant:"outline",onClick:()=>e(!1),children:"Cancel"}),d.jsx(je,{type:"submit",disabled:!r.trim()||!o.trim()||v,children:v?d.jsxs(d.Fragment,{children:[d.jsx(Xu,{className:"w-4 h-4 mr-2 animate-spin"}),"Finding location..."]}):"Add Place"})]})]})]})})}function g8({open:t,onOpenChange:e,onUpdate:n,place:r}){const[s,o]=C.useState({name:"",address:"",category:"other",notes:"",coordinates:""}),[a,c]=C.useState(!1);C.useEffect(()=>{t&&r&&(o({name:r.name,address:r.address,category:r.category,notes:r.notes||"",coordinates:r.coordinates||""}),c(!1))},[t,r]);const u=p=>{requestAnimationFrame(()=>{o({...s,name:p.name,address:p.address,coordinates:p.coordinates}),wn.success(" Location updated!")})},h=p=>{p.preventDefault(),r&&(n(r.id,{name:s.name,address:s.address,category:s.category,notes:s.notes||void 0,coordinates:s.coordinates||void 0}),e(!1),wn.success("Place updated successfully!"))};return r?d.jsx(es,{open:t,onOpenChange:e,children:d.jsxs(ts,{className:"w-[95vw] max-w-[500px] max-h-[90vh] overflow-y-auto",onInteractOutside:p=>{p.target.closest(".pac-container")&&p.preventDefault()},children:[d.jsx(ns,{children:d.jsxs("div",{className:"flex items-start justify-between gap-4",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx(rs,{children:"Edit Place"}),d.jsx(Ro,{children:"Update the details of this place"})]}),s.coordinates&&d.jsxs(at,{className:"bg-green-100 text-green-700 border-green-300 hover:bg-green-100 flex items-center gap-1",children:[d.jsx(Qe,{className:"w-3 h-3"}),"On Map"]})]})}),d.jsxs("form",{onSubmit:h,children:[d.jsxs("div",{className:"space-y-4 py-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx(ze,{htmlFor:"name",children:"Place Name"}),d.jsx(je,{type:"button",variant:"ghost",size:"sm",onClick:()=>c(!a),className:"text-xs h-7 text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:a?" Manual":" Search"})]}),a?d.jsx(ba,{value:s.name,onChange:p=>o({...s,name:p}),onPlaceSelected:u,placeholder:"Search for a place..."},`edit-place-${r?.id}`):d.jsx(it,{id:"name",placeholder:"e.g., Eiffel Tower",value:s.name,onChange:p=>o({...s,name:p.target.value}),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{htmlFor:"address",children:"Address"}),d.jsx(it,{id:"address",placeholder:"e.g., Champ de Mars, Paris",value:s.address,onChange:p=>o({...s,address:p.target.value}),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{htmlFor:"category",children:"Category"}),d.jsxs(Cr,{value:s.category,onValueChange:p=>o({...s,category:p}),children:[d.jsx(Er,{children:d.jsx(Nr,{})}),d.jsxs(Tr,{children:[d.jsx(G,{value:"restaurant",children:" Restaurant"}),d.jsx(G,{value:"cafe",children:" Cafe"}),d.jsx(G,{value:"fastfood",children:" Fast Food"}),d.jsx(G,{value:"bakery",children:" Bakery"}),d.jsx(G,{value:"bar",children:" Bar/Nightlife"}),d.jsx(G,{value:"hotel",children:" Hotel"}),d.jsx(G,{value:"attraction",children:" Attraction"}),d.jsx(G,{value:"museum",children:" Museum"}),d.jsx(G,{value:"gallery",children:" Art Gallery"}),d.jsx(G,{value:"park",children:" Park/Nature"}),d.jsx(G,{value:"beach",children:" Beach"}),d.jsx(G,{value:"entertainment",children:" Entertainment"}),d.jsx(G,{value:"venue",children:" Event Venue"}),d.jsx(G,{value:"shopping",children:" Shopping"}),d.jsx(G,{value:"transport",children:" Transport"}),d.jsx(G,{value:"school",children:" School"}),d.jsx(G,{value:"spa",children:" Spa/Wellness"}),d.jsx(G,{value:"gym",children:" Gym/Fitness"}),d.jsx(G,{value:"pharmacy",children:" Pharmacy"}),d.jsx(G,{value:"bank",children:" Bank/ATM"}),d.jsx(G,{value:"gas",children:" Gas Station"}),d.jsx(G,{value:"parking",children:" Parking"}),d.jsx(G,{value:"other",children:" Other"})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{htmlFor:"notes",children:"Notes (Optional)"}),d.jsx(xa,{id:"notes",placeholder:"Add any notes about this place...",value:s.notes,onChange:p=>o({...s,notes:p.target.value}),rows:3})]})]}),d.jsxs(Rs,{children:[d.jsx(je,{type:"button",variant:"outline",onClick:()=>e(!1),children:"Cancel"}),d.jsx(je,{type:"submit",className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",children:"Save Changes"})]})]})]})}):null}const y8=bg("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function fl({className:t,variant:e,...n}){return d.jsx("div",{"data-slot":"alert",role:"alert",className:Ke(y8({variant:e}),t),...n})}function hl({className:t,...e}){return d.jsx("div",{"data-slot":"alert-description",className:Ke("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...e})}var Xy="Progress",Qy=100,[v8]=Dr(Xy),[x8,b8]=v8(Xy),U2=C.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:o=w8,...a}=t;(s||s===0)&&!dw(s)&&console.error(k8(`${s}`,"Progress"));const c=dw(s)?s:Qy;r!==null&&!fw(r,c)&&console.error(S8(`${r}`,"Progress"));const u=fw(r,c)?r:null,h=Qd(u)?o(u,c):void 0;return d.jsx(x8,{scope:n,value:u,max:c,children:d.jsx(Fe.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":Qd(u)?u:void 0,"aria-valuetext":h,role:"progressbar","data-state":q2(u,c),"data-value":u??void 0,"data-max":c,...a,ref:e})})});U2.displayName=Xy;var W2="ProgressIndicator",K2=C.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=b8(W2,n);return d.jsx(Fe.div,{"data-state":q2(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});K2.displayName=W2;function w8(t,e){return`${Math.round(t/e*100)}%`}function q2(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Qd(t){return typeof t=="number"}function dw(t){return Qd(t)&&!isNaN(t)&&t>0}function fw(t,e){return Qd(t)&&!isNaN(t)&&t<=e&&t>=0}function k8(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Qy}\`.`}function S8(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Qy} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var C8=U2,N8=K2;function E8({className:t,value:e,...n}){return d.jsx(C8,{"data-slot":"progress",className:Ke("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t),...n,children:d.jsx(N8,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})})}function T8(t){const e=t.match(/\/place\/([^\/\?]+)/);if(e&&e[1])return decodeURIComponent(e[1].replace(/\+/g," "));const n=t.match(/[?&]q=([^&]+)/);return n&&n[1]?decodeURIComponent(n[1].replace(/\+/g," ")):null}function M8(t){const e=t.match(/@(-?\d+\.\d+),(-?\d+\.\d+)/);if(e&&e[1]&&e[2])return`${e[1]},${e[2]}`;const n=t.match(/[?&]ll=(-?\d+\.\d+),(-?\d+\.\d+)/);return n&&n[1]&&n[2]?`${n[1]},${n[2]}`:null}function hw(t){const e=t.toLowerCase(),n=["restaurant","cafe","coffee","bar","bistro","grill","kitchen","pizza","burger","sushi","diner"],r=["hotel","inn","resort","hostel","lodge","motel"],s=["shop","store","market","mall","boutique","outlet"],o=["station","airport","terminal","metro","subway","bus","train"],a=["museum","park","tower","cathedral","church","temple","palace","castle","gallery","monument","memorial","square","garden"];return n.some(c=>e.includes(c))?"restaurant":r.some(c=>e.includes(c))?"hotel":s.some(c=>e.includes(c))?"shopping":o.some(c=>e.includes(c))?"transport":a.some(c=>e.includes(c))?"attraction":"other"}async function j8(t){const e=[],n=T8(t);if(!n)return e;let r=M8(t);if(!r)try{const s=await Xd(n);s&&(r=`${s.lat},${s.lng}`)}catch(s){console.error("Geocoding failed:",s)}return e.push({name:n,address:n,coordinates:r,types:[]}),e}function A8(t){const e=t.trim().split(`
`);if(e.length<2)throw new Error("CSV file must contain at least a header row and one data row");const n=e[0].split(",").map(u=>u.trim().toLowerCase()),r=n.findIndex(u=>u==="name"||u==="place name"||u==="place"),s=n.findIndex(u=>u==="address"||u==="location"),o=n.findIndex(u=>u==="category"||u==="type"),a=n.findIndex(u=>u==="notes"||u==="description");if(r===-1)throw new Error('CSV must contain a "name" or "place name" column');if(s===-1)throw new Error('CSV must contain an "address" or "location" column');const c=[];for(let u=1;u<e.length;u++){const h=e[u].trim();if(!h)continue;const p=D8(h);if(p.length>r&&p.length>s){const m=p[r].trim(),y=p[s].trim();m&&y&&c.push({name:m,address:y,category:o!==-1?p[o]?.trim():void 0,notes:a!==-1?p[a]?.trim():void 0})}}if(c.length===0)throw new Error("No valid places found in CSV file");return c}function D8(t){const e=[];let n="",r=!1;for(let s=0;s<t.length;s++){const o=t[s];o==='"'?r=!r:o===","&&!r?(e.push(n),n=""):n+=o}return e.push(n),e}async function R8(t){const e=[];for(const n of t){try{const r=await Xd(n.address);r?e.push({...n,coordinates:`${r.lat},${r.lng}`,address:r.formattedAddress||n.address}):e.push({...n,error:"Could not geocode address"})}catch(r){console.error(`Error geocoding ${n.name}:`,r),e.push({...n,error:"Geocoding failed"})}await new Promise(r=>setTimeout(r,200))}return e}function O8(t){const e=t.trim().split(`
`);if(e.length<1)return{valid:!1,error:"CSV file is empty"};const n=e[0].split(",").map(o=>o.trim().toLowerCase()),r=n.some(o=>o==="name"||o==="place name"||o==="place"),s=n.some(o=>o==="address"||o==="location");return r?s?{valid:!0}:{valid:!1,error:'CSV must have an "address" column'}:{valid:!1,error:'CSV must have a "name" column'}}function I8(){return`name,address,category,notes
Eiffel Tower,"Champ de Mars, 5 Av. Anatole France, 75007 Paris, France",attraction,Iconic iron tower
Le Jules Verne,"Eiffel Tower, Av. Gustave Eiffel, 75007 Paris, France",restaurant,Michelin-starred restaurant
Louvre Museum,"Rue de Rivoli, 75001 Paris, France",attraction,World's largest art museum
Hotel Ritz Paris,"15 Pl. Vendme, 75001 Paris, France",hotel,Luxury 5-star hotel`}function P8({open:t,onOpenChange:e,onImport:n}){const[r,s]=C.useState("csv"),[o,a]=C.useState(""),[c,u]=C.useState(!1),[h,p]=C.useState(null),[m,y]=C.useState(!1),[v,w]=C.useState(0),[b,S]=C.useState([]),N=C.useRef(null),[j,A]=C.useState(""),[E,T]=C.useState(!1),[R,D]=C.useState(0),O=async()=>{if(!o.trim()){A("Please enter a Google Maps URL");return}u(!0),A(""),T(!1);try{const re=await j8(o.trim());if(re.length===0){A("Could not extract places from this URL. Try copying an individual place link."),u(!1);return}const U=re.map(q=>({name:q.name,address:q.address,coordinates:q.coordinates,category:q.types?hw(q.name):"other",notes:void 0}));n(U),D(U.length),T(!0),setTimeout(()=>{de(),e(!1)},2e3)}catch(re){A("Failed to import places. Please check the URL and try again."),console.error("Import error:",re)}finally{u(!1)}},H=re=>{const U=re.target.files?.[0];if(U){if(!U.name.endsWith(".csv")){A("Please select a CSV file");return}p(U),A(""),S([])}},Q=async()=>{if(!h){A("Please select a CSV file");return}y(!0),A(""),T(!1),w(0);try{const re=await h.text(),U=O8(re);if(!U.valid){A(U.error||"Invalid CSV format"),y(!1);return}const q=A8(re);w(25);const z=await R8(q);w(75);const X=z.filter(K=>K.coordinates),Y=z.filter(K=>K.error);if(X.length===0){A("Could not geocode any addresses. Please check your CSV file."),y(!1);return}S(z);const L=["restaurant","hotel","attraction","shopping","transport","other"],V=X.map(K=>{let ee;return K.category&&L.includes(K.category.toLowerCase())?ee=K.category.toLowerCase():ee=hw(K.name),{name:K.name,address:K.address,coordinates:K.coordinates,category:ee,notes:K.notes}});n(V),D(X.length),w(100),T(!0),Y.length>0&&A(`Successfully imported ${X.length} places. ${Y.length} failed to geocode.`),setTimeout(()=>{de(),e(!1)},3e3)}catch(re){A(re.message||"Failed to import CSV. Please check the file format."),console.error("CSV import error:",re)}finally{y(!1)}},ce=()=>{const re=I8(),U=new Blob([re],{type:"text/csv"}),q=URL.createObjectURL(U),z=document.createElement("a");z.href=q,z.download="places-example.csv",z.click(),URL.revokeObjectURL(q)},de=()=>{a(""),p(null),A(""),T(!1),D(0),S([]),w(0),N.current&&(N.current.value="")},le=()=>{de(),e(!1)},ue=c||m;return d.jsx(es,{open:t,onOpenChange:le,children:d.jsxs(ts,{className:"w-[95vw] max-w-[650px] max-h-[90vh] overflow-y-auto",children:[d.jsxs(ns,{children:[d.jsxs(rs,{className:"flex items-center gap-2",children:[d.jsx(Ju,{className:"w-5 h-5"}),"Import Places"]}),d.jsx(Ro,{children:"Import places from a CSV file or Google Maps URL"})]}),d.jsxs(zg,{value:r,onValueChange:re=>s(re),className:"w-full",children:[d.jsxs($g,{className:"grid w-full grid-cols-2",children:[d.jsxs(ri,{value:"csv",className:"flex items-center gap-2",children:[d.jsx(Sg,{className:"w-4 h-4"}),"CSV Upload"]}),d.jsxs(ri,{value:"url",className:"flex items-center gap-2",children:[d.jsx(No,{className:"w-4 h-4"}),"Maps URL"]})]}),d.jsxs(si,{value:"csv",className:"space-y-4 mt-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{htmlFor:"csv-file",children:"Upload CSV File"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(it,{id:"csv-file",type:"file",accept:".csv",ref:N,onChange:H,disabled:ue,className:"cursor-pointer"}),d.jsxs(je,{variant:"outline",size:"sm",onClick:ce,disabled:ue,className:"whitespace-nowrap",children:[d.jsx(Ju,{className:"w-4 h-4 mr-2"}),"Example"]})]}),h&&d.jsxs("p",{className:"text-sm text-gray-600",children:["Selected: ",h.name]})]}),d.jsxs(fl,{children:[d.jsx(ml,{className:"h-4 w-4"}),d.jsxs(hl,{className:"text-sm",children:[d.jsx("p",{className:"mb-2",children:"CSV file format:"}),d.jsxs("ul",{className:"list-disc ml-4 space-y-1 text-xs",children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Required columns:"})," name, address"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Optional columns:"})," category, notes"]}),d.jsx("li",{children:"Category values: restaurant, hotel, attraction, shopping, transport, other"}),d.jsx("li",{children:"First row must be column headers"}),d.jsx("li",{children:'Click "Example" to download a sample CSV file'})]})]})]}),m&&d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-between text-sm",children:[d.jsx("span",{className:"text-gray-600",children:"Importing places..."}),d.jsxs("span",{className:"text-gray-600",children:[v,"%"]})]}),d.jsx(E8,{value:v})]}),b.length>0&&d.jsxs("div",{className:"border rounded-lg p-3 bg-gray-50 max-h-48 overflow-y-auto",children:[d.jsx("p",{className:"text-sm mb-2",children:"Import results:"}),d.jsx("ul",{className:"space-y-1",children:b.map((re,U)=>d.jsxs("li",{className:"text-xs flex items-start gap-2",children:[re.coordinates?d.jsx(Cp,{className:"w-3 h-3 text-green-600 mt-0.5 flex-shrink-0"}):d.jsx(ml,{className:"w-3 h-3 text-red-600 mt-0.5 flex-shrink-0"}),d.jsxs("span",{className:re.coordinates?"text-gray-700":"text-red-600",children:[re.name," - ",re.error||"Success"]})]},U))})]})]}),d.jsxs(si,{value:"url",className:"space-y-4 mt-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{htmlFor:"maps-url",children:"Google Maps URL"}),d.jsx(it,{id:"maps-url",placeholder:"https://www.google.com/maps/place/...",value:o,onChange:re=>{a(re.target.value),A("")},disabled:ue})]}),d.jsxs(fl,{children:[d.jsx(ml,{className:"h-4 w-4"}),d.jsxs(hl,{className:"text-sm",children:[d.jsx("p",{className:"mb-2",children:"How to import from Google Maps:"}),d.jsxs("ol",{className:"list-decimal ml-4 space-y-1 text-xs",children:[d.jsx("li",{children:"Find a place on Google Maps"}),d.jsx("li",{children:"Click on the place to open its details"}),d.jsx("li",{children:"Copy the URL from your browser address bar"}),d.jsx("li",{children:'Paste it here and click "Import"'}),d.jsx("li",{children:"Repeat for additional places"})]})]})]}),d.jsx(fl,{className:"bg-blue-50 border-blue-200",children:d.jsxs(hl,{className:"text-sm text-blue-900",children:[d.jsx("p",{className:"mb-1",children:d.jsx("strong",{children:" For bulk imports, use CSV upload!"})}),d.jsx("p",{className:"text-xs",children:"Create a spreadsheet with your places, export as CSV, and import all at once."})]})})]})]}),j&&!E&&d.jsxs(fl,{variant:"destructive",children:[d.jsx(ml,{className:"h-4 w-4"}),d.jsx(hl,{children:j})]}),E&&d.jsxs(fl,{className:"bg-green-50 border-green-200",children:[d.jsx(Cp,{className:"h-4 w-4 text-green-600"}),d.jsxs(hl,{className:"text-green-800",children:["Successfully imported ",R," place",R!==1?"s":"","!"]})]}),d.jsxs(Rs,{children:[d.jsx(je,{type:"button",variant:"outline",onClick:le,disabled:ue,children:"Cancel"}),d.jsx(je,{onClick:r==="csv"?Q:O,disabled:ue||E||(r==="csv"?!h:!o.trim()),children:ue?d.jsxs(d.Fragment,{children:[d.jsx(Xu,{className:"w-4 h-4 mr-2 animate-spin"}),"Importing..."]}):E?d.jsxs(d.Fragment,{children:[d.jsx(Cp,{className:"w-4 h-4 mr-2"}),"Imported!"]}):d.jsxs(d.Fragment,{children:[d.jsx(CD,{className:"w-4 h-4 mr-2"}),"Import Places"]})})]})]})})}function L8({open:t,onOpenChange:e,onAdd:n,currentMapUrl:r}){const[s,o]=C.useState(r||"");C.useEffect(()=>{t&&o(r||"")},[t,r]);const a=c=>{c.preventDefault(),s.trim()&&(n(s.trim()),o(""),e(!1))};return d.jsx(es,{open:t,onOpenChange:e,children:d.jsxs(ts,{className:"w-[95vw] max-w-[500px]",children:[d.jsx(ns,{children:d.jsxs(rs,{className:"flex items-center gap-2",children:[d.jsx(Uw,{className:"w-5 h-5"}),r?"Update Map Link":"Add Map Link"]})}),d.jsxs("form",{onSubmit:a,children:[d.jsxs("div",{className:"space-y-4 py-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{htmlFor:"mapUrl",children:"Google Maps URL"}),d.jsx(it,{id:"mapUrl",placeholder:"Paste your Google Maps link here...",value:s,onChange:c=>o(c.target.value),required:!0}),d.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[d.jsx("p",{children:"Supported link types:"}),d.jsxs("ul",{className:"list-disc ml-4 space-y-1",children:[d.jsx("li",{children:"Google Maps saved list URL (e.g., google.com/maps/d/...)"}),d.jsx("li",{children:"Google My Maps custom map URL"}),d.jsx("li",{children:"Google Maps search or location URL"}),d.jsx("li",{children:"Shared Google Maps list link"})]})]})]}),d.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[d.jsx("p",{className:"text-sm text-blue-900 mb-2",children:d.jsx("strong",{children:" How to create a Google Maps list:"})}),d.jsxs("ol",{className:"text-sm text-blue-800 space-y-1 ml-4 list-decimal",children:[d.jsxs("li",{children:["Open ",d.jsx("a",{href:"https://www.google.com/maps/",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-blue-900",children:"Google Maps"})]}),d.jsx("li",{children:'Click "Saved"  "New list"'}),d.jsx("li",{children:'Add places to your list by searching and clicking "Save"'}),d.jsx("li",{children:'Click "Share list"  Copy the link'}),d.jsx("li",{children:"Paste the link here!"})]})]}),d.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-3",children:d.jsxs("p",{className:"text-sm text-purple-900",children:[d.jsx("strong",{children:"Alternative:"})," You can also create a custom map at ",d.jsx("a",{href:"https://www.google.com/maps/d/",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-purple-900",children:"Google My Maps"})," and paste its URL here."]})})]}),d.jsxs(Rs,{children:[d.jsx(je,{type:"button",variant:"outline",onClick:()=>e(!1),children:"Cancel"}),d.jsx(je,{type:"submit",disabled:!s.trim(),children:r?"Update Map":"Add Map"})]})]})]})})}const pw=3600*1e3;class _8{cache=new Map;generateKey(e,n,r){return`${e}-${n}-${r}`}get(e,n,r){const s=this.generateKey(e,n,r),o=this.cache.get(s);return o?Date.now()-o.timestamp>pw?(this.cache.delete(s),null):o.data:null}set(e,n,r,s){const o=this.generateKey(e,n,r);this.cache.set(o,{data:s,timestamp:Date.now()}),this.cleanupOldEntries()}cleanupOldEntries(){const e=Date.now(),n=[];this.cache.forEach((r,s)=>{e-r.timestamp>pw&&n.push(s)}),n.forEach(r=>this.cache.delete(r)),this.cache.size>50&&Array.from(this.cache.entries()).sort((o,a)=>o[1].timestamp-a[1].timestamp).slice(0,this.cache.size-50).forEach(([o])=>this.cache.delete(o))}clear(){this.cache.clear()}getStats(){const e=Date.now(),n=Array.from(this.cache.entries()).map(([r,s])=>({key:r,age:Math.floor((e-s.timestamp)/1e3)}));return{size:this.cache.size,entries:n}}}const mw=new _8,gw={"Paris, France":{summer:{high:77,low:59,rain:20},winter:{high:45,low:37,rain:50},spring:{high:59,low:46,rain:40},fall:{high:63,low:50,rain:45}},"Tokyo, Japan":{summer:{high:86,low:75,rain:40},winter:{high:50,low:39,rain:30},spring:{high:64,low:52,rain:50},fall:{high:70,low:59,rain:45}},"New York, USA":{summer:{high:84,low:70,rain:35},winter:{high:39,low:28,rain:40},spring:{high:61,low:48,rain:45},fall:{high:64,low:52,rain:40}},"London, UK":{summer:{high:73,low:59,rain:35},winter:{high:46,low:39,rain:55},spring:{high:57,low:45,rain:45},fall:{high:59,low:48,rain:50}},"Barcelona, Spain":{summer:{high:82,low:70,rain:15},winter:{high:57,low:45,rain:30},spring:{high:66,low:54,rain:25},fall:{high:72,low:61,rain:35}},"Dubai, UAE":{summer:{high:106,low:86,rain:5},winter:{high:75,low:61,rain:10},spring:{high:91,low:73,rain:8},fall:{high:93,low:75,rain:7}},"Sydney, Australia":{summer:{high:79,low:66,rain:30},winter:{high:61,low:48,rain:40},spring:{high:72,low:59,rain:35},fall:{high:72,low:61,rain:40}},"Rome, Italy":{summer:{high:88,low:66,rain:15},winter:{high:55,low:41,rain:40},spring:{high:68,low:52,rain:30},fall:{high:73,low:57,rain:35}}};function z8(t){const e=t.getMonth();return e>=5&&e<=7?"summer":e>=11||e<=1?"winter":e>=2&&e<=4?"spring":"fall"}function $8(t,e,n){return e>60?"rainy":e>40?"cloudy":n==="winter"&&t<35&&e>30?"snowy":e>25?"partly-cloudy":"sunny"}function pl(t,e=10){const n=t*(e/100);return Math.round(t+(Math.random()-.5)*2*n)}async function F8(t){try{const r=await(await fetch(`https://api.openweathermap.org/geo/1.0/direct?q=${encodeURIComponent(t)}&limit=1&appid=ec31bf493c3bd25ac932feab7fd4500d`)).json();return r&&r.length>0?{lat:r[0].lat,lon:r[0].lon}:null}catch(e){return console.error("Error fetching coordinates:",e),null}}function yw(t){return t===1e3?"sunny":[1003,1006].includes(t)?"partly-cloudy":[1009,1030,1135,1147].includes(t)?"cloudy":[1063,1150,1153,1180,1183,1186,1189,1192,1195,1240,1243,1246].includes(t)?"rainy":[1087,1273,1276,1279,1282].includes(t)?"stormy":[1066,1114,1117,1210,1213,1216,1219,1222,1225,1255,1258].includes(t)?"snowy":"partly-cloudy"}function vw(t,e){return t>=200&&t<300?"stormy":t>=300&&t<600?"rainy":t>=600&&t<700?"snowy":t>=801&&t<=804?e.includes("few")?"partly-cloudy":"cloudy":t===800?"sunny":"partly-cloudy"}async function B8(t,e){const n=new Date(e+"T00:00:00"),r=new Date;r.setHours(0,0,0,0);const s=Math.floor((n.getTime()-r.getTime())/(1e3*60*60*24));if(s>=0&&s<=3){const v="174a9dee252c438283313638252310";try{const w=await fetch(`https://api.weatherapi.com/v1/forecast.json?key=${v}&q=${encodeURIComponent(t)}&days=3&aqi=no`);if(w.ok){const S=(await w.json()).forecast.forecastday.find(N=>N.date===e);if(S){const N=S.day,j=S.astro,A={date:e,temp:{high:Math.round(N.maxtemp_f),low:Math.round(N.mintemp_f),feelsLike:Math.round(N.avgtemp_f)},condition:yw(N.condition.code),precipitation:Math.round(N.daily_chance_of_rain),humidity:N.avghumidity,windSpeed:Math.round(N.maxwind_mph),isHistoricAverage:!1,daysUntil:s,uvIndex:Math.round(N.uv),visibility:Math.round(N.avgvis_miles),sunrise:j.sunrise,sunset:j.sunset};return S.hour&&S.hour.length>0&&(A.hourlyForecast=S.hour.filter((E,T)=>T%3===0).slice(2,8).map(E=>{const R=new Date(E.time).getHours();return{time:`${R>12?R-12:R}:00 ${R>=12?"PM":"AM"}`,temp:Math.round(E.temp_f),condition:yw(E.condition.code),precipitation:E.chance_of_rain}})),A}}}catch(w){console.error("Error fetching from WeatherAPI:",w)}}if(s>=4&&s<=10)try{const v=await F8(t);if(!v)throw console.log("Could not find coordinates for:",t),new Error("Location not found");const w="ec31bf493c3bd25ac932feab7fd4500d",b=await fetch(`https://api.openweathermap.org/data/2.5/forecast?lat=${v.lat}&lon=${v.lon}&units=imperial&appid=${w}`);if(!b.ok)throw console.error("OpenWeather API error:",b.status,b.statusText),new Error("API request failed");const S=await b.json();console.log("Weather API response for",t,e,":",S);const N=e,j=S.list.filter(A=>A.dt_txt.startsWith(N));if(console.log("Found",j.length,"forecasts for",N),j.length>0){const A=j.map(O=>O.main.temp),E=Math.round(Math.max(...A)),T=Math.round(Math.min(...A)),R=j[Math.floor(j.length/2)],D={date:e,temp:{high:E,low:T,feelsLike:Math.round(R.main.feels_like)},condition:vw(R.weather[0].id,R.weather[0].description),precipitation:Math.round((R.pop||0)*100),humidity:R.main.humidity,windSpeed:Math.round(R.wind.speed),isHistoricAverage:!1,daysUntil:s,uvIndex:Math.round(3+Math.random()*8),visibility:Math.round((R.visibility||1e4)/1609)};if(s>=0&&s<=5&&j.length>0&&(D.hourlyForecast=j.slice(0,6).map(O=>{const Q=new Date(O.dt*1e3).getHours();return{time:`${Q>12?Q-12:Q}:00 ${Q>=12?"PM":"AM"}`,temp:Math.round(O.main.temp),condition:vw(O.weather[0].id,O.weather[0].description),precipitation:Math.round((O.pop||0)*100)}})),s>=0&&s<=3){const H=await(await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${v.lat}&lon=${v.lon}&units=imperial&appid=${w}`)).json();if(H.sys){const Q=new Date(H.sys.sunrise*1e3),ce=new Date(H.sys.sunset*1e3);D.sunrise=Q.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}),D.sunset=ce.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})}}return D}}catch(v){console.error("Error fetching weather from API:",v)}const o=gw[t]||gw["Paris, France"],a=z8(n),c=o[a],u=5,h=pl(c.high,u),p=pl(c.low,u),m=Math.max(0,Math.min(100,pl(c.rain,30))),y=$8((h+p)/2,m,a);return{date:e,temp:{high:Math.round(h),low:Math.round(p)},condition:y,precipitation:Math.round(m),humidity:Math.round(pl(60,20)),windSpeed:Math.round(pl(8,50)),isHistoricAverage:!0,daysUntil:s}}async function V8(t,e,n){const r=mw.get(t,e,n);if(r)return console.log("Weather data retrieved from cache for",t,e,n),r;const s=new Date(e),o=new Date(n),a=[];for(let c=new Date(s);c<=o;c.setDate(c.getDate()+1)){const u=new Date(c).toISOString().split("T")[0],h=await B8(t,u);a.push(h)}return mw.set(t,e,n,a),console.log("Weather data fetched and cached for",t,e,n),a}function xw({trip:t,onBack:e,onUpdate:n,onUpdateDates:r,onUpdateInfo:s,onDelete:o,defaultTab:a="info",defaultScrollPosition:c=0,onTabChange:u}){const[h,p]=C.useState(!1),[m,y]=C.useState(!1),[v,w]=C.useState(null),[b,S]=C.useState(!1),[N,j]=C.useState(!1),[A,E]=C.useState(!1),[T,R]=C.useState(!1),[D,O]=C.useState(!1),[H,Q]=C.useState(null),[ce,de]=C.useState(!1),[le,ue]=C.useState([]),[re,U]=C.useState(!0),[q,z]=C.useState(t.notes||""),[X,Y]=C.useState(a),L=me=>{const[ve,xe,Se]=me.split("-");return new Date(Number(ve),Number(xe)-1,Number(Se)).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})},V=me=>{const[ve,xe,Se]=me.split("-");return new Date(Number(ve),Number(xe)-1,Number(Se)).toLocaleDateString("en-US",{month:"short",day:"numeric"})},ee=((me,ve)=>{const[xe,Se,vt]=me.split("-"),[Qn,xt,vn]=ve.split("-"),hr=new Date(Number(xe),Number(Se)-1,Number(vt)),as=new Date(Number(Qn),Number(xt)-1,Number(vn)),Bn=[];for(let At=new Date(hr);At<=as;At.setDate(At.getDate()+1)){const ls=At.getFullYear(),Zn=String(At.getMonth()+1).padStart(2,"0"),st=String(At.getDate()).padStart(2,"0");Bn.push(`${ls}-${Zn}-${st}`)}return Bn})(t.startDate,t.endDate);C.useEffect(()=>{Y(a)},[t.id]),C.useEffect(()=>{c>0&&setTimeout(()=>{window.scrollTo(0,c)},100)},[t.id]);const he=me=>{u&&u(X,window.scrollY),Y(me)},pe=()=>{u&&u(X,window.scrollY),e()};C.useEffect(()=>{const ve=[...new Set(t.activities.filter(xe=>xe.city).map(xe=>xe.city))].filter(xe=>!t.cities.some(Se=>Se.name===xe));if(ve.length>0){const xe=ve.map(Se=>({name:Se,country:"USA",image:t.cities[0]?.image||t.image}));n({...t,cities:[...t.cities,...xe]})}},[]),C.useEffect(()=>{(async()=>{U(!0);try{const ve=await V8(t.destination,t.startDate,t.endDate);ue(ve)}catch(ve){console.error("Error fetching weather:",ve)}finally{U(!1)}})()},[t.destination,t.startDate,t.endDate]);const J=me=>le.find(ve=>ve.date===me),ie=me=>t.activities.filter(ve=>ve.day===me).sort((ve,xe)=>!ve.time&&!xe.time?0:ve.time?xe.time?ve.time.localeCompare(xe.time):-1:1),ke=(me,ve,xe)=>{const Se=ie(me),[vt]=Se.splice(ve,1);Se.splice(xe,0,vt);const xt=[...t.activities.filter(vn=>vn.day!==me),...Se];n({...t,activities:xt})},fe=()=>t.activities.filter(me=>!me.day),_e=(me,ve)=>{const xe=t.activities.map(Se=>Se.id===me?{...Se,day:ve}:Se);n({...t,activities:xe})},Pe=me=>{const ve={...me,id:Date.now().toString()};let xe={...t,activities:[...t.activities,ve]};if(ve.city&&!t.cities.some(Se=>Se.name===ve.city)){const Se={name:ve.city,country:"USA",image:t.cities[0]?.image||t.image};xe={...xe,cities:[...xe.cities||[],Se]}}if(ve.coordinates){const Se={id:`activity-place-${ve.id}`,name:ve.location,address:ve.address||ve.location,category:ve.placeCategory||"other",notes:`${ve.title} - ${ve.description}`,coordinates:ve.coordinates};xe={...xe,places:[...xe.places||[],Se]}}n(xe)},rt=(me,ve)=>{const xe={...ve,id:me};let Se={...t,activities:t.activities.map(xt=>xt.id===me?xe:xt)};if(xe.city&&!t.cities.some(xt=>xt.name===xe.city)){const xt={name:xe.city,country:"USA",image:t.cities[0]?.image||t.image};Se={...Se,cities:[...Se.cities||[],xt]}}const vt=`activity-place-${me}`,Qn=(t.places||[]).findIndex(xt=>xt.id===vt);if(xe.coordinates){const xt={id:vt,name:xe.location,address:xe.address||xe.location,category:xe.placeCategory||"other",notes:`${xe.title} - ${xe.description}`,coordinates:xe.coordinates};Qn>=0?Se={...Se,places:(Se.places||[]).map(vn=>vn.id===vt?xt:vn)}:Se={...Se,places:[...Se.places||[],xt]}}else Qn>=0&&(Se={...Se,places:(Se.places||[]).filter(xt=>xt.id!==vt)});n(Se)},ct=me=>{const ve=`activity-place-${me}`,xe={...t,activities:t.activities.filter(Se=>Se.id!==me),places:(t.places||[]).filter(Se=>Se.id!==ve)};n(xe)},Ht=me=>{w(me),y(!0)},Ut=me=>{const ve={...t,mapUrl:me};n(ve),wn.success(t.mapUrl?"Google Maps link updated!":"Google Maps link added!")},Wt=me=>{const ve={...me,id:Date.now().toString()},xe={...t,places:[...t.places||[],ve]};n(xe)},Ir=me=>{const ve=me.map((Se,vt)=>({...Se,id:(Date.now()+vt).toString()})),xe={...t,places:[...t.places||[],...ve]};n(xe)},Lt=(me,ve)=>{const xe={...t,places:(t.places||[]).map(Se=>Se.id===me?{...ve,id:me}:Se)};n(xe)},Kt=me=>{const ve={...t,places:(t.places||[]).filter(xe=>xe.id!==me)};n(ve)},yn=me=>{Q(me),O(!0)},yt=me=>{z(me),n({...t,notes:me})},Tn=me=>{switch(me){case"flight":return d.jsx(Cg,{className:"w-4 h-4"});case"hotel":return d.jsx(ef,{className:"w-4 h-4"});case"restaurant":return d.jsx(fo,{className:"w-4 h-4"});case"transport":return d.jsx(ta,{className:"w-4 h-4"});case"activity":return d.jsx(Ur,{className:"w-4 h-4"});default:return d.jsx(Zd,{className:"w-4 h-4"})}},is=me=>{switch(me){case"flight":return"bg-blue-100 text-blue-700";case"hotel":return"bg-purple-100 text-purple-700";case"restaurant":return"bg-orange-100 text-orange-700";case"transport":return"bg-green-100 text-green-700";case"activity":return"bg-pink-100 text-pink-700";default:return"bg-gray-100 text-gray-700"}},Pr=C.useRef({}),Xn=C.useRef(0),Mn=me=>{const ve=[{bg:"#f0fdf4",text:"#15803d",border:"#bbf7d0"},{bg:"#ecfeff",text:"#0e7490",border:"#a5f3fc"},{bg:"#eff6ff",text:"#1d4ed8",border:"#bfdbfe"},{bg:"#faf5ff",text:"#7e22ce",border:"#e9d5ff"},{bg:"#fff7ed",text:"#c2410c",border:"#fed7aa"},{bg:"#fdf2f8",text:"#be185d",border:"#fbcfe8"},{bg:"#fffbeb",text:"#b45309",border:"#fde68a"},{bg:"#eef2ff",text:"#4338ca",border:"#c7d2fe"}];return Pr.current[me]||(Pr.current[me]=ve[Xn.current%ve.length],Xn.current++),Pr.current[me]};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs(je,{variant:"ghost",onClick:pe,className:"mb-4",children:[d.jsx(Hj,{className:"w-4 h-4 mr-2"}),"Back to trips"]}),d.jsx(xI,{trip:t,days:ee,onEditDates:()=>S(!0),formatShortDate:V}),d.jsxs(zg,{value:X,onValueChange:he,className:"w-full",children:[d.jsxs($g,{className:"grid w-full max-w-md grid-cols-3 mb-6",children:[d.jsxs(ri,{value:"info",className:"flex items-center gap-2",children:[d.jsx(Sg,{className:"w-4 h-4"}),"General Info"]}),d.jsxs(ri,{value:"itinerary",className:"flex items-center gap-2",children:[d.jsx(Bw,{className:"w-4 h-4"}),"Itinerary"]}),d.jsxs(ri,{value:"places",className:"flex items-center gap-2",children:[d.jsx(Qe,{className:"w-4 h-4"}),"Places (",(t.places||[]).length,")"]})]}),d.jsx(si,{value:"itinerary",children:d.jsx(I4,{trip:t,days:ee,weatherData:le,loadingWeather:re,getActivitiesForDay:ie,getUnscheduledActivities:fe,getWeatherForDay:J,reorderActivities:ke,assignActivityToDay:_e,handleEditActivity:Ht,deleteActivity:ct,getActivityIcon:Tn,getActivityColor:is,getCityColor:Mn,formatDate:L,onAddActivity:()=>p(!0)})}),d.jsx(si,{value:"info",children:d.jsx(J6,{trip:t,days:ee,notes:q,getUnscheduledActivities:fe,formatShortDate:V,updateNotes:yt,onEditInfo:()=>j(!0),onAddPlace:()=>R(!0),onImportPlaces:()=>de(!0),onAddMap:()=>E(!0)})}),d.jsx(si,{value:"places",children:d.jsx(Q6,{trip:t,days:ee,onAddPlace:()=>R(!0),onImportPlaces:()=>de(!0),onAddMap:()=>E(!0),handleEditActivity:Ht,handleEditPlace:yn,deletePlace:Kt})})]}),d.jsx(d8,{open:h,onOpenChange:p,onAddActivity:Pe,tripDays:ee}),d.jsx(h8,{open:m,onOpenChange:y,onUpdateActivity:rt,activity:v,tripDays:ee}),d.jsx(Mk,{open:b,onOpenChange:S,trip:t,onUpdateDates:r}),d.jsx(jk,{open:N,onOpenChange:j,trip:t,onUpdateInfo:s}),d.jsx(L8,{open:A,onOpenChange:E,onAdd:Ut,currentMapUrl:t.mapUrl}),d.jsx(m8,{open:T,onOpenChange:R,onAdd:Wt}),d.jsx(g8,{open:D,onOpenChange:O,onUpdate:Lt,place:H}),d.jsx(P8,{open:ce,onOpenChange:de,onImport:Ir})]})}function H8({trips:t,onSelectTrip:e}){const[n,r]=C.useState(new Date),s=N=>N.toLocaleDateString("en-US",{month:"long",year:"numeric"}),o=N=>{const j=N.getFullYear(),A=N.getMonth(),E=new Date(j,A,1),R=new Date(j,A+1,0).getDate(),D=E.getDay();return{daysInMonth:R,startingDayOfWeek:D,year:j,month:A}},a=(N,j,A)=>(`${N}${String(j+1).padStart(2,"0")}${String(A).padStart(2,"0")}`,t.filter(E=>{const[T,R,D]=E.startDate.split("-").map(Number),[O,H,Q]=E.endDate.split("-").map(Number),ce=new Date(T,R-1,D),de=new Date(O,H-1,Q),le=new Date(N,j,A);return le>=ce&&le<=de})),c=(N,j,A)=>{const E=new Date;return E.getFullYear()===N&&E.getMonth()===j&&E.getDate()===A},u=()=>{r(new Date(n.getFullYear(),n.getMonth()-1,1))},h=()=>{r(new Date(n.getFullYear(),n.getMonth()+1,1))},{daysInMonth:p,startingDayOfWeek:m,year:y,month:v}=o(n),w=Array.from({length:p},(N,j)=>j+1),b=Array.from({length:m},(N,j)=>j),S=N=>{switch(N){case"upcoming":return"bg-blue-100 text-blue-700 border-blue-200";case"ongoing":return"bg-green-100 text-green-700 border-green-200";case"completed":return"bg-gray-100 text-gray-700 border-gray-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs(Sn,{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h2",{className:"text-gray-900",children:s(n)}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(je,{variant:"outline",size:"sm",onClick:u,children:d.jsx(Qj,{className:"w-4 h-4"})}),d.jsx(je,{variant:"outline",size:"sm",onClick:()=>r(new Date),children:"Today"}),d.jsx(je,{variant:"outline",size:"sm",onClick:h,children:d.jsx(eA,{className:"w-4 h-4"})})]})]}),d.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(N=>d.jsx("div",{className:"text-center text-sm text-gray-600 py-2 border-b",children:N},N)),b.map(N=>d.jsx("div",{className:"min-h-[120px] p-2 bg-gray-50 rounded-lg"},`empty-${N}`)),w.map(N=>{const j=a(y,v,N),A=c(y,v,N);return d.jsxs("div",{className:`min-h-[120px] p-2 rounded-lg border-2 transition-colors ${A?"bg-blue-50 border-blue-300":"bg-white border-gray-200 hover:border-gray-300"}`,children:[d.jsx("div",{className:`text-sm mb-2 ${A?"text-blue-700":"text-gray-700"}`,children:N}),d.jsx("div",{className:"space-y-1",children:j.map(E=>{const T=Cs(E.startDate,E.endDate);return d.jsx("button",{onClick:()=>e(E.id),className:`w-full text-left px-2 py-1 rounded text-xs border transition-colors hover:shadow-sm ${S(T)}`,children:d.jsx("div",{className:"truncate",children:E.name||E.destination})},E.id)})})]},N)})]})]}),t.length>0&&d.jsxs(Sn,{className:"p-6",children:[d.jsx("h3",{className:"text-gray-900 mb-4",children:"All Trips"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(N=>{const[j,A,E]=N.startDate.split("-").map(Number),[T,R,D]=N.endDate.split("-").map(Number),O=new Date(j,A-1,E),H=new Date(T,R-1,D),Q=Math.ceil((H.getTime()-O.getTime())/(1e3*60*60*24))+1,ce=Cs(N.startDate,N.endDate);return d.jsxs("button",{onClick:()=>e(N.id),className:"text-left p-4 rounded-lg border-2 border-gray-200 hover:border-blue-300 hover:shadow-md transition-all group",children:[d.jsx("div",{className:"aspect-video rounded-lg overflow-hidden mb-3",children:d.jsx("img",{src:N.image,alt:N.destination,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"})}),d.jsx("h4",{className:"text-gray-900 mb-1",children:N.name||N.destination}),N.cities&&N.cities.length>0&&d.jsxs("div",{className:"flex flex-wrap gap-1 mb-2",children:[N.cities.slice(0,2).map((de,le)=>d.jsx(at,{variant:"outline",className:"text-xs bg-gray-50",children:de.name},`${de.name}-${le}`)),N.cities.length>2&&d.jsxs(at,{variant:"outline",className:"text-xs bg-gray-50",children:["+",N.cities.length-2]})]}),d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-2",children:[d.jsx(Qe,{className:"w-3 h-3"}),d.jsxs("span",{children:[O.toLocaleDateString("en-US",{month:"short",day:"numeric"})," ","-"," ",H.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(at,{variant:"outline",className:S(ce),children:ce}),d.jsxs("span",{className:"text-xs text-gray-500",children:[Q," days"]})]})]},N.id)})})]}),t.length===0&&d.jsxs(Sn,{className:"p-12 text-center",children:[d.jsx(Qe,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),d.jsx("h3",{className:"text-gray-600 mb-2",children:"No trips planned yet"}),d.jsx("p",{className:"text-gray-500 text-sm",children:"Create your first trip to see it on the calendar"})]})]})}function U8({open:t,onOpenChange:e,onAddTrip:n}){const[r,s]=C.useState([]),[o,a]=C.useState(""),[c,u]=C.useState({name:"",startDate:"",endDate:"",description:"",status:"upcoming"}),h=v=>{const w=v.address.split(",").map(A=>A.trim());let b=v.name,S="Unknown";if(w.length>0&&(S=w[w.length-1],w.length>1&&!v.name.includes(",")&&!w.some(E=>E.toLowerCase().includes(v.name.toLowerCase()))&&w[0].length>2&&(b=w[0])),r.some(A=>A.name.toLowerCase()===b.toLowerCase()&&A.country.toLowerCase()===S.toLowerCase())){wn.info("Destination already added",{description:`${b} is already in your trip`}),a("");return}const j={name:b,country:S,image:"https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=800"};s([...r,j]),a(""),wn.success(" Destination added!",{description:`${b}, ${S}`})},p=v=>{s(r.filter((w,b)=>b!==v))},m=v=>{if(v.preventDefault(),r.length===0)return;const w=r[0],b=r.length>1?`${w.name} +${r.length-1} more`:`${w.name}, ${w.country}`;n({name:c.name.trim()||void 0,destination:b,cities:r,startDate:c.startDate,endDate:c.endDate,description:c.description,image:w.image,status:c.status}),s([]),a(""),u({name:"",startDate:"",endDate:"",description:"",status:"upcoming"}),e(!1)},y=v=>{v||(s([]),a(""),u({name:"",startDate:"",endDate:"",description:"",status:"upcoming"})),e(v)};return d.jsx(es,{open:t,onOpenChange:y,children:d.jsxs(ts,{className:"w-[95vw] max-w-[550px] max-h-[90vh] overflow-y-auto",onInteractOutside:v=>{v.target.closest(".pac-container")&&v.preventDefault()},children:[d.jsxs(ns,{children:[d.jsx(rs,{children:"Plan a New Trip"}),d.jsx(Ro,{children:"Add destinations and details about your upcoming adventure"})]}),d.jsxs("form",{onSubmit:m,children:[d.jsxs("div",{className:"space-y-4 py-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{htmlFor:"tripName",children:"Trip Name (Optional)"}),d.jsx(it,{id:"tripName",placeholder:"e.g., Summer Europe Adventure, Family Vacation...",value:c.name,onChange:v=>u({...c,name:v.target.value})}),d.jsx("p",{className:"text-xs text-gray-500",children:"Leave empty to use city names as the trip name"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{children:"Destinations"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Search and add any cities, regions, or locations worldwide"}),d.jsx(ba,{value:o,onChange:a,onPlaceSelected:h,placeholder:"Search: Lake Como, Woodbridge VA, Paris, Tokyo..."},`autocomplete-${t}`),r.length>0&&d.jsx("div",{className:"flex flex-wrap gap-2 mt-3 p-3 bg-gray-50 rounded-lg border",children:r.map((v,w)=>d.jsxs(at,{variant:"secondary",className:"pl-3 pr-1 py-1.5 bg-blue-100 text-blue-700 hover:bg-blue-200",children:[d.jsxs("span",{className:"mr-2",children:[v.name,", ",v.country]}),d.jsx("button",{type:"button",onClick:()=>p(w),className:"ml-1 rounded-full hover:bg-blue-300 p-0.5",children:d.jsx(nc,{className:"h-3 w-3"})})]},`${v.name}-${w}`))})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{htmlFor:"startDate",children:"Start Date"}),d.jsx(it,{id:"startDate",type:"date",value:c.startDate,onChange:v=>u({...c,startDate:v.target.value}),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{htmlFor:"endDate",children:"End Date"}),d.jsx(it,{id:"endDate",type:"date",value:c.endDate,onChange:v=>u({...c,endDate:v.target.value}),required:!0,min:c.startDate})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{htmlFor:"description",children:"Description"}),d.jsx(xa,{id:"description",placeholder:"What are you planning to do?",value:c.description,onChange:v=>u({...c,description:v.target.value}),rows:3})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{htmlFor:"status",children:"Status"}),d.jsxs(Cr,{value:c.status,onValueChange:v=>u({...c,status:v}),children:[d.jsx(Er,{children:d.jsx(Nr,{})}),d.jsxs(Tr,{children:[d.jsx(G,{value:"upcoming",children:"Upcoming"}),d.jsx(G,{value:"ongoing",children:"Ongoing"}),d.jsx(G,{value:"completed",children:"Completed"})]})]})]})]}),d.jsxs(Rs,{children:[d.jsx(je,{type:"button",variant:"outline",onClick:()=>e(!1),children:"Cancel"}),d.jsx(je,{type:"submit",className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",disabled:r.length===0||!c.startDate||!c.endDate,children:"Create Trip"})]})]})]})})}var W8=(t,e,n,r,s,o,a,c)=>{let u=document.documentElement,h=["light","dark"];function p(v){(Array.isArray(t)?t:[t]).forEach(w=>{let b=w==="class",S=b&&o?s.map(N=>o[N]||N):s;b?(u.classList.remove(...S),u.classList.add(o&&o[v]?o[v]:v)):u.setAttribute(w,v)}),m(v)}function m(v){c&&h.includes(v)&&(u.style.colorScheme=v)}function y(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)p(r);else try{let v=localStorage.getItem(e)||n,w=a&&v==="system"?y():v;p(w)}catch{}},K8=C.createContext(void 0),q8={setTheme:t=>{},themes:[]},G8=()=>{var t;return(t=C.useContext(K8))!=null?t:q8};C.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:o,value:a,themes:c,nonce:u,scriptProps:h})=>{let p=JSON.stringify([n,e,o,t,c,a,r,s]).slice(1,-1);return C.createElement("script",{...h,suppressHydrationWarning:!0,nonce:typeof window>"u"?u:"",dangerouslySetInnerHTML:{__html:`(${W8.toString()})(${p})`}})});const Y8=({...t})=>{const{theme:e="system"}=G8();return d.jsx(AO,{theme:e,className:"toaster group",position:"top-right",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...t})},J8="ohaogcmpqpfglmrejazl",X8="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9oYW9nY21wcXBmZ2xtcmVqYXpsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIxNzk0MTIsImV4cCI6MjA3Nzc1NTQxMn0.lN1vZg3qA414wuLfFYr_L_BUqiEP0XTl8ZPhJ0x0N2k",Q8=`https://${J8}.supabase.co/functions/v1/make-server-2191b2f3`;async function G2(t,e={}){const n=`${Q8}${t}`,r={"Content-Type":"application/json",Authorization:`Bearer ${X8}`,...e.headers};try{const s=await fetch(n,{...e,headers:r});if(!s.ok){const o=await s.json().catch(()=>({}));throw new Error(o.error||`HTTP error! status: ${s.status}`)}return await s.json()}catch(s){throw console.error(`API call failed for ${t}:`,s),s}}async function Z8(){try{console.log("Fetching trips from Supabase...");const t=await G2("/trips");return console.log("Fetched trips:",t.trips.length),t.trips}catch(t){throw console.error("Error fetching trips:",t),t}}async function bw(t){try{console.log("Saving all trips to Supabase:",t.length),await G2("/trips/bulk",{method:"POST",body:JSON.stringify({trips:t})}),console.log("All trips saved successfully")}catch(e){throw console.error("Error saving all trips:",e),e}}const Y2="travel-itinerary-trips",ww="travel-itinerary-version",eV="1.0",xm=[{id:"1",destination:"Paris, France",cities:[{name:"Paris",country:"France",image:"https://images.unsplash.com/photo-1502602898657-3e91760cbb34"},{name:"Lyon",country:"France",image:"https://images.unsplash.com/photo-1524168272322-bf73616d9cb5"}],startDate:"2025-11-15",endDate:"2025-11-22",description:"A week exploring the City of Light",image:"https://images.unsplash.com/photo-1502602898657-3e91760cbb34",status:"upcoming",activities:[{id:"a1",title:"Flight to Paris",time:"10:00 AM",description:"Air France AF1234",location:"Charles de Gaulle Airport",type:"flight",day:"2025-11-15"},{id:"a2",title:"Hotel Check-in",time:"3:00 PM",description:"Le Marais Hotel",location:"4th Arrondissement",type:"hotel",day:"2025-11-15"},{id:"a3",title:"Visit Eiffel Tower",time:"10:00 AM",description:"Pre-booked tickets for summit access",location:"Champ de Mars",type:"activity",day:"2025-11-16"},{id:"a4",title:"Lunch at Le Jules Verne",time:"1:00 PM",description:"Fine dining with a view",location:"Eiffel Tower",type:"restaurant",day:"2025-11-16"}]},{id:"2",destination:"Tokyo, Japan",cities:[{name:"Tokyo",country:"Japan",image:"https://images.unsplash.com/photo-1540959733332-eab4deabeeaf"},{name:"Kyoto",country:"Japan",image:"https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e"},{name:"Osaka",country:"Japan",image:"https://images.unsplash.com/photo-1590559899731-a382839e5549"}],startDate:"2025-12-10",endDate:"2025-12-17",description:"Exploring modern and traditional Japan",image:"https://images.unsplash.com/photo-1540959733332-eab4deabeeaf",status:"upcoming",activities:[]}];function kw(){try{const t=localStorage.getItem(ww),e=localStorage.getItem(Y2);if(!t||!e)return console.log("First time user - loading demo trips"),localStorage.setItem(ww,eV),Yu(xm),xm;const n=JSON.parse(e);return console.log("Loaded trips from localStorage:",n.length),n}catch(t){return console.error("Error loading trips from localStorage:",t),xm}}function Yu(t){try{localStorage.setItem(Y2,JSON.stringify(t)),console.log("Saved trips to localStorage:",t.length)}catch(e){console.error("Error saving trips to localStorage:",e)}}function tV(){const[t,e]=C.useState([]),[n,r]=C.useState(null),[s,o]=C.useState(!1),[a,c]=C.useState({}),[u,h]=C.useState(!0),[p,m]=C.useState("synced");C.useEffect(()=>{y()},[]);const y=async()=>{try{h(!0),m("syncing");const T=await Z8();if(T.length===0){const R=kw();R.length>0?(console.log("Migrating trips from localStorage to Supabase..."),await bw(R),e(R),wn.success(`Migrated ${R.length} trips to cloud storage`)):e([])}else e(T),Yu(T);m("synced")}catch(T){console.error("Failed to load trips from Supabase:",T),wn.error("Failed to sync with cloud. Using local data.");const R=kw();e(R),m("offline")}finally{h(!1)}};C.useEffect(()=>{!u&&t.length>=0&&v()},[t]);const v=async()=>{if(p!=="offline")try{m("syncing"),await bw(t),Yu(t),m("synced")}catch(T){console.error("Failed to sync trips to Supabase:",T),Yu(t),m("offline")}},w=t.find(T=>T.id===n),b=T=>{const R={...T,id:Date.now().toString(),activities:[]};e([...t,R]),wn.success(`Trip to ${T.destination} created!`)},S=T=>{e(t.map(R=>R.id===T.id?T:R))},N=(T,R,D)=>{e(t.map(O=>O.id===T?{...O,startDate:R,endDate:D}:O))},j=(T,R)=>{e(t.map(D=>{if(D.id===T){const O=R.cities[0],H=R.name||(R.cities.length>1?`${O.name} +${R.cities.length-1} more`:`${O.name}, ${O.country}`);return{...D,name:R.name,cities:R.cities,destination:H,description:R.description,image:O.image}}return D}))},A=T=>{const R=t.find(D=>D.id===T);e(t.filter(D=>D.id!==T)),n===T&&r(null),wn.success(`Trip "${R?.destination||"Trip"}" permanently deleted`)},E=(T,R,D)=>{c(O=>({...O,[T]:{tab:R,scrollPosition:D}}))};return d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[d.jsx("header",{className:"border-b bg-white/80 backdrop-blur-sm sticky top-0 z-50",children:d.jsx("div",{className:"container mx-auto px-4 py-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("button",{onClick:()=>r(null),className:"flex items-center gap-3 hover:opacity-80 transition-opacity",children:[d.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-purple-600 p-2 rounded-xl",children:d.jsx(Yx,{className:"w-6 h-6 text-white"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-gray-900",children:"TravelPlanner"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Organize your adventures"})]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[p==="synced"&&d.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[d.jsx(Zi,{className:"w-4 h-4"}),d.jsx("span",{className:"hidden sm:inline",children:"Synced"})]}),p==="syncing"&&d.jsxs("div",{className:"flex items-center gap-1 text-blue-600",children:[d.jsx(Zi,{className:"w-4 h-4 animate-pulse"}),d.jsx("span",{className:"hidden sm:inline",children:"Syncing..."})]}),p==="offline"&&d.jsxs("div",{className:"flex items-center gap-1 text-gray-500",children:[d.jsx(qx,{className:"w-4 h-4"}),d.jsx("span",{className:"hidden sm:inline",children:"Offline"})]})]}),d.jsxs(je,{onClick:()=>o(!0),className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",children:[d.jsx(Yx,{className:"w-4 h-4 mr-2"}),"New Trip"]})]})]})})}),d.jsx("main",{className:"container mx-auto px-4 py-8",children:u?d.jsx("div",{className:"flex items-center justify-center py-12",children:d.jsxs("div",{className:"text-center",children:[d.jsx(Zi,{className:"w-12 h-12 mx-auto mb-4 text-blue-500 animate-pulse"}),d.jsx("p",{className:"text-gray-600",children:"Loading your trips..."})]})}):d.jsxs(zg,{defaultValue:"list",className:"w-full",children:[!n&&d.jsxs($g,{className:"grid w-full max-w-md mx-auto grid-cols-2 mb-8",children:[d.jsxs(ri,{value:"list",className:"flex items-center gap-2",children:[d.jsx(Hw,{className:"w-4 h-4"}),"My Trips"]}),d.jsxs(ri,{value:"calendar",className:"flex items-center gap-2",children:[d.jsx(Pl,{className:"w-4 h-4"}),"Calendar View"]})]}),d.jsx(si,{value:"list",className:"space-y-6",children:w?d.jsx(xw,{trip:w,onBack:()=>r(null),onUpdate:S,onUpdateDates:N,onUpdateInfo:j,onDelete:()=>A(w.id),defaultTab:a[w.id]?.tab||"info",defaultScrollPosition:a[w.id]?.scrollPosition||0,onTabChange:(T,R)=>E(w.id,T,R)}):d.jsx(ZO,{trips:t,onSelectTrip:r,onDeleteTrip:A,onUpdateDates:N,onUpdateInfo:j})}),d.jsx(si,{value:"calendar",className:"space-y-6",children:w?d.jsx(xw,{trip:w,onBack:()=>r(null),onUpdate:S,onUpdateDates:N,onUpdateInfo:j,onDelete:()=>A(w.id),defaultTab:a[w.id]?.tab||"info",defaultScrollPosition:a[w.id]?.scrollPosition||0,onTabChange:(T,R)=>E(w.id,T,R)}):d.jsx(H8,{trips:t,onSelectTrip:r})})]})}),d.jsx("footer",{className:"border-t bg-white/60 backdrop-blur-sm mt-12",children:d.jsx("div",{className:"container mx-auto px-4 py-6",children:d.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[p==="synced"&&d.jsxs("span",{className:"flex items-center gap-1 text-green-600",children:[d.jsx(Zi,{className:"w-3 h-3"}),"Cloud storage enabled"]}),p==="offline"&&d.jsxs("span",{className:"flex items-center gap-1 text-amber-600",children:[d.jsx(qx,{className:"w-3 h-3"}),"Using local storage"]})]}),d.jsxs("p",{children:[t.length," ",t.length===1?"trip":"trips"," saved"]})]})})}),d.jsx(U8,{open:s,onOpenChange:o,onAddTrip:b}),d.jsx(Y8,{})]})}class nV extends C.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("ErrorBoundary caught an error:",e,n),this.setState({errorInfo:n}),this.props.onError&&this.props.onError(e,n)}handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};handleReload=()=>{window.location.reload()};render(){return this.state.hasError?this.props.fallback?this.props.fallback:d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center p-4",children:d.jsx(Sn,{className:"max-w-2xl w-full p-8",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"flex justify-center mb-6",children:d.jsx("div",{className:"bg-red-100 p-4 rounded-full",children:d.jsx(ml,{className:"w-12 h-12 text-red-600"})})}),d.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Something went wrong"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"We encountered an unexpected error. This has been logged and we'll look into it."}),!1,d.jsxs("div",{className:"flex gap-3 justify-center",children:[d.jsxs(je,{onClick:this.handleReset,variant:"outline",className:"flex items-center gap-2",children:[d.jsx(eD,{className:"w-4 h-4"}),"Try Again"]}),d.jsx(je,{onClick:this.handleReload,className:"flex items-center gap-2 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",children:"Reload Page"})]}),d.jsx("p",{className:"text-sm text-gray-500 mt-6",children:"If the problem persists, try refreshing the page or clearing your browser cache."})]})})}):this.props.children}}JM.createRoot(document.getElementById("root")).render(d.jsx(nV,{children:d.jsx(tV,{})}));
